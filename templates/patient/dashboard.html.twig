{% extends 'layout/vue.html.twig' %}

{% block title %}Tableaux de bord Patient{% endblock %}

{% block stylesheets %}
	{{ parent() }}

	{{ encore_entry_link_tags('patient-dashboard-page') }}
{% endblock %}

{% block javascripts %}
	{{ parent() }}

	{{ encore_entry_script_tags('patient-dashboard-page') }}
{% endblock %}

{% block body %}
	{# <section class="pt-6 pt-md-8 pb-8 mb-md-8">
		<div class="container">
			<div class="row">
				<div class="col-12">
					<div class="card card-border border-primary-desat shadow-lg mb-6 mb-md-8 mb-lg-0 lift lift-lg">
						<div class="card-body d-flex flex-center flex-column pt-5 pb-2">
							<div class="d-flex flex-center justify-content-center">
								<span class="badge rounded-pill bg-dark-soft">
									<span class="h6 text-uppercase">
										{{ 'profil' | upper }}
									</span>
								</span>
							</div>
						</span>
						<div class="d-flex flex-row-reverse position-absolute w-100">
							<a class="btn btn-lg btn-rounded-circle btn-primary" href="{{ path('app_user_edit', {'userType' : 'patient', 'id' : patient.id }) }}">
								<i class="fe fe-edit"></i>
							</a>
						</div>
					</div>
					<div class="d-flex flex-center flex-column">
						<div class="d-flex justify-content-center mt-4">
							<div class="avatar avatar-xxl">
								<img class="avatar-img rounded-circle" src="{{ patient.avatarUrl|default('/img/avatar-default.svg') }}" alt="avatar">
							</div>
						</div>
						<div>
							<p class="text-center mt-3 mb-0">
								{{ patient.firstname }}
								{{ patient.lastname }}
							</p>
							<p class="text-center d-block small text-truncate text-gray-700 m-0" href="#!">
								{{ patient.email }}
							</p>
							<p class="text-center d-block small text-truncate text-gray-700" href="#!">
								<div class="text-center d-flex align-items-center flex-column border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 m-5">
									<div class="border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 m-1">
										<div class="fs-6 fw-boldest text-gray-700">{{ 'Inscrit depuis le' | upper }}</div>
										<div class="fw-bold text-gray-400">{{ patient.createdAt | date("d/m/Y") }}</div>
									</div>
									<div class="border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 m-1">
										<div class="fs-6 fw-boldest text-gray-700">{{ 'âge' | upper }}</div>
										<div class="fw-bold text-gray-400">
											{% if patient.birthdate is null %}
												<div class="badge bg-warning-soft my-1 text-primary" style="white-space: normal;">
													<div class="badge badge-rounded-circle bg-warning-soft">
														<i class="fe fe-alert-triangle"></i>
													</div>
													Pour vous préscrire les meilleurs programmes, nous avons besoin de connaitre votre âge.
												</div>
											{% endif %}
											{{ patient.birthdate | age }}
										</div>
									</div>
									<div class="border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 m-1">
										<div class="fs-6 fw-boldest text-gray-700">{{ 'Kinésitherapeute' | upper }}</div>
										<div class="fw-bold text-gray-400">
											{% if patient.doctor %}
												<a href="" class="text-gray-400">
													<div>
														<div class="badge badge-rounded-circle bg-secondary-soft">
															<i class="fe fe-user text-muted"></i>
														</div>
														{{ patient.doctor.firstname }}
														{{ patient.doctor.lastname }}
													</div>
												</a>
											{% else %}
												<div class="badge my-1 text-gray-600" style="white-space: normal;">
													<div class="badge badge-rounded-circle">
														<i class="fe fe-user-x text-muted"></i>
													</div>
													Pour l'instant, aucun Kinésitherapeute ne s'occupe<br>
													de vous.
												</div>
											{% endif %}
										</div>
									</div>
								</div>
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section> #}

	<div class="container my-8">

		<div id="vue"></div>
	</div>
{% endblock %}
{% block vueData %}
	{
		"patient": {{ patient|serialize('json', {'groups': 'patient_read'})|raw }}
	}
{% endblock %}
