(self.webpackChunk=self.webpackChunk||[]).push([[459],{154:function(e,t,s){"use strict";var i=s(538),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container",attrs:{id:"worksheet"}},[e.loading?s("div",{staticClass:"loading-block"},[s("div",[e.patient?s("div",{staticClass:"prescri-for-patient-content"},[s("div",{staticClass:"prescri-for-patient",class:{"multiple-contexte":e.worksheetsIds.length>1}},[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2)])]):e._e(),e._v(" "),e.worksheetsIds.length>1?s("div",[s("div",{staticClass:"tab-worksheet-header loading-gray"},[s("span",{staticClass:"worksheet-title-zone"},[s("span",[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24px",height:"24px"}},[s("path",{attrs:{d:"M19,3H5C3.895,3,3,3.895,3,5v14c0,1.105,0.895,2,2,2h10l6-6V5C21,3.895,20.105,3,19,3z M19,14h-5v5H5V5h14V14z"}})]),e._v(" "),s("span",{staticClass:"worksheet-title loading w-35"},[e._v("XxxxxxxxXxxxxxxxXxxxxxxxXxxxxxxxx")])]),e._v(" "),s("span",{staticClass:"vs-icon-arrow"})]),e._v(" "),s("button",{staticClass:"worksheet-remove"},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"48px",height:"48px"}},[s("path",{attrs:{d:"M 24 4 C 20.491685 4 17.570396 6.6214322 17.080078 10 L 6.5 10 A 1.50015 1.50015 0 1 0 6.5 13 L 8.6367188 13 L 11.15625 39.029297 C 11.43025 41.862297 13.785813 44 16.632812 44 L 31.367188 44 C 34.214187 44 36.56875 41.862297 36.84375 39.029297 L 39.363281 13 L 41.5 13 A 1.50015 1.50015 0 1 0 41.5 10 L 30.919922 10 C 30.429604 6.6214322 27.508315 4 24 4 z M 24 7 C 25.879156 7 27.420767 8.2681608 27.861328 10 L 20.138672 10 C 20.579233 8.2681608 22.120844 7 24 7 z M 19.5 18 C 20.328 18 21 18.671 21 19.5 L 21 34.5 C 21 35.329 20.328 36 19.5 36 C 18.672 36 18 35.329 18 34.5 L 18 19.5 C 18 18.671 18.672 18 19.5 18 z M 28.5 18 C 29.328 18 30 18.671 30 19.5 L 30 34.5 C 30 35.329 29.328 36 28.5 36 C 27.672 36 27 35.329 27 34.5 L 27 19.5 C 27 18.671 27.672 18 28.5 18 z"}})])])]),e._v(" "),s("div",{staticClass:"tab-worksheet-header loading-gray"},[s("span",{staticClass:"worksheet-title-zone"},[s("span",[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24px",height:"24px"}},[s("path",{attrs:{d:"M19,3H5C3.895,3,3,3.895,3,5v14c0,1.105,0.895,2,2,2h10l6-6V5C21,3.895,20.105,3,19,3z M19,14h-5v5H5V5h14V14z"}})]),e._v(" "),s("span",{staticClass:"worksheet-title loading w-15"},[e._v("XxxxxxxxXxxxxxXxxxx")])]),e._v(" "),s("span",{staticClass:"vs-icon-arrow"})]),e._v(" "),s("button",{staticClass:"worksheet-remove"},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"48px",height:"48px"}},[s("path",{attrs:{d:"M 24 4 C 20.491685 4 17.570396 6.6214322 17.080078 10 L 6.5 10 A 1.50015 1.50015 0 1 0 6.5 13 L 8.6367188 13 L 11.15625 39.029297 C 11.43025 41.862297 13.785813 44 16.632812 44 L 31.367188 44 C 34.214187 44 36.56875 41.862297 36.84375 39.029297 L 39.363281 13 L 41.5 13 A 1.50015 1.50015 0 1 0 41.5 10 L 30.919922 10 C 30.429604 6.6214322 27.508315 4 24 4 z M 24 7 C 25.879156 7 27.420767 8.2681608 27.861328 10 L 20.138672 10 C 20.579233 8.2681608 22.120844 7 24 7 z M 19.5 18 C 20.328 18 21 18.671 21 19.5 L 21 34.5 C 21 35.329 20.328 36 19.5 36 C 18.672 36 18 35.329 18 34.5 L 18 19.5 C 18 18.671 18.672 18 19.5 18 z M 28.5 18 C 29.328 18 30 18.671 30 19.5 L 30 34.5 C 30 35.329 29.328 36 28.5 36 C 27.672 36 27 35.329 27 34.5 L 27 19.5 C 27 18.671 27.672 18 28.5 18 z"}})])])])]):e._e(),e._v(" "),e._m(3)])]):s("div",[e.patient?s("div",{staticClass:"prescri-for-patient-content"},[s("div",{staticClass:"prescri-for-patient",class:{"multiple-contexte":e.getWorksheets.length>1}},[s("div",{staticClass:"label"},[e.getWorksheets.length>1?s("span",[e._v(e._s(e.getWorksheets.length)+" prescriptions")]):s("span",[e._v("prescription")]),e._v(" "),s("span",[e._v("pour")])]),e._v(" "),s("vs-avatar",{staticClass:"user-avatar",attrs:{size:"26",circle:""}},[s("img",{attrs:{src:e.patient.avatarUrl?e.patient.avatarUrl:"/img/avatar-default.svg",alt:"Avatar de "+e.patient.firstname+" "+e.patient.lastname}})]),e._v(" "),s("div",{staticClass:"user-name"},[s("div",[e._v("\n                        "+e._s(e.getUserName(e.patient))+"\n                    ")])])],1)]):e._e(),e._v(" "),e._l(e.getWorksheets,(function(t,i){return s("div",{key:i},[e.getWorksheets.length>1?s("div",{staticClass:"tab-worksheet-header",class:{active:e.currentOpenWorksheet==t.id,error:t.titleIsEmptyMessage||t.partOfBodyIsEmptyMessage||t.exercisesIsEmptyMessage}},[s("span",{staticClass:"worksheet-title-zone",on:{click:function(s){return e.toggleCurrentOpenWorksheet(t.id)}}},[s("span",[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24px",height:"24px"}},[s("path",{attrs:{d:"M19,3H5C3.895,3,3,3.895,3,5v14c0,1.105,0.895,2,2,2h10l6-6V5C21,3.895,20.105,3,19,3z M19,14h-5v5H5V5h14V14z"}})]),e._v(" "),s("span",{staticClass:"worksheet-title"},[e._v(e._s(e.worksheetTitleGeneration(t.title,t.id)))])]),e._v(" "),s("span",{staticClass:"vs-icon-arrow"})]),e._v(" "),s("button",{staticClass:"worksheet-remove",on:{click:function(s){return e.removeWorksheet(t)}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"48px",height:"48px"}},[s("path",{attrs:{d:"M 24 4 C 20.491685 4 17.570396 6.6214322 17.080078 10 L 6.5 10 A 1.50015 1.50015 0 1 0 6.5 13 L 8.6367188 13 L 11.15625 39.029297 C 11.43025 41.862297 13.785813 44 16.632812 44 L 31.367188 44 C 34.214187 44 36.56875 41.862297 36.84375 39.029297 L 39.363281 13 L 41.5 13 A 1.50015 1.50015 0 1 0 41.5 10 L 30.919922 10 C 30.429604 6.6214322 27.508315 4 24 4 z M 24 7 C 25.879156 7 27.420767 8.2681608 27.861328 10 L 20.138672 10 C 20.579233 8.2681608 22.120844 7 24 7 z M 19.5 18 C 20.328 18 21 18.671 21 19.5 L 21 34.5 C 21 35.329 20.328 36 19.5 36 C 18.672 36 18 35.329 18 34.5 L 18 19.5 C 18 18.671 18.672 18 19.5 18 z M 28.5 18 C 29.328 18 30 18.671 30 19.5 L 30 34.5 C 30 35.329 29.328 36 28.5 36 C 27.672 36 27 35.329 27 34.5 L 27 19.5 C 27 18.671 27.672 18 28.5 18 z"}})])])]):e._e(),e._v(" "),s("transition",{attrs:{name:"height4"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.currentOpenWorksheet==t.id,expression:"currentOpenWorksheet == worksheet.id"}],staticClass:"tab-worksheet-content",class:{"multiple-contexte":e.getWorksheets.length>1}},[s("header",[s("div",[s("div",["voir"===e.action?s("div",{staticClass:"title-view"},[s("div",{staticClass:"title"},[s("h1",[e._v(e._s(t.title))])]),e._v(" "),t.partOfBody?s("TagPartOfBody",{attrs:{partOfBody:t.partOfBody}}):e._e()],1):s("div",{staticClass:"title"},[s("vs-input",{class:{error:t.titleIsEmptyMessage},attrs:{"label-placeholder":"Titre de la fiche",type:"text"},on:{keyup:function(e){t.titleIsEmptyMessage=null}},model:{value:t.title,callback:function(s){e.$set(t,"title",s)},expression:"worksheet.title"}}),e._v(" "),s("div",{staticClass:"select-filter-block",class:{error:t.partOfBodyIsEmptyMessage}},[s("SelectPartOfBody",{attrs:{partOfBody:t.partOfBody},on:{partOfBodySelected:function(s){return e.setPartOfBody(s,t)},partOfBodyReset:function(s){return e.resetPoB(s,t)}}})],1)],1)]),e._v(" "),"voir"!==e.action?s("div",{staticClass:"worksheet-params"},[s("div",{staticClass:"worksheet-details",class:{disabled:"edition"===e.action&&t.checkIfWorksheetSessionsExist}},["edition"===e.action&&t.checkIfWorksheetSessionsExist?s("div",{staticClass:"avert-sessions-start"},[s("i",{staticClass:"kiv-info icon-17"}),e._v(" "),s("p",[e._v("\n                                            Vous ne pouvez plus modifier la\n                                            durée de la prescription car le\n                                            patient a déjà démarré ses\n                                            sessions.\n                                        ")])]):e._e(),e._v(" "),s("div",{staticClass:"worksheet-timing-perweek"},[s("i",{staticClass:"kiv-calendar icon-10"}),e._v(" "),s("vs-input",{attrs:{id:"perWeek","label-placeholder":"X / sem.",type:"number",min:"1",max:"7"},on:{blur:function(s){return e.checkIfDurationValueIsEmptyOrNull(t.perWeek,s,t)}},model:{value:t.perWeek,callback:function(s){e.$set(t,"perWeek",s)},expression:"worksheet.perWeek"}})],1),e._v(" "),s("div",{staticClass:"worksheet-timing-perday"},[s("i",{staticClass:"kiv-calendar icon-10"}),e._v(" "),s("vs-input",{attrs:{id:"perDay","label-placeholder":"X / jour",type:"number",min:"1",max:"3"},on:{blur:function(s){return e.checkIfDurationValueIsEmptyOrNull(t.perDay,s,t)}},model:{value:t.perDay,callback:function(s){e.$set(t,"perDay",s)},expression:"worksheet.perDay"}})],1),e._v(" "),s("div",{staticClass:"worksheet-period"},[s("i",{staticClass:"kiv-clock icon-11"}),e._v(" "),s("vs-input",{attrs:{id:"duration","label-placeholder":"Durée (sem.)",type:"number",min:"1",max:"52"},on:{blur:function(s){return e.checkIfDurationValueIsEmptyOrNull(t.duration,s,t)}},model:{value:t.duration,callback:function(s){e.$set(t,"duration",s)},expression:"worksheet.duration"}})],1)])]):e._e()])]),e._v(" "),s("main",[s("section",{class:{"no-mt":"voir"===e.action,error:t.exercisesIsEmptyMessage},attrs:{id:"exercises-playlist"}},[s("ExercisesPlaylist",{attrs:{doctor:e.doctor,loading:e.loading,action:e.action,worksheet:t,exercises:t.exercises,loadingVideos:e.loadingVideos,videos:e.videos,worksheetIndex:i,csrfTokenRemoveExercise:e.csrfTokenRemoveExercise,csrfTokenSaveFFMKRRequestToken:e.csrfTokenSaveFFMKRRequestToken},on:{"videos-selection":function(e){t.exercisesIsEmptyMessage=null}}})],1)])])])],1)})),e._v(" "),s("div",{staticClass:"btn-valid",class:{disabled:e.btnLoadingValidEditWorksheet||e.btnLoadingValidCreateWorksheet||e.loading}},["edition"===e.action?s("vs-button",{attrs:{loading:e.btnLoadingValidEditWorksheet},on:{click:e.validEdit}},[s("i",{staticClass:"fas fa-check-circle"}),e._v("\n                Valider les modifications\n            ")]):e._e(),e._v(" "),"creation"!==e.action||e.patient?e._e():s("vs-button",{attrs:{loading:e.btnLoadingValidCreateWorksheet},on:{click:e.validCreate}},[s("i",{staticClass:"fas fa-check-circle"}),e._v("\n                Créer la fiche\n            ")]),e._v(" "),"creation"===e.action&&e.patient?s("vs-button",{attrs:{loading:e.btnLoadingValidCreateWorksheet},on:{click:e.validCreate}},[s("i",{staticClass:"fas fa-check-circle"}),e._v(" "),e.getWorksheets.length>1?s("span",[e._v("Créer les prescriptions")]):s("span",[e._v("Créer la prescription")])]):e._e()],1)],2),e._v(" "),s("vs-dialog",{model:{value:e.modalConfirmRemoveWorksheet,callback:function(t){e.modalConfirmRemoveWorksheet=t},expression:"modalConfirmRemoveWorksheet"}},[s("p",{staticClass:"modal-confirm-text"},[e._v("Confirmer la suppression de")]),e._v(" "),s("div",{staticClass:"modal-confirm-detail remove-item"},[s("div",{staticClass:"modal-confirm-icon remove-item"},[s("i",{staticClass:"fas fa-trash"})]),e._v(" "),s("p",[s("span",[e._v("\n                    "+e._s(e.removeWorksheetDetails?e.worksheetTitleGeneration(e.removeWorksheetDetails.title,e.removeWorksheetDetails.id):"")+"\n                ")])])]),e._v(" "),s("div",{staticClass:"modal-confirm-buttons"},[s("vs-button",{staticClass:"secondary",on:{click:function(t){e.modalConfirmRemoveWorksheet=!1}}},[e._v("\n                Annuler\n            ")]),e._v(" "),s("vs-button",{on:{click:e.validRemoveWorksheet}},[e._v(" Confirmer ")])],1)])],1)};o._withStripped=!0;s(1249),s(6755),s(2222),s(4747),s(561),s(7042),s(7327),s(1038),s(8783),s(7941),s(2526),s(5003),s(9337),s(1817),s(1539),s(2165),s(6992),s(3948),s(8309);var a=s(4098),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"exercises-list-container"},[s("h2",[e._v(e._s(e.getExercises.length+" exercice"+(e.getExercises.length>1?"s":"")))]),e._v(" "),e.loading?s("div",[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2)]):s("div",{staticClass:"exercises-list",class:{"scroll-snap":!e.exercisePositionActiveId},attrs:{id:"exercises-list-"+e.worksheetIndex}},e._l(e.getExercises,(function(t){return s("div",{key:t.id,staticClass:"exercise",class:{active:t.isActive},attrs:{id:"exercise-"+e.worksheetIndex+"-"+t.position}},["voir"!==e.action?s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.resetExercisePositionActiveId,expression:"resetExercisePositionActiveId"}],staticClass:"exercise-position",class:{active:e.exercisePositionActiveId==t.id}},[0!=t.position?s("vs-button",{staticClass:"btn-up-position",attrs:{circle:"",icon:""},on:{click:function(s){return e.upPosition(t)}}},[s("i",{staticClass:"fas fa-sort-up"})]):e._e(),e._v(" "),s("div",{staticClass:"num-position",on:{click:function(s){e.exercisePositionActiveId=e.exercisePositionActiveId==t.id?null:t.id}}},[e._v(e._s(t.position+1))]),e._v(" "),t.position!=e.getExercises.length-1?s("vs-button",{staticClass:"btn-down-position",attrs:{circle:"",icon:""},on:{click:function(s){return e.downPosition(t)}}},[s("i",{staticClass:"fas fa-sort-down"})]):e._e()],1):e._e(),e._v(" "),s("div",{staticClass:"input-h2"},[s("h2",[s("span",[e._v(e._s(t.video.name))])]),e._v(" "),"voir"!==e.action&&e.exercisePositionActiveId!=t.id?s("button",{staticClass:"remove-exercise",on:{click:function(s){return e.removeExercise(t)}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"48px",height:"48px"}},[s("path",{attrs:{d:"M 24 4 C 20.491685 4 17.570396 6.6214322 17.080078 10 L 6.5 10 A 1.50015 1.50015 0 1 0 6.5 13 L 8.6367188 13 L 11.15625 39.029297 C 11.43025 41.862297 13.785813 44 16.632812 44 L 31.367188 44 C 34.214187 44 36.56875 41.862297 36.84375 39.029297 L 39.363281 13 L 41.5 13 A 1.50015 1.50015 0 1 0 41.5 10 L 30.919922 10 C 30.429604 6.6214322 27.508315 4 24 4 z M 24 7 C 25.879156 7 27.420767 8.2681608 27.861328 10 L 20.138672 10 C 20.579233 8.2681608 22.120844 7 24 7 z M 19.5 18 C 20.328 18 21 18.671 21 19.5 L 21 34.5 C 21 35.329 20.328 36 19.5 36 C 18.672 36 18 35.329 18 34.5 L 18 19.5 C 18 18.671 18.672 18 19.5 18 z M 28.5 18 C 29.328 18 30 18.671 30 19.5 L 30 34.5 C 30 35.329 29.328 36 28.5 36 C 27.672 36 27 35.329 27 34.5 L 27 19.5 C 27 18.671 27.672 18 28.5 18 z"}})])]):e._e()]),e._v(" "),s("div",{staticClass:"thumbnail-wrapper",on:{click:function(s){return e.openVideoPlayer(t)}}},[s("div",{staticClass:"video-link"},[s("svg",{attrs:{height:"512pt",viewBox:"0 -77 512.00213 512",width:"512pt",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{id:"test",d:"m501.453125 56.09375c-5.902344-21.933594-23.195313-39.222656-45.125-45.128906-40.066406-10.964844-200.332031-10.964844-200.332031-10.964844s-160.261719 0-200.328125 10.546875c-21.507813 5.902344-39.222657 23.617187-45.125 45.546875-10.542969 40.0625-10.542969 123.148438-10.542969 123.148438s0 83.503906 10.542969 123.148437c5.90625 21.929687 23.195312 39.222656 45.128906 45.128906 40.484375 10.964844 200.328125 10.964844 200.328125 10.964844s160.261719 0 200.328125-10.546875c21.933594-5.902344 39.222656-23.195312 45.128906-45.125 10.542969-40.066406 10.542969-123.148438 10.542969-123.148438s.421875-83.507812-10.546875-123.570312zm0 0",fill:"#f00"}}),e._v(" "),s("path",{attrs:{id:"test2",d:"m204.96875 256 133.269531-76.757812-133.269531-76.757813zm0 0",fill:"#fff"}})])]),e._v(" "),s("div",{staticClass:"thumbnail",style:{backgroundImage:"url('"+t.video.thumbnailUrl+"')"}})]),e._v(" "),s("div",{staticClass:"content"},["voir"!==e.action?s("div",{staticClass:"details"},[s("div",{staticClass:"series-reps"},[s("div",{staticClass:"series"},[s("i",{staticClass:"kiv-series icon-18"}),e._v(" "),s("vs-input",{attrs:{"label-placeholder":"Nb de séries",type:"number",min:"1"},on:{blur:function(s){return e.checkIfValueIsEmptyOrNull(t)}},model:{value:t.numberOfSeries,callback:function(s){e.$set(t,"numberOfSeries",s)},expression:"exercise.numberOfSeries"}})],1),e._v(" "),s("div",{staticClass:"reps"},[s("i",{staticClass:"kiv-reps icon-19"}),e._v(" "),s("vs-input",{attrs:{"label-placeholder":"Nb de répétitions",type:"number",min:"1"},on:{blur:function(s){return e.checkIfValueIsEmptyOrNull(t)}},model:{value:t.numberOfRepetitions,callback:function(s){e.$set(t,"numberOfRepetitions",s)},expression:"exercise.numberOfRepetitions"}})],1)])]):e._e(),e._v(" "),"voir"!==e.action?s("div",{staticClass:"options"},[s("div",{staticClass:"option",class:{active:t.optionActive,hidden:!t.video.options.length}},[s("span",[e._v("Option")]),e._v(" "),s("vs-switch",{on:{change:function(s){return e.checkValue(t.optionActive,t,"option")}},model:{value:t.optionActive,callback:function(s){e.$set(t,"optionActive",s)},expression:"exercise.optionActive"}}),e._v(" "),s("div",{staticClass:"kiv-select",class:{disabled:!t.optionActive}},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.option,expression:"exercise.option"}],staticClass:"select-options",on:{change:function(s){var i=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(t,"option",s.target.multiple?i:i[0])}}},[s("option",{attrs:{value:""}}),e._v(" "),e._l(t.video.options,(function(t,i){return s("option",{key:i,attrs:{label:t.name},domProps:{value:t.name}},[e._v("\n                                        "+e._s(t.name)+"\n                                    ")])}))],2),e._v(" "),s("div",{staticClass:"placeholder",class:{hidden:t.option}},[e._v("\n                                    Sélectionner\n                                ")]),e._v(" "),s("div",{staticClass:"white-background"})])],1),e._v(" "),s("div",{staticClass:"hold",class:{active:t.holdActive}},[s("span",[e._v("Tenir")]),e._v(" "),s("vs-switch",{on:{change:function(s){return e.checkValue(t.holdActive,t,"hold")}},model:{value:t.holdActive,callback:function(s){e.$set(t,"holdActive",s)},expression:"exercise.holdActive"}}),e._v(" "),s("vs-input",{class:{disabled:!t.holdActive},attrs:{"label-placeholder":"Secondes",type:"number"},model:{value:t.hold,callback:function(s){e.$set(t,"hold",s)},expression:"exercise.hold"}})],1),e._v(" "),s("div",{staticClass:"tempo",class:{active:t.tempoActive}},[s("span",[e._v("Tempo")]),e._v(" "),s("vs-switch",{on:{change:function(s){return e.checkValue(t.tempoActive,t,"tempo")}},model:{value:t.tempoActive,callback:function(s){e.$set(t,"tempoActive",s)},expression:"exercise.tempoActive"}}),e._v(" "),s("vs-input",{class:{disabled:!t.tempoActive},attrs:{"label-placeholder":"(ex: 2 - 0 - 1 - 0)",type:"text"},model:{value:t.tempo,callback:function(s){e.$set(t,"tempo",s)},expression:"exercise.tempo"}}),e._v(" "),s("vs-tooltip",{staticClass:"kiv-help",scopedSlots:e._u([{key:"tooltip",fn:function(){return[e._v("\n                                    Le tempo, c'est tout simplement le\n                                    rythme de la répétition, indiquant que\n                                    le mouvement doit être lent, explosif ou\n                                    contrôlé.\n                                ")]},proxy:!0}],null,!0)},[s("div",{staticClass:"icon-help",class:{active:t.tempoActive}},[s("i",{staticClass:"fas fa-question"})])])],1)]):e._e(),e._v(" "),"voir"===e.action?s("div",{staticClass:"details"},[s("div",{staticClass:"series-reps"},[s("div",{staticClass:"series"},[s("i",{staticClass:"kiv-series icon-18"}),s("span",[e._v(e._s(t.numberOfSeries))]),e._v("\n                                séries\n                            ")]),e._v(" "),t.numberOfRepetitions?s("div",{staticClass:"reps"},[s("i",{staticClass:"kiv-reps icon-19"}),s("span",[e._v(e._s(t.numberOfRepetitions))]),e._v("\n                                répétitions\n                            ")]):e._e()]),e._v(" "),t.option?s("div",{staticClass:"option"},[e._v("\n                            Options : "),s("span",[e._v(e._s(t.option))])]):e._e(),e._v(" "),t.hold?s("div",{staticClass:"hold"},[e._v("\n                            Tenir : "),s("span",[e._v(e._s(t.hold)+"s")])]):e._e(),e._v(" "),t.tempo?s("div",{staticClass:"tempo"},[e._v("\n                            Tempo : "),s("span",[e._v(e._s(t.tempo))]),e._v(" "),s("vs-tooltip",{staticClass:"kiv-help",scopedSlots:e._u([{key:"tooltip",fn:function(){return[e._v("\n                                    Le tempo, c'est tout simplement le\n                                    rythme de la répétition, indiquant que\n                                    le mouvement doit être lent, explosif ou\n                                    contrôlé.\n                                ")]},proxy:!0}],null,!0)},[s("div",{staticClass:"icon-help"},[s("i",{staticClass:"fas fa-question"})])])],1):e._e()]):e._e()])])})),0),e._v(" "),"voir"!==e.action?s("div",{staticClass:"add-videos"},[e.$parent.prescriProcess?e._e():s("vs-tooltip",{scopedSlots:e._u([{key:"tooltip",fn:function(){return[e._v(" Ajouter des vidéos ")]},proxy:!0}],null,!1,566032742)},[s("vs-button",{attrs:{circle:"",floating:""},on:{click:function(t){return e.openVideoLibrary()}}},[s("plus-icon",{staticClass:"custom-class",attrs:{size:"3x"}})],1)],1)],1):e._e()]),e._v(" "),s("transition",{attrs:{name:"fade"}},[e.videoPlayerToggle?s("VideoPlayer",{attrs:{doctor:e.doctor,worksheet:e.getWorksheet,exercise:e.exerciseForPlaying,exercises:e.getExercises,lastExercise:e.getTheLastExercise},on:{closeVideoPlayer:e.closeVideoPlayer}}):e._e()],1),e._v(" "),s("transition",{attrs:{name:"fade"}},[e.videoLibraryToggle?s("VideoLibrary",{attrs:{doctor:e.doctor,loadingVideos:e.loadingVideos,videos:e.videos,csrfTokenSaveFFMKRRequestToken:e.csrfTokenSaveFFMKRRequestToken},on:{closeVideoLibrary:e.closeVideoLibrary,"videos-selection":e.addVideosSelection}}):e._e()],1),e._v(" "),s("vs-dialog",{model:{value:e.modalConfirmRemoveExercise,callback:function(t){e.modalConfirmRemoveExercise=t},expression:"modalConfirmRemoveExercise"}},[s("p",{staticClass:"modal-confirm-text"},[e._v("Confirmer la suppression de")]),e._v(" "),s("div",{staticClass:"modal-confirm-detail remove-item"},[s("div",{staticClass:"modal-confirm-icon remove-item"},[s("i",{staticClass:"fas fa-trash"})]),e._v(" "),s("p",[s("span",[e._v("\n                    "+e._s(e.removeExerciseDetails.video.name)+"\n                ")])])]),e._v(" "),s("div",{staticClass:"modal-confirm-buttons"},[s("vs-button",{staticClass:"secondary",on:{click:function(t){e.modalConfirmRemoveExercise=!1}}},[e._v("\n                Annuler\n            ")]),e._v(" "),s("vs-button",{class:{disabled:e.btnLoadingValidRemoveExercise},attrs:{loading:e.btnLoadingValidRemoveExercise},on:{click:e.validRemoveExercise}},[e._v("\n                Confirmer\n            ")])],1)])],1)};n._withStripped=!0;s(9653),s(9714),s(9826);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"video-player"},[s("button",{staticClass:"btn-close-player",on:{click:e.closeVideoPlayer}},[s("i",{staticClass:"kiv-x icon-21"})]),e._v(" "),s("div",{staticClass:"content"},[s("div",[s("div",{key:"video",staticClass:"video-frame"},[s("youtube",{ref:"youtube",attrs:{"player-vars":e.playerVars,"video-id":e.getExercise.video.youtubeId},on:{ended:e.videoEnded}})],1)])]),e._v(" "),s("transition",{attrs:{name:"fade"}},[s("div",{staticClass:"bottom-bar"},[s("div",{staticClass:"bottom-bar-content"},[s("div",{staticClass:"exercise-details"},[s("div",{staticClass:"exercise-count"},[e._v("\n                        Exercice "+e._s(e.getExercise.position+1)+"/"+e._s(e.getExercises?e.getExercises.length:0)+"\n                    ")]),e._v(" "),s("span",{staticClass:"tiret"},[e._v("-")]),e._v(" "),s("div",{staticClass:"exercise-name"},[e._v("\n                        "+e._s(e.getExercise.video.name)+"\n                    ")])]),e._v(" "),s("div",{staticClass:"exercise-series-reps-options"},[s("div",{staticClass:"series-reps"},[s("div",{staticClass:"series"},[s("i",{staticClass:"kiv-series icon-18"}),s("span",[e._v(e._s(e.getExercise.numberOfSeries))]),e._v("\n                            séries\n                        ")]),e._v(" "),s("div",{staticClass:"reps"},[s("i",{staticClass:"kiv-reps icon-19"}),s("span",[e._v(e._s(e.getExercise.numberOfRepetitions))]),e._v("\n                            répétitions\n                        ")])]),e._v(" "),s("div",{staticClass:"second-details"},[e.getExercise.option?s("div",{staticClass:"option"},[e._v("\n                            Options : "),s("span",[e._v(e._s(e.getExercise.option))])]):e._e(),e._v(" "),e.getExercise.hold?s("div",{staticClass:"hold"},[e._v("\n                            Tenir : "),s("span",[e._v(e._s(e.getExercise.hold)+"s")])]):e._e(),e._v(" "),e.getExercise.tempo?s("div",{staticClass:"tempo"},[e._v("\n                            Tempo : "),s("span",[e._v(e._s(e.getExercise.tempo))]),e._v(" "),s("vs-tooltip",{staticClass:"kiv-help",scopedSlots:e._u([{key:"tooltip",fn:function(){return[e._v("\n                                    Le tempo, c'est tout simplement le\n                                    rythme de la répétition, indiquant que\n                                    le mouvement doit être lent, explosif ou\n                                    contrôlé.\n                                ")]},proxy:!0}],null,!1,2695518001)},[s("div",{staticClass:"icon-help"},[s("i",{staticClass:"fas fa-question"})])])],1):e._e()])]),e._v(" "),s("div",{staticClass:"btn-next"},[s("vs-button",{on:{click:e.nextExercise}},[e.getExercise===e.getTheLastExercise?s("span",[e._v("Fermer")]):s("span",[e._v("Suivant")])])],1)])])])],1)};r._withStripped=!0;var c={props:{doctor:Object,exercise:Object,exercises:Array,worksheet:Object,lastExercise:Object},data:function(){return{playerVars:{rel:0,showinfo:0,ecver:2,modestbranding:1}}},computed:{getExercise:function(){return this.exercise},getExercises:function(){return this.exercises},getWorksheet:function(){return this.worksheet},getTheLastExercise:function(){return this.lastExercise}},methods:{videoEnded:function(){this.$refs.youtube.player.playVideo(),this.$refs.youtube.player.stopVideo()},nextExercise:function(){var e=this;this.getExercise===this.getTheLastExercise?this.closeVideoPlayer():this.$parent.exerciseForPlaying=this.exercises.find((function(t){return t.position===e.exercise.position+1}))},closeVideoPlayer:function(){this.$emit("closeVideoPlayer",!0)}}},l=s(1900),d=(0,l.Z)(c,r,[],!1,null,"c84679c0",null);d.options.__file="assets/vue/doctor/Worksheet/ExercisesPlaylist/VideoPlayer.vue";var v=d.exports,u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"video-library"},[s("div",{staticClass:"content"},[s("section",{staticClass:"kiv-block",attrs:{id:"video-library"}},[s("button",{staticClass:"vs-dialog__close btn-close-library-sm",on:{click:e.closeVideoLibrary}},[s("i",{staticClass:"vs-icon-close vs-icon-hover-x"})]),e._v(" "),s("h2",[e._v("\n                Vidéothèque\n                "),e.loadingVideos?e._e():s("span",{staticClass:"count-videos"},[s("transition",{attrs:{name:"fade"}},[e.search||e.selectedTags.length||e.selectedPoB?s("i",{staticClass:"fas fa-filter"}):e._e()]),e._v(e._s(e.getTotalVideosFiltered)+" vidéo"),e.getTotalVideosFiltered>1?s("span",[e._v("s")]):e._e(),e._v(" "),e.search||e.selectedTags.length||e.selectedPoB?s("span",[e._v("\n                        filtrée"),e.getTotalVideosFiltered>1?s("span",[e._v("s")]):e._e()]):e._e()],1)]),e._v(" "),s("div",{staticClass:"primary-actions"},[s("div",{staticClass:"search"},[s("vs-input",{attrs:{"label-placeholder":"Filtrer par nom de video"},on:{keyup:function(t){e.page=1}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),s("div",{staticClass:"kiv-select tags"},[e.getTagsFromAllVideos.length?s("vs-select",{attrs:{filter:"",multiple:"",placeholder:"Mots-Clés"},on:{change:function(t){e.page=1},input:function(t){return e.selectTag()}},model:{value:e.selectedTags,callback:function(t){e.selectedTags=t},expression:"selectedTags"}},[e._l(e.getTagsFromAllVideos,(function(t,i){return s("vs-option",{key:i,attrs:{label:t,value:t}},[e._v("\n                            "+e._s(t)+"\n                        ")])})),e._v(" "),s("template",{slot:"notData"},[e._v("\n                            Aucun mot-clé ne correspond.")])],2):s("div",{staticClass:"loading select-tags"})],1),e._v(" "),s("div",{staticClass:"kiv-select tags"},[e.getLibrariesFromAllVideos.length?s("vs-select",{attrs:{filter:"",multiple:"",placeholder:"Bibliothèque"},on:{change:function(t){e.page=1},input:function(t){return e.selectTag()}},model:{value:e.selectedVideoLibraries,callback:function(t){e.selectedVideoLibraries=t},expression:"selectedVideoLibraries"}},[e._l(e.getLibrariesFromAllVideos,(function(t,i){return s("vs-option",{key:i,attrs:{label:t.name,value:t.reference}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])})),e._v(" "),s("template",{slot:"notData"},[e._v("\n                            Aucune bibliothèque ne correspond.")])],2):s("div",{staticClass:"loading select-tags"})],1),e._v(" "),s("SelectPartOfBody",{attrs:{partOfBody:e.selectedPoB},on:{partOfBodySelected:e.filterByPartOfBody,partOfBodyReset:e.resetSelectedPoB}})],1),e._v(" "),s("div",{staticClass:"video-library-content"},[!e.loadingVideos&&e.getVideos.length?s("div",{staticClass:"videos-list"},e._l(e.getVideos,(function(t,i){return s("div",{key:i,class:{"selected-video":e.selectedVideos.includes(t),"disabled-video":"ffmkr"===t.videoLibrary.reference&&!e.getDoctorIsFFMKRAdherent,"video-ffmkr":"ffmkr"===t.videoLibrary.reference}},["ffmkr"===t.videoLibrary.reference?s("div",{staticClass:"video-ffmkr-entete"},[s("div",{staticClass:"video-ffmkr-blason"},[s("img",{staticClass:"logo-ffmkr",attrs:{src:"ffmkr"!==t.videoLibrary.reference||e.getDoctorIsFFMKRAdherent?"/img/logo-kivid-FFMKR-white.svg":"/img/logo-kivid-FFMKR-grey.svg",alt:"Logo FFMKR"}})]),e._v(" "),e.getDoctorIsFFMKRAdherent?e._e():s("vs-tooltip",{staticClass:"video-ffmkr-icon-lock",scopedSlots:e._u([{key:"tooltip",fn:function(){return[e._v("Réservé aux adhérents FFMKR")]},proxy:!0}],null,!0)},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24px",height:"24px",fill:"#828282"}},[s("path",{attrs:{d:"M 12 1 C 8.6761905 1 6 3.6761905 6 7 L 6 8 L 4 8 L 4 22 L 20 22 L 20 8 L 18 8 L 18 7 C 18 3.6761905 15.32381 1 12 1 z M 12 3 C 14.27619 3 16 4.7238095 16 7 L 16 8 L 8 8 L 8 7 C 8 4.7238095 9.7238095 3 12 3 z M 12 13 C 13.1 13 14 13.9 14 15 C 14 16.1 13.1 17 12 17 C 10.9 17 10 16.1 10 15 C 10 13.9 10.9 13 12 13 z"}})])])],1):e._e(),e._v(" "),s("div",{staticClass:"video-thumbnail"},[s("a",{staticClass:"video-link",on:{click:function(s){return e.viewVideo(t)}}},[s("img",{attrs:{src:t.thumbnailUrl,alt:"vignette de la vidéo"}}),e._v(" "),s("svg",{attrs:{height:"512pt",viewBox:"0 -77 512.00213 512",width:"512pt",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{id:"test",d:"m501.453125 56.09375c-5.902344-21.933594-23.195313-39.222656-45.125-45.128906-40.066406-10.964844-200.332031-10.964844-200.332031-10.964844s-160.261719 0-200.328125 10.546875c-21.507813 5.902344-39.222657 23.617187-45.125 45.546875-10.542969 40.0625-10.542969 123.148438-10.542969 123.148438s0 83.503906 10.542969 123.148437c5.90625 21.929687 23.195312 39.222656 45.128906 45.128906 40.484375 10.964844 200.328125 10.964844 200.328125 10.964844s160.261719 0 200.328125-10.546875c21.933594-5.902344 39.222656-23.195312 45.128906-45.125 10.542969-40.066406 10.542969-123.148438 10.542969-123.148438s.421875-83.507812-10.546875-123.570312zm0 0",fill:"#f00"}}),e._v(" "),s("path",{attrs:{id:"test2",d:"m204.96875 256 133.269531-76.757812-133.269531-76.757813zm0 0",fill:"#fff"}})])])]),e._v(" "),s("div",{staticClass:"video-details"},[s("div",{staticClass:"video-name"},[t.name.length<45?s("div",[e._v("\n                                    "+e._s(t.name)+"\n                                ")]):s("div",[e._v("\n                                    "+e._s(t.name.substring(0,45)+"...")+"\n                                ")])]),e._v(" "),e.selectedVideos.includes(t)?s("vs-button",{staticClass:"btn-remove-vid",attrs:{circle:"",size:"small"},on:{click:function(s){return e.removeVideo(t)}}},[s("check-icon",{attrs:{size:"2x"}})],1):s("vs-button",{staticClass:"btn-add-vid",class:{"btn-unlock-vid":"ffmkr"===t.videoLibrary.reference&&!e.getDoctorIsFFMKRAdherent},attrs:{circle:"",size:"small"},on:{click:function(s){return e.addVideo(t)}}},["ffmkr"!==t.videoLibrary.reference||e.getDoctorIsFFMKRAdherent?s("plus-icon",{attrs:{size:"2x"}}):s("svg",{staticStyle:{"enable-background":"new 0 0 32 32"},attrs:{version:"1.1",id:"Calque_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 32 32","xml:space":"preserve"}},[s("path",{staticStyle:{fill:"none",stroke:"#E7DFCD","stroke-width":"2","stroke-miterlimit":"10"},attrs:{d:"M16,8H8H6H4v14h16V8h-2H16z"}}),e._v(" "),s("path",{staticStyle:{fill:"#E7DFCD"},attrs:{d:"M17,3.2c-1-1.4-2.7-2.4-4.6-2.5C9.1,0.5,6.3,3,6.1,6.4l0,1l2,0.1l0-1c0.1-2.3,1.9-3.9,4.2-3.8\n                                        c1.3,0.1,2.4,0.7,3.1,1.7L17,3.2z"}}),e._v(" "),s("path",{staticStyle:{fill:"none",stroke:"#E7DFCD","stroke-width":"2","stroke-miterlimit":"10"},attrs:{d:"M8.2,7"}}),e._v(" "),s("circle",{staticStyle:{fill:"#E7DFCD"},attrs:{cx:"12",cy:"15",r:"2"}})])],1)],1)])})),0):e._e(),e._v(" "),e.loadingVideos||e.getVideos.length||e.search||e.selectedTags.length||e.selectedPoB?e._e():s("div",{staticClass:"not-found"},[e._m(0)]),e._v(" "),e.loadingVideos||e.getVideos.length||!(e.search||e.selectedTags.length||e.selectedPoB)?e._e():s("div",{staticClass:"not-found"},[s("p",[s("i",{staticClass:"fab fa-youtube"}),e._v(" "),s("span",[e._v("Aucune vidéo n'a été trouvée avec\n                            "),e.search?s("span",[e._v('"'),s("strong",[e._v(e._s(e.search))]),e._v('"')]):e._e(),e._v(" "),e.search&&e.selectedTags.length||e.search&&e.selectedPoB?s("span",{staticClass:"et"},[e._v("\n                                et\n                            ")]):e._e(),e._v(" "),e.selectedTags.length?s("span",e._l(e.selectedTags,(function(t,i){return s("span",{key:i,staticClass:"nf-tag tag"},[s("span",{staticClass:"text wsnw"},[e._v(e._s(t))])])})),0):e._e(),e._v(" "),e.selectedPoB?s("span",{staticClass:"nf-tag part-of-body"},[s("span",{staticClass:"text wsnw"},[e._v("\n                                    "+e._s(e.selectedPoB.name)+"\n                                ")])]):e._e(),e._v(" "),e.selectedVideoLibraries.length?s("span",[s("span",{staticClass:"ml-1"},[e._v(" chez ")]),e._v(" "),e._l(e.selectedVideoLibraries,(function(t,i){return s("span",{key:i,staticClass:"nf-tag tag"},[s("span",{staticClass:"text wsnw"},[e._v(e._s(t))])])}))],2):e._e()])])]),e._v(" "),e.loadingVideos?s("div",{staticClass:"loading videos-list"}):e._e()]),e._v(" "),e.videos.length>e.max?s("div",{staticClass:"pagination"},[s("vs-pagination",{attrs:{length:e.getLength(e.getSearch(e.videos,e.search),e.max)},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}},[s("vs-select",{model:{value:e.page,callback:function(t){e.page=t},expression:"page"}},e._l(e.getLength(e.getSearch(e.videos,e.search),e.max),(function(t){return s("vs-option",{key:t,attrs:{label:t,value:t}},[e._v("\n                            "+e._s(t)+"\n                        ")])})),1)],1)],1):e._e(),e._v(" "),s("div",{staticClass:"btn-valid-selection"},[s("vs-button",{class:{disabled:e.btnLoadingValidVideosSelection},attrs:{loading:e.btnLoadingValidVideosSelection},on:{click:function(t){return e.validVideosSelection()}}},[s("i",{staticClass:"fas fa-check-circle"}),e._v("Valider la selection\n                ")])],1)])]),e._v(" "),s("vs-dialog",{staticClass:"view-video",model:{value:e.modalViewVideo,callback:function(t){e.modalViewVideo=t},expression:"modalViewVideo"}},[s("youtube",{attrs:{"player-vars":e.playerVars,"video-id":e.selectedViewVideo.youtubeId}})],1),e._v(" "),s("vs-dialog",{staticClass:"modal-ffmkr-adhesion",model:{value:e.modalRequestFFMKRAdhesion,callback:function(t){e.modalRequestFFMKRAdhesion=t},expression:"modalRequestFFMKRAdhesion"}},[s("h2",[e._v("Vidéo FFMKR")]),e._v(" "),s("p",[e._v("Pour utiliser cette vidéo vous devez être adhérent FFMKR")]),e._v(" "),s("div",{staticClass:"btn-container",class:{disabled:e.btnLoadingFFMKRAdhesion}},[s("vs-button",{staticClass:"w-100",attrs:{loading:e.btnLoadingFFMKRAdhesion,type:"submit"},on:{click:e.validFFMKRAdhesion}},[s("span",[e._v("Adhérer à la "),s("img",{staticClass:"logo-ffmkr",attrs:{src:"/img/logo-kivid-FFMKR-white.svg",alt:"Logo FFMKR"}})])])],1)])],1)};u._withStripped=!0;s(4916),s(4765),s(6699),s(2023);var p=s(9101),h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideSelectBox,expression:"hideSelectBox"}],staticClass:"select-filter",class:{active:e.selectBox,partofbodyselected:e.getPartOfBodySelected}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loadingPartsOfBody,expression:"!loadingPartsOfBody"}]},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.getPartOfBodySelected,expression:"getPartOfBodySelected"}],staticClass:"partofbody-selected part-of-body",on:{click:e.resetSelect}},["pied"===e.getPartOfBodySelected.icon?i("img",{staticClass:"icon-pied",attrs:{src:s(1351),alt:"Icone Pied"}}):e._e(),e._v(" "),"jambe"===e.getPartOfBodySelected.icon?i("img",{staticClass:"icon-jambe",attrs:{src:s(8189),alt:"Icone Jambe"}}):e._e(),e._v(" "),"bras"===e.getPartOfBodySelected.icon?i("img",{staticClass:"icon-bras",attrs:{src:s(7932),alt:"Icone Bras"}}):e._e(),e._v(" "),"main"===e.getPartOfBodySelected.icon?i("img",{staticClass:"icon-main",attrs:{src:s(6098),alt:"Icone Main"}}):e._e(),e._v(" "),"epaule"===e.getPartOfBodySelected.icon?i("img",{staticClass:"icon-epaule",attrs:{src:s(2890),alt:"Icone Épaule"}}):e._e(),e._v(" "),"dos"===e.getPartOfBodySelected.icon?i("img",{staticClass:"icon-dos",attrs:{src:s(6910),alt:"Icone Dos"}}):e._e(),e._v(" "),"cervicales"===e.getPartOfBodySelected.icon?i("img",{staticClass:"icon-cervicales",attrs:{src:s(1135),alt:"Icone Cervicales"}}):e._e(),e._v(" "),"lombaires"===e.getPartOfBodySelected.icon?i("img",{staticClass:"icon-lombaires",attrs:{src:s(2894),alt:"Icone Lombaires"}}):e._e(),e._v(" "),"thoracique"===e.getPartOfBodySelected.icon?i("img",{staticClass:"icon-thoracique",attrs:{src:s(4114),alt:"Icone Thoracique"}}):e._e(),e._v(" "),"global"===e.getPartOfBodySelected.icon?i("img",{staticClass:"icon-global",attrs:{src:s(7425),alt:"Icone Thoracique"}}):e._e(),e._v(" "),i("span",{staticClass:"text wsnw"},[e._v(e._s(e.getPartOfBodySelected.name))])]),e._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:!e.getPartOfBodySelected,expression:"!getPartOfBodySelected"},{name:"model",rawName:"v-model",value:e.filter,expression:"filter"}],class:{"b-r-b-zero":e.selectBox},attrs:{id:"partofbody-choice-select",autocomplete:"off",placeholder:e.selectBox?"Recherchez":"Partie du corps"},domProps:{value:e.filter},on:{click:e.toggleSelectBox,keyup:e.selectBoxWithThrottle,input:function(t){t.target.composing||(e.filter=t.target.value)}}}),e._v(" "),i("div",{staticClass:"arrow-toggle-box",class:{active:e.selectBox},on:{click:e.toggleSelectBox}},[i("i",{staticClass:"vs-icon-arrow"})]),e._v(" "),i("transition",{attrs:{name:"height"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.selectBox,expression:"selectBox"}],staticClass:"select-box",on:{click:e.focusInputSelect}},[e.partsOfBodyFiltered.length?i("ul",e._l(e.partsOfBodyFiltered,(function(t,o){return i("li",{key:o},[i("div",{staticClass:"part-of-body",on:{click:function(s){return e.selectPartOfBody(t)}}},["pied"===t.icon?i("img",{staticClass:"icon-pied",attrs:{src:s(1351),alt:"Icone Pied"}}):e._e(),e._v(" "),"jambe"===t.icon?i("img",{staticClass:"icon-jambe",attrs:{src:s(8189),alt:"Icone Jambe"}}):e._e(),e._v(" "),"bras"===t.icon?i("img",{staticClass:"icon-bras",attrs:{src:s(7932),alt:"Icone Bras"}}):e._e(),e._v(" "),"main"===t.icon?i("img",{staticClass:"icon-main",attrs:{src:s(6098),alt:"Icone Main"}}):e._e(),e._v(" "),"epaule"===t.icon?i("img",{staticClass:"icon-epaule",attrs:{src:s(2890),alt:"Icone Épaule"}}):e._e(),e._v(" "),"dos"===t.icon?i("img",{staticClass:"icon-dos",attrs:{src:s(6910),alt:"Icone Dos"}}):e._e(),e._v(" "),"cervicales"===t.icon?i("img",{staticClass:"icon-cervicales",attrs:{src:s(1135),alt:"Icone Cervicales"}}):e._e(),e._v(" "),"lombaires"===t.icon?i("img",{staticClass:"icon-lombaires",attrs:{src:s(2894),alt:"Icone Lombaires"}}):e._e(),e._v(" "),"thoracique"===t.icon?i("img",{staticClass:"icon-thoracique",attrs:{src:s(4114),alt:"Icone Thoracique"}}):e._e(),e._v(" "),"global"===t.icon?i("img",{staticClass:"icon-global",attrs:{src:s(7425),alt:"Icone Thoracique"}}):e._e(),e._v(" "),i("span",{staticClass:"text wsnw"},[e._v(e._s(t.name))])])])})),0):i("div",[i("p",{staticClass:"not-found-pob"},[e._v("\n                        Aucune partie du corps ne correspond.\n                    ")])])])])],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.loadingPartsOfBody,expression:"loadingPartsOfBody"}],staticClass:"loading-gray loading-pob"})])};h._withStripped=!0;s(5306),s(2707);var f=s(2649),m=s.n(f);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var x={props:{partOfBody:Object},directives:{ClickOutside:m()},data:function(){return{partsOfBody:[],filter:"",selectBox:!1,selectInput:null,loadingPartsOfBody:!1,selectBoxThrottle:!1}},computed:{getPartOfBodySelected:function(){return this.partOfBody?this.partOfBody:""},partsOfBodyFiltered:function(){var e=this;return this.sortByPosition(this.partsOfBody.filter((function(t){return t.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().includes(e.filter.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase())})))}},methods:{toggleSelectBox:function(){this.selectBox=!this.selectBox,null!=this.partOfBody&&this.resetSelect(),this.selectBox&&this.focusInputSelect()},hideSelectBox:function(){this.selectBox=!1},selectPartOfBody:function(e){this.$emit("partOfBodySelected",e),this.hideSelectBox()},resetSelect:function(){var e=this;this.$emit("partOfBodyReset",!0),setTimeout((function(){e.selectInput=document.getElementById("partofbody-choice-select"),e.selectBox=!0,e.focusInputSelect()}),100)},focusInputSelect:function(){this.selectInput.focus()},selectBoxWithThrottle:function(){var e=this;this.selectBoxThrottle||(this.selectBoxThrottle=!0,this.selectBox=!0,setTimeout((function(){e.selectBoxThrottle=!1}),1e3))},sortedPoBNameByAlphabet:function(e){return e.sort((function(e,t){return e.name.localeCompare(t.name)})),e},sortByPosition:function(e){return e.sort((function(e,t){return e.position-t.position})),e}},created:function(){var e=this;this.loadingPartsOfBody=!0,this.axios.get("/get/parts-of-body").then((function(t){e.partsOfBody=t.data,e.loadingPartsOfBody=!1})).catch((function(e){var t="object"===g(e.response.data)?e.response.data.detail:e.response.data;console.error(t)}))},mounted:function(){this.selectInput=document.getElementById("partofbody-choice-select")}},_=(0,l.Z)(x,h,[],!1,null,"874fd90c",null);_.options.__file="assets/vue/components/SelectPartOfBody.vue";var C=_.exports;function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var k={props:{doctor:Object,loadingVideos:Boolean,videos:Array,csrfTokenSaveFFMKRRequestToken:String},components:{PlusIcon:p.pOD,CheckIcon:p.nQG,XIcon:p.b0D,SelectPartOfBody:C},data:function(){return{search:"",page:1,max:12,playerVars:{rel:0,showinfo:0,ecver:2,modestbranding:1},timeout:!1,selectedTags:[],selectedPoB:null,selectedVideos:[],selectedVideoLibraries:["kivid","ffmkr","chevreul"],modalAddVideo:!1,modalViewVideo:!1,selectedViewVideo:!1,btnLoadingValidVideosSelection:!1,inputChips:null,modalRequestFFMKRAdhesion:!1,btnLoadingFFMKRAdhesion:!1}},computed:{getVideos:function(){return this.getPage(this.getSearch(this.videos,this.search),this.page,this.max)},getLengthForPagination:function(){return this.getLength(this.getSearch(this.videos,this.search),this.max)},getTotalVideosFiltered:function(){return this.getSearch(this.videos,this.search).length},getTagsFromAllVideos:function(){return a.Z.getTagsFromAllVideos(this.videos)},getLibrariesFromAllVideos:function(){return a.Z.getLibrariesFromAllVideos(this.videos)},getDoctorIsFFMKRAdherent:function(){return this.doctor.FFMKRAdhesion&&this.doctor.FFMKRAdhesion.numcli&&!this.doctor.FFMKRAdhesion.numcli.includes("NUMCLITEMP")}},methods:{selectTag:function(){this.inputChips||(this.inputChips=document.querySelector(".vs-select__chips__input")),this.inputChips.focus(),this.inputChips.blur()},validFFMKRAdhesion:function(){var e=this;this.btnLoadingFFMKRAdhesion=!0,this.axios.post("/ffmkr/request-token/set/".concat(this.doctor.id),{_token:this.csrfTokenSaveFFMKRRequestToken}).then((function(t){window.open("//www.ffmkr.org/adhesion/vos-informations?kividretour=//".concat(window.location.hostname,"/ffmkr/adhesion/").concat(t.data.kividToken),"_blank"),setTimeout((function(){var t=setInterval((function(){e.axios.post("/ffmkr/request-adhesion/check/".concat(e.doctor.id),{}).then((function(s){s.data.ffmkrAdhesionNumCli.includes("NUMCLITEMP")||(clearInterval(t),e.btnLoadingFFMKRAdhesion=!1,e.doctor.FFMKRAdhesion.numcli=s.data.ffmkrAdhesionNumCli,e.modalRequestFFMKRAdhesion=!1)})).catch((function(e){var t="object"===y(e.response.data)?e.response.data.detail:e.response.data;a.Z.openErrorNotification("Erreur",t)}))}),2e3)}),500)})).catch((function(e){var t="object"===y(e.response.data)?e.response.data.detail:e.response.data;a.Z.openErrorNotification("Erreur",t)}))},filterByPartOfBody:function(e){this.selectedPoB=e,this.page=1},resetSelectedPoB:function(){this.selectedPoB=null,this.page=1},viewVideo:function(e){return this.selectedViewVideo=e,this.modalViewVideo=!this.modalViewVideo},addVideo:function(e){"ffmkr"!=e.videoLibrary.reference||this.getDoctorIsFFMKRAdherent?this.selectedVideos.push(e):this.modalRequestFFMKRAdhesion=!0},removeVideo:function(e){this.selectedVideos.splice(this.selectedVideos.indexOf(e),1)},validVideosSelection:function(){var e=this;this.btnLoadingValidVideosSelection=!0,this.$emit("videos-selection",this.selectedVideos),this.closeVideoLibrary(),setTimeout((function(){e.btnLoadingValidVideosSelection=!1}),1e3)},closeVideoLibrary:function(){var e=this;setTimeout((function(){e.search="",e.selectedTags=[],e.selectedVideoLibraries=["kivid","ffmkr"],e.selectedVideos=[],e.selectedPoB=null}),300),this.$emit("closeVideoLibrary",!0)},getPage:function(e,t,s){return a.Z.getPage(e,t,s)},getLength:function(e,t){return a.Z.getLength(e,t)},getSearch:function(e,t){var s=this,i=a.Z.getSearch(e,t);return this.selectedTags.length&&(i=i.filter((function(e){var t=[];return e.tags&&s.selectedTags.forEach((function(s){var i=!1;e.tags.forEach((function(e){e.name===s&&(i=!0)})),t.push(i)})),!t.includes(!1)}))),this.selectedVideoLibraries.length&&(i=i.filter((function(e){return s.selectedVideoLibraries.includes(e.videoLibrary.reference)}))),this.selectedPoB&&(i=i.filter((function(e){var t=!1;return e.partOfBodys&&e.partOfBodys.forEach((function(e){e.id===s.selectedPoB.id&&(t=!0)})),t}))),i},resizeWindowEventHandler:function(e){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){window.innerWidth<449&&(t.max=1e3,t.page=1),window.innerWidth>=449&&window.innerWidth<=649&&(t.max=8,t.page=1),window.innerWidth>649&&window.innerWidth<=849&&(t.max=9,t.page=1),window.innerWidth>849&&window.innerWidth<=1618&&(t.max=8,t.page=1),window.innerWidth>1618&&window.innerWidth<=1659&&(t.max=10,t.page=1),window.innerWidth>1659&&(t.max=12,t.page=1)}),250)}},created:function(){window.addEventListener("resize",this.resizeWindowEventHandler),this.resizeWindowEventHandler()},destroyed:function(){window.removeEventListener("resize",this.resizeWindowEventHandler)}},b=(0,l.Z)(k,u,[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[s("i",{staticClass:"fab fa-youtube"}),e._v(" "),s("span",[e._v("Il n'y a aucune vidéo")])])}],!1,null,null,null);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}b.options.__file="assets/vue/doctor/Worksheet/ExercisesPlaylist/VideoLibrary.vue";var E={components:{VideoPlayer:v,VideoLibrary:b.exports,PlusIcon:p.pOD},props:{doctor:Object,loading:Boolean,worksheet:Object,exercises:Array,action:String,csrfTokenRemoveExercise:String,loadingVideos:Boolean,videos:Array,csrfTokenSaveFFMKRRequestToken:String,worksheetIndex:Number},directives:{ClickOutside:m()},data:function(){return{videoPlayerToggle:!1,videoLibraryToggle:!1,activeOptions:{option:[],tempo:[],hold:[]},exerciseForPlaying:null,modalConfirmRemoveExercise:!1,removeExerciseDetails:{video:{}},btnLoadingValidRemoveExercise:!1,visibleItemIndex:0,exercisePositionActiveId:null}},computed:{getWorksheet:function(){return this.worksheet},getExercises:function(){return a.Z.sortByPosition(this.exercises)},getActiveExercise:function(){return this.getExercises.filter((function(e){return e.isActive}))[0]},getTheLastExercise:function(){return this.getExercises[this.getExercises.length-1]}},methods:{calculateVisibleArea:function(e,t){var s=Math.max(e.left,t.left),i=Math.min(e.right,t.right)-s;return i<=0?0:i/t.width*100},checkValue:function(e,t,s){!1===e&&(t[s]="")},addVideosSelection:function(e){var t=this,s=this.getExercises.length;e.forEach((function(e,i){var o={id:"new".concat(t.worksheetIndex).concat(i).concat(Date.now().toString()),position:s+i,numberOfRepetitions:10,numberOfSeries:3,option:"",tempo:"",hold:"",optionActive:!1,tempoActive:!1,holdActive:!1,video:e};t.exercises.push(o)})),this.$emit("videos-selection",!0),this.$nextTick((function(){var e=document.getElementById("exercises-list-".concat(t.worksheetIndex));e.classList.remove("scroll-snap"),t.scrollToExercise(t.exercises[t.exercises.length-1]),setTimeout((function(){e.classList.add("scroll-snap")}),1e3)}))},checkIfValueIsEmptyOrNull:function(e){e.numberOfSeries<1&&(e.numberOfSeries=1),e.numberOfRepetitions<1&&(e.numberOfRepetitions=1),""!==e.numberOfSeries&&null!==e.numberOfSeries||(e.numberOfSeries=1),""!==e.numberOfRepetitions&&null!==e.numberOfRepetitions||(e.numberOfRepetitions=1)},upPosition:function(e){if(e.position>0){var t=e.position,s=e.position-1,i=this.getExercises.find((function(e){return e.position===s}));e.position=s,i&&(i.position=t),this.scrollToExercise(e)}},downPosition:function(e){if(e.position<this.getExercises.length){var t=e.position,s=e.position+1,i=this.getExercises.find((function(e){return e.position===s}));e.position=s,i&&(i.position=t),this.scrollToExercise(e)}},scrollToExercise:function(e){var t=document.getElementById("exercises-list-".concat(this.worksheetIndex)),s=document.getElementById("exercise-".concat(this.worksheetIndex,"-").concat(e.position));if(s&&t){var i=t.offsetWidth,o=s.offsetWidth,a=s.offsetLeft+o/2-i/2;t.scrollTo({left:a,behavior:"smooth"})}},removeExercise:function(e){return this.removeExerciseDetails=e,this.modalConfirmRemoveExercise=!this.modalConfirmRemoveExercise},validRemoveExercise:function(){var e=this;this.btnLoadingValidRemoveExercise=!0,this.removeExerciseDetails.id&&"creation"!==this.action?this.axios.post("/doctor/".concat(this.doctor.id,"/remove/exercise"),{_token:this.csrfTokenRemoveExercise,worksheetId:this.getWorksheet.id,exerciseId:this.removeExerciseDetails.id}).then((function(t){e.exercises.splice(e.exercises.indexOf(e.removeExerciseDetails),1),a.Z.sortByPosition(e.exercises).map((function(e,t){return e.position=t})),a.Z.openSuccessNotification("Suppression de l'exercice",t.data),e.btnLoadingValidRemoveExercise=!1,e.modalConfirmRemoveExercise=!1})).catch((function(t){var s="object"===w(t.response.data)?t.response.data.detail:t.response.data;a.Z.openErrorNotification("Erreur",s),e.btnLoadingValidRemoveExercise=!1,e.modalConfirmRemoveExercise=!1})):(this.exercises.splice(this.exercises.indexOf(this.removeExerciseDetails),1),a.Z.sortByPosition(this.exercises).map((function(e,t){return e.position=t})),this.btnLoadingValidRemoveExercise=!1,this.modalConfirmRemoveExercise=!1)},openVideoPlayer:function(e){this.exerciseForPlaying=e,this.videoPlayerToggle=!0,document.body.classList.add("no-scrollbar")},openVideoLibrary:function(){this.videoLibraryToggle=!0,document.body.classList.add("no-scrollbar")},closeVideoPlayer:function(){this.videoPlayerToggle=!1,document.body.classList.remove("no-scrollbar")},closeVideoLibrary:function(){this.videoLibraryToggle=!1,document.body.classList.remove("no-scrollbar")},resetExercisePositionActiveId:function(e){var t,s,i,o,a=e.target;if(!(null!==(t=a.classList)&&void 0!==t&&t.contains("btn-up-position")||null!==(s=a.classList)&&void 0!==s&&s.contains("btn-down-position")||null!==(i=a.classList)&&void 0!==i&&i.contains("fa-sort-up")||null!==(o=a.classList)&&void 0!==o&&o.contains("fa-sort-down"))){for(var n=!1;null!==a;){var r;null!==(r=a.classList)&&void 0!==r&&r.contains("exercise-position")&&(n=!0),a=a.parentNode}n||(this.exercisePositionActiveId=null)}}}},V=(0,l.Z)(E,n,[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"exercise loading-block"},[s("div",{staticClass:"loading-gray thumbnail-wrapper"}),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"loading-gray h2 w-45"}),e._v(" "),s("div",{staticClass:"details"},[s("div",{staticClass:"series-reps"},[s("div",{staticClass:"loading-gray series w-25"}),e._v(" "),s("div",{staticClass:"loading-gray reps w-15"})]),e._v(" "),s("div",{staticClass:"loading-gray option w-25"}),e._v(" "),s("div",{staticClass:"loading-gray tempo w-15"}),e._v(" "),s("div",{staticClass:"loading-gray hold w-25"})]),e._v(" "),s("div",{staticClass:"commentary"},[s("div",{staticClass:"loading-gray title w-25"}),e._v(" "),s("div",{staticClass:"loading-gray input"})])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"exercise loading-block"},[s("div",{staticClass:"loading-gray thumbnail-wrapper"}),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"loading-gray h2 w-35"}),e._v(" "),s("div",{staticClass:"details"},[s("div",{staticClass:"series-reps"},[s("div",{staticClass:"loading-gray series w-15"}),e._v(" "),s("div",{staticClass:"loading-gray reps w-25"})]),e._v(" "),s("div",{staticClass:"loading-gray option w-25"}),e._v(" "),s("div",{staticClass:"loading-gray tempo w-15"}),e._v(" "),s("div",{staticClass:"loading-gray hold w-25"})]),e._v(" "),s("div",{staticClass:"commentary"},[s("div",{staticClass:"loading-gray title w-25"}),e._v(" "),s("div",{staticClass:"loading-gray input"})])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"exercise loading-block"},[s("div",{staticClass:"loading-gray thumbnail-wrapper"}),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"loading-gray h2 w-45"}),e._v(" "),s("div",{staticClass:"details"},[s("div",{staticClass:"series-reps"},[s("div",{staticClass:"loading-gray series w-15"}),e._v(" "),s("div",{staticClass:"loading-gray reps w-15"})]),e._v(" "),s("div",{staticClass:"loading-gray option w-25"}),e._v(" "),s("div",{staticClass:"loading-gray tempo w-15"}),e._v(" "),s("div",{staticClass:"loading-gray hold w-25"})]),e._v(" "),s("div",{staticClass:"commentary"},[s("div",{staticClass:"loading-gray title w-25"}),e._v(" "),s("div",{staticClass:"loading-gray input"})])])])}],!1,null,null,null);function L(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return O(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,i=new Array(t);s<t;s++)i[s]=e[s];return i}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function I(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?B(Object(s),!0).forEach((function(t){P(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):B(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function P(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}V.options.__file="assets/vue/doctor/Worksheet/ExercisesPlaylist.vue";var T={components:{ExercisesPlaylist:V.exports,SelectPartOfBody:C,TagPartOfBody:s(7771).Z},data:function(){return{doctor:null,action:null,worksheetsIds:null,worksheets:[{id:0,partOfBody:null,duration:1,perDay:1,perWeek:1,title:"",partOfBodyIsEmptyMessage:null,titleIsEmptyMessage:null,exercisesIsEmptyMessage:null,exercises:[],checkIfWorksheetSessionsExist:null}],patient:null,loadingVideos:!1,videos:[],csrfTokenCreateWorksheet:null,csrfTokenEditWorksheet:null,csrfTokenRemoveExercise:null,csrfTokenSaveFFMKRRequestToken:null,loading:!1,maxDuration:{duration:52,perDay:3,perWeek:7},btnLoadingValidEditWorksheet:!1,btnLoadingValidCreateWorksheet:!1,currentOpenWorksheet:null,modalConfirmRemoveWorksheet:!1,removeWorksheetDetails:null}},computed:{getWorksheets:function(){return this.worksheets}},methods:{setPartOfBody:function(e,t){t.partOfBody=e,t.partOfBodyIsEmptyMessage=""},resetPoB:function(e,t){t.partOfBody=null},rederictToDashboard:function(){document.location.href="/doctor/".concat(this.doctor.id,"/dashboard")},toggleCurrentOpenWorksheet:function(e){this.currentOpenWorksheet=this.currentOpenWorksheet!=e?e:null},checkIfDurationValueIsEmptyOrNull:function(e,t,s){var i=t.target.id;"vs-input--duration"===i&&(""!==e&&null!==e||(s.duration=1),e<1&&(s.duration=1),e>this.maxDuration.duration&&(s.duration=this.maxDuration.duration)),"vs-input--perDay"===i&&(""!==e&&null!==e||(s.perDay=1),e<1&&(s.perDay=1),e>this.maxDuration.perDay&&(s.perDay=this.maxDuration.perDay)),"vs-input--perWeek"===i&&(""!==e&&null!==e||(s.perWeek=1),e<1&&(s.perWeek=1),e>this.maxDuration.perWeek&&(s.perWeek=this.maxDuration.perWeek))},checkIfEmpty:function(e){var t=!1,s="";return e.partOfBody||(s+="Partie du corps",e.partOfBodyIsEmptyMessage="Vous devez choisir une partie du corps",t=!0),""!==e.title&&null!==e.title||(s+=""!=s?", Titre de la fiche":"Titre de la fiche",e.titleIsEmptyMessage="Vous devez entrer un titre pour la fiche.",t=!0),e.exercises.length||(e.exercisesIsEmptyMessage="Vous devez ajouter des exercices.",t=!0),""==s&&e.exercises.length||(this.currentOpenWorksheet=e.id,a.Z.openErrorNotification("Erreur","Il y a des champs vides pour <strong>".concat(0!=e.id?this.worksheetTitleGeneration(e.title,e.id):"cette fiche","</strong>"))),t},validEdit:function(){var e=this;this.btnLoadingValidEditWorksheet=!0;var t=this.worksheets[0];if(!this.checkIfEmpty(t)){var s=JSON.parse(JSON.stringify(t));s.exercises=s.exercises.map((function(e){return String(e.id).startsWith("new")?I(I({},e),{},{id:null}):e})),this.axios.post("/doctor/".concat(this.doctor.id,"/edit/worksheet"),{_token:this.csrfTokenEditWorksheet,worksheetId:s.id,title:s.title,partOfBodyId:s.partOfBody.id,duration:s.duration,perWeek:s.perWeek,perDay:s.perDay,exercises:s.exercises}).then((function(t){e.patient?a.Z.openSuccessNotification("Edition de la prescription","La prescription a bien été modifiée"):a.Z.openSuccessNotification("Edition de la fiche",t.data),e.btnLoadingValidEditWorksheet=!1,setTimeout((function(){e.patient?document.location.href="/doctor/".concat(e.doctor.id,"/voir/patient/").concat(e.patient.id):document.location.href="/doctor/".concat(e.doctor.id,"/dashboard/?tab=ws")}),2e3)})).catch((function(t){var s="object"===S(t.response.data)?t.response.data.detail:t.response.data;e.btnLoadingValidEditWorksheet=!1,a.Z.openErrorNotification("Erreur",s)}))}else this.btnLoadingValidEditWorksheet=!1},validCreate:function(){var e=this;this.btnLoadingValidCreateWorksheet=!0;var t=!0;if(this.worksheets.forEach((function(s){e.checkIfEmpty(s)&&(t=!1)})),t){var s=JSON.parse(JSON.stringify(this.worksheets));s.forEach((function(e){String(e.id).startsWith("new")&&(e.id=null),e.exercises=e.exercises.map((function(e){return String(e.id).startsWith("new")?I(I({},e),{},{id:null}):e}))})),this.axios.post("/doctor/".concat(this.doctor.id,"/create/worksheets"),{_token:this.csrfTokenCreateWorksheet,patientId:this.patient?this.patient.id:null,worksheets:s}).then((function(t){e.patient?(a.Z.openSuccessNotification("Création de la prescription",t.data.message),e.btnLoadingValidCreateWorksheet=!1,setTimeout((function(){document.location.href="/doctor/".concat(e.doctor.id,"/dashboard")}),2e3)):(a.Z.openSuccessNotification("Création de la fiche",t.data.message),e.btnLoadingValidCreateWorksheet=!1,setTimeout((function(){document.location.href="/doctor/".concat(e.doctor.id,"/dashboard/?tab=ws")}),2e3))})).catch((function(t){var s="object"===S(t.response.data)?t.response.data.detail:t.response.data;e.btnLoadingValidCreateWorksheet=!1,a.Z.openErrorNotification("Erreur",s)}))}else this.btnLoadingValidCreateWorksheet=!1},getUserName:function(e){return a.Z.getUserName(e)},removeWorksheet:function(e){return this.removeWorksheetDetails=e,this.modalConfirmRemoveWorksheet=!this.modalConfirmRemoveWorksheet},validRemoveWorksheet:function(){this.worksheets.splice(this.worksheets.indexOf(this.removeWorksheetDetails),1),1==this.worksheets.length&&(this.currentOpenWorksheet=this.worksheets[0].id),this.modalConfirmRemoveWorksheet=!1},worksheetTitleGeneration:function(e,t){return t=String(t),""==e&&t.startsWith("new")?"Création ".concat(parseInt(t.slice(3))+1," ..."):e}},created:function(){var e=this;i.default.prototype.$vs=this.$vs;var t=JSON.parse(document.getElementById("vueData").innerHTML);if(this.doctor=t.doctor,this.worksheetsIds=JSON.parse(t.worksheetId),this.action=t.action,this.patient=t.patient,this.csrfTokenCreateWorksheet=t.csrfTokenCreateWorksheet,this.csrfTokenEditWorksheet=t.csrfTokenEditWorksheet,this.csrfTokenRemoveExercise=t.csrfTokenRemoveExercise,this.csrfTokenSaveFFMKRRequestToken=t.csrfTokenSaveFFMKRRequestToken,0!=this.worksheetsIds){this.loading=!0;var s=null;if(Array.isArray(this.worksheetsIds)){s=this.worksheetsIds.filter((function(e){return 0!=e&&null!=e}));var o=this.worksheetsIds.length-s.length;this.worksheets=Array.from({length:o},(function(t,s){var i=I({},JSON.parse(JSON.stringify(e.worksheets[0])));return i.id="new".concat(s),i}))}else this.worksheets=[],s=[this.worksheetsIds],this.currentOpenWorksheet=this.worksheetsIds;s.length?this.axios.post("/doctor/".concat(this.doctor.id,"/get/worksheets-group"),{worksheetsIds:s}).then((function(t){var s=Array.isArray(t.data)?t.data:[t.data];"creation"!==e.action||e.patient||(s=s.map((function(e){return I(I({},e),{},{title:"Copie de ".concat(e.title)})}))),s.forEach((function(t){t.exercises=t.exercises.map((function(e){return I(I({},e),{},{option:e.option?e.option:"",tempo:e.tempo?e.tempo:"",hold:e.hold?e.hold:"",optionActive:!!e.option,tempoActive:!!e.tempo,holdActive:!!e.hold,isActive:!1})})),"edition"===e.action?e.axios.get("/doctor/".concat(e.doctor.id,"/check/worksheet-sessions-exist/").concat(t.id)).then((function(s){t.checkIfWorksheetSessionsExist=s.data,e.loading=!1})).catch((function(e){var t="object"===S(e.response.data)?e.response.data.detail:e.response.data;console.error(t)})):e.loading=!1})),e.worksheets=[].concat(L(e.worksheets),L(s)),e.currentOpenWorksheet=e.worksheets[e.worksheets.length-1].id})).catch((function(e){var t="object"===S(e.response.data)?e.response.data.detail:e.response.data;console.error(t)})):this.loading=!1}else this.currentOpenWorksheet=this.worksheets[this.worksheets.length-1].id;this.loadingVideos=!0,this.axios.get("/doctor/".concat(this.doctor.id,"/get/videos")).then((function(t){e.loadingVideos=!1,e.videos=t.data})).catch((function(t){var s="object"===S(t.response.data)?t.response.data.detail:t.response.data;a.Z.openErrorNotification("Erreur",s),e.loadingVideos=!1}))}},W=(0,l.Z)(T,o,[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"label loading"},[s("span",[e._v("xxxxxxxxxxxxxxxx")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vs-avatar-content user-avatar vs-avatar-content--circle vs-avatar-content--size vs-change-color-badge",staticStyle:{width:"26px",height:"26px"}},[t("div",{staticClass:"vs-avatar loading"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-name loading "},[s("div",[e._v("XxxxxxxxxxXxxxxxxxxxXxxxx")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"tab-worksheet-content multiple-contexte"},[s("header",[s("div",[s("div",[s("div",{staticClass:"title"},[s("div",{staticClass:"vs-input-parent vs-input-parent--state-null vs-input-content--has-label vs-component--primary",attrs:{type:"text loading"}}),e._v(" "),s("div",{staticClass:"select-filter-block loading"})])]),e._v(" "),s("div",{staticClass:"worksheet-params"},[s("div",{staticClass:"worksheet-details"},[s("div",{staticClass:"worksheet-timing-perweek loading"}),e._v(" "),s("div",{staticClass:"worksheet-timing-perday loading"}),e._v(" "),s("div",{staticClass:"worksheet-period loading"})])])])]),e._v(" "),s("main",[s("section",{attrs:{id:"exercises-playlist"}},[s("div",[s("div",{staticClass:"exercises-list-container"},[s("h2",{staticClass:"loading"}),e._v(" "),s("div",{staticClass:"exercises-list scroll-snap",attrs:{id:"exercises-list-2"}},[s("div",{staticClass:"exercise"},[s("div",{staticClass:"exercise-position loading"}),e._v(" "),s("div",{staticClass:"input-h2"},[s("h2",{staticClass:"loading"},[s("span",[e._v("Xxxx xxxxxxxx")])]),e._v(" "),s("button",{staticClass:"remove-exercise loading"})]),e._v(" "),s("div",{staticClass:"thumbnail-wrapper loading"}),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"details"},[s("div",{staticClass:"series-reps"},[s("div",{staticClass:"series loading"}),e._v(" "),s("div",{staticClass:"reps loading"})])]),e._v(" "),s("div",{staticClass:"options"},[s("div",{staticClass:"option loading"},[s("span",[e._v("Xxxxxx")])]),e._v(" "),s("div",{staticClass:"hold loading"},[s("span",[e._v("Xxxxxx")])]),e._v(" "),s("div",{staticClass:"tempo loading"},[s("span",[e._v("Xxxxxx")])])])])]),e._v(" "),s("div",{staticClass:"exercise"},[s("div",{staticClass:"exercise-position loading"}),e._v(" "),s("div",{staticClass:"input-h2"},[s("h2",{staticClass:"loading"},[s("span",[e._v("Xxxx xxxxxxxx")])]),e._v(" "),s("button",{staticClass:"remove-exercise loading"})]),e._v(" "),s("div",{staticClass:"thumbnail-wrapper loading"}),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"details"},[s("div",{staticClass:"series-reps"},[s("div",{staticClass:"series loading"}),e._v(" "),s("div",{staticClass:"reps loading"})])]),e._v(" "),s("div",{staticClass:"options"},[s("div",{staticClass:"option loading"},[s("span",[e._v("Xxxxxx")])]),e._v(" "),s("div",{staticClass:"hold loading"},[s("span",[e._v("Xxxxxx")])]),e._v(" "),s("div",{staticClass:"tempo loading"},[s("span",[e._v("Xxxxxx")])])])])]),e._v(" "),s("div",{staticClass:"exercise"},[s("div",{staticClass:"exercise-position loading"}),e._v(" "),s("div",{staticClass:"input-h2"},[s("h2",{staticClass:"loading"},[s("span",[e._v("Xxxx xxxxxxxx")])]),e._v(" "),s("button",{staticClass:"remove-exercise loading"})]),e._v(" "),s("div",{staticClass:"thumbnail-wrapper loading"}),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"details"},[s("div",{staticClass:"series-reps"},[s("div",{staticClass:"series loading"}),e._v(" "),s("div",{staticClass:"reps loading"})])]),e._v(" "),s("div",{staticClass:"options"},[s("div",{staticClass:"option loading"},[s("span",[e._v("Xxxxxx")])]),e._v(" "),s("div",{staticClass:"hold loading"},[s("span",[e._v("Xxxxxx")])]),e._v(" "),s("div",{staticClass:"tempo loading"},[s("span",[e._v("Xxxxxx")])])])])]),e._v(" "),s("div",{staticClass:"exercise"},[s("div",{staticClass:"exercise-position loading"}),e._v(" "),s("div",{staticClass:"input-h2"},[s("h2",{staticClass:"loading"},[s("span",[e._v("Xxxx xxxxxxxx")])]),e._v(" "),s("button",{staticClass:"remove-exercise loading"})]),e._v(" "),s("div",{staticClass:"thumbnail-wrapper loading"}),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"details"},[s("div",{staticClass:"series-reps"},[s("div",{staticClass:"series loading"}),e._v(" "),s("div",{staticClass:"reps loading"})])]),e._v(" "),s("div",{staticClass:"options"},[s("div",{staticClass:"option loading"},[s("span",[e._v("Xxxxxx")])]),e._v(" "),s("div",{staticClass:"hold loading"},[s("span",[e._v("Xxxxxx")])]),e._v(" "),s("div",{staticClass:"tempo loading"},[s("span",[e._v("Xxxxxx")])])])])])]),e._v(" "),s("div",{staticClass:"add-videos"},[s("div",{staticClass:"vs-tooltip-content"},[s("button",{staticClass:"vs-button vs-button--null vs-button--size-null vs-button--circle vs-button--primary vs-button--floating loading"},[s("div",{staticClass:"vs-button__content"})])])])])])])])])])}],!1,null,null,null);W.options.__file="assets/vue/doctor/WorkSheetPage.vue";var A=W.exports,F=s(9669),R=s.n(F),M=s(2346),D=s(1370),z=s.n(D),N=s(1652),K=s.n(N);i.default.use(M.Z,R()),i.default.use(z()),i.default.use(K()),new i.default({render:function(e){return e(A)}}).$mount("#vue")},8457:function(e,t,s){"use strict";var i=s(9974),o=s(7908),a=s(3411),n=s(7659),r=s(7466),c=s(6135),l=s(8554),d=s(1246);e.exports=function(e){var t,s,v,u,p,h,f=o(e),m="function"==typeof this?this:Array,g=arguments.length,x=g>1?arguments[1]:void 0,_=void 0!==x,C=d(f),y=0;if(_&&(x=i(x,g>2?arguments[2]:void 0,2)),null==C||m==Array&&n(C))for(s=new m(t=r(f.length));t>y;y++)h=_?x(f[y],y):f[y],c(s,y,h);else for(p=(u=l(f,C)).next,s=new m;!(v=p.call(u)).done;y++)h=_?a(u,x,[v.value,y],!0):v.value,c(s,y,h);return s.length=y,s}},3411:function(e,t,s){var i=s(9670),o=s(9212);e.exports=function(e,t,s,a){try{return a?t(i(s)[0],s[1]):t(s)}catch(t){o(e,"throw",t)}}},1246:function(e,t,s){var i=s(648),o=s(7497),a=s(5112)("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||o[i(e)]}},8554:function(e,t,s){var i=s(9670),o=s(1246);e.exports=function(e,t){var s=arguments.length<2?o(e):t;if("function"!=typeof s)throw TypeError(String(e)+" is not iterable");return i(s.call(e))}},7659:function(e,t,s){var i=s(5112),o=s(7497),a=i("iterator"),n=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||n[a]===e)}},9212:function(e,t,s){var i=s(9670);e.exports=function(e,t,s){var o,a;i(e);try{if(void 0===(o=e.return)){if("throw"===t)throw s;return s}o=o.call(e)}catch(e){a=!0,o=e}if("throw"===t)throw s;if(a)throw o;return i(o),s}},6755:function(e,t,s){"use strict";var i,o=s(2109),a=s(1236).f,n=s(7466),r=s(1340),c=s(3929),l=s(4488),d=s(4964),v=s(1913),u="".startsWith,p=Math.min,h=d("startsWith");o({target:"String",proto:!0,forced:!!(v||h||(i=a(String.prototype,"startsWith"),!i||i.writable))&&!h},{startsWith:function(e){var t=r(l(this));c(e);var s=n(p(arguments.length>1?arguments[1]:void 0,t.length)),i=r(e);return u?u.call(t,i,s):t.slice(s,s+i.length)===i}})}},function(e){e.O(0,[429,274,587,480],(function(){return t=154,e(e.s=t);var t}));e.O()}]);