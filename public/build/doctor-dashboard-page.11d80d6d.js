"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[857],{1939:function(t,e,s){var i=s(538),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("section",{staticClass:"db-doctor",attrs:{id:"dashboard"}},[i("h1",[i("transition",{attrs:{name:"fade"}},[t.prescriProcess?t._e():i("span",[t._v("Bienvenue sur votre dashboard !\n                    "),i("i",[i("img",{attrs:{src:s(9402),alt:"Icone d'une main qui fait 'coucou'"}})])]),t._v(" "),t.prescriProcess?i("span",{staticClass:"prescri-process"},[i("span",[t._v("Création d'une prescription")]),t._v(" "),i("vs-button",{staticClass:"secondary",on:{click:t.stopPrescriProcess}},[t._v("\n                        Annuler\n                    ")])],1):t._e()])],1),t._v(" "),i("main",{class:{"with-notifs":!(t.doctor.city&&t.doctor.gender&&t.doctor.firstname&&t.doctor.lastname&&t.doctor.isVerified)}},[i("MyDashboardNotifications",{staticClass:"mobile-view",attrs:{doctor:t.doctor}}),t._v(" "),i("transition",{attrs:{name:"fade"}},[1===t.activeTab?i("MyPatients",{attrs:{doctor:t.doctor,doctorPatients:t.getDoctorPatients,allPatients:t.allPatients,loadingAllPatients:t.loadingAllPatients,loadingDoctorFirstsPatients:t.loadingDoctorFirstsPatients,loadingDoctorAllPatients:t.loadingDoctorAllPatients,csrfTokenAddPatient:t.csrfTokenAddPatient,csrfTokenRemovePatient:t.csrfTokenRemovePatient,csrfTokenCreatePatient:t.csrfTokenCreatePatient,prescriProcess:t.prescriProcess,btnLoadingPatientPrescriProcessRedirect:t.btnLoadingPatientPrescriProcessRedirect},on:{prescriProcessPatientChoice:t.setPrescriProcessPatientChoice,prescriProcessMainStart:function(e){return t.startPrescriProcess("patient")},prescriProcessMainStop:t.stopPrescriProcess}}):t._e(),t._v(" "),2===t.activeTab?i("MyWorksheetTemplates",{attrs:{doctor:t.doctor,worksheetTemplates:t.getWorksheetTemplates,tagsFromExercises:t.tagsFromExercises,csrfTokenRemoveWorksheet:t.csrfTokenRemoveWorksheet,loadingDoctorFirstsWorksheets:t.loadingDoctorFirstsWorksheets,loadingDoctorAllWorksheets:t.loadingDoctorAllWorksheets,prescriProcess:t.prescriProcess,btnLoadingWorksheetPrescriProcessRedirect:t.btnLoadingWorksheetPrescriProcessRedirect},on:{prescriProcessWorksheetChoice:t.setPrescriProcessWorksheetChoice,prescriProcessMainStart:function(e){return t.startPrescriProcess("worksheet")},prescriProcessMainStop:t.stopPrescriProcess}}):t._e()],1),t._v(" "),i("aside",[i("MyDashboardNotifications",{staticClass:"desktop-view",attrs:{doctor:t.doctor}}),t._v(" "),i("WorksheetStore",{attrs:{csrfTokenCreateWorksheet:t.csrfTokenCreateWorksheet,doctor:t.doctor,loadingDoctorFirstsWorksheets:t.loadingDoctorFirstsWorksheets,loadingDoctorAllWorksheets:t.loadingDoctorAllWorksheets},on:{addWorksheetStore:t.addWorksheetStore}})],1)],1)])])};a._withStripped=!0;s(7327),s(2222),s(2707),s(4916),s(4765),s(6992),s(1539),s(8783),s(3948),s(285),s(4747),s(2526),s(1817),s(2165),s(1038),s(7042),s(8309);var o=s(4098),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.doctor.city&&t.doctor.gender&&t.doctor.firstname&&t.doctor.lastname&&t.doctor.isVerified?t._e():s("section",{staticClass:"kiv-block",attrs:{id:"dashboard-notifications"}},[s("h2",[t._v("Notifications")]),t._v(" "),s("transition",{attrs:{name:"height"}},[s("div",{staticClass:"notifications-list"},[t.loading||t.doctor.isVerified?t._e():s("div",{staticClass:"notifications-item"},[s("p",{staticClass:"notification-label"},[t._v("\n                    Vérifier votre adresse email\n                ")]),t._v(" "),s("div",{staticClass:"notification-actions",class:{disabled:t.actionInProgress}},[s("a",{staticClass:"action-link verif-mail",on:{click:function(e){return t.resendVerifEmail()}}},[s("i",{staticClass:"fas fa-envelope"}),t._v(" "),s("span",[t._v("Renvoyer lien")])])])]),t._v(" "),t.loading||t.doctor.city&&t.doctor.gender&&t.doctor.firstname&&t.doctor.lastname?t._e():s("div",{staticClass:"notifications-item"},[s("p",{staticClass:"notification-label"},[t._v("Compléter votre profil")]),t._v(" "),s("div",{staticClass:"notification-actions"},[s("a",{staticClass:"action-link",attrs:{href:"/parametres"}},[s("i",{staticClass:"kiv-pen icon-4"}),t._v(" "),s("span",[t._v("Compléter")])])])]),t._v(" "),t.loading?s("div",[s("div",{staticClass:"loading-block notifications-item"},[s("p",{staticClass:"loading w-60 notification-label"}),t._v(" "),s("div",{staticClass:"loading w-25 notification-actions"})]),t._v(" "),s("div",{staticClass:"loading-block notifications-item"},[s("p",{staticClass:"loading w-30 notification-label"}),t._v(" "),s("div",{staticClass:"loading w-30 notification-actions"})])]):t._e()])])],1)};function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r._withStripped=!0;var c={data:function(){return{actionInProgress:!1,loading:!1}},props:{doctor:Object},methods:{resendVerifEmail:function(){var t=this;this.actionInProgress=!0,this.axios.get("/doctor/".concat(this.doctor.id,"/resend/verify-email")).then((function(e){o.Z.openSuccessNotification("E-mail de vérification envoyé",e.data),t.actionInProgress=!1})).catch((function(e){var s="object"===n(e.response.data)?e.response.data.detail:e.response.data;o.Z.openErrorNotification("Erreur",s),t.actionInProgress=!1}))}}},l=s(1900),d=(0,l.Z)(c,r,[],!1,null,null,null);d.options.__file="assets/vue/doctor/DashboardPage/MyDashboardNotifications.vue";var v=d.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"kiv-block s-worksheet-templates",class:{pb:t.prescriProcess&&!t.getWorksheetTemplates.length},attrs:{id:"my-worksheets"}},[s("div",{staticClass:"tabs"},[s("div",{staticClass:"inactive",class:{disabled:this.$parent.prescriProcess&&this.$parent.prescriProcessWorksheet},on:{click:function(e){return t.activeTab(1)}}},[t._m(0)]),t._v(" "),s("div",{on:{click:function(e){return t.activeTab(2)}}},[t._m(1)])]),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.prescriProcess&&t.getWorksheetTemplates.length?s("div",{staticClass:"prescri-process-dialog prescri-process-dialog-select-worksheet offset-left"},[s("span",{staticClass:"step-num"},[s("i",{staticClass:"fas fa-folder-plus"}),t._v(" "),s("span",{staticClass:"step-title"},[t._v("Prescription \n                    "),t.$parent.prescriProcessPatientSelected?s("span",[t._v(" pour \n                        "),s("strong",[t.$parent.prescriProcessPatientSelected.firstname||t.$parent.prescriProcessPatientSelected.lastname?s("span",[t._v("\n                                "+t._s(t.$parent.prescriProcessPatientSelected.firstname)+"\n                                "+t._s(t.$parent.prescriProcessPatientSelected.lastname)+"\n                            ")]):s("span",[t._v("\n                                "+t._s(t.$parent.prescriProcessPatientSelected.email)+"\n                            ")])])]):t._e()])]),t._v(" "),s("p",[t._v("\n                Veuillez sélectionner une ou plusieurs fiche(s). \n                "),s("br"),t._v("Vous pourrez la/les personnaliser à l'étape suivante.\n            ")])]):t._e()]),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.prescriProcess?s("div",{staticClass:"prescri-process-dialog pp-create-worksheet prescri-process-dialog-create-worksheet",class:{"no-ws":!t.getWorksheetTemplates.length}},[s("p",[t.getWorksheetTemplates.length?s("span",[t._v("et / ou sélectionnez")]):s("span",[t._v("Sélectionnez")]),t._v(" "),s("span",{staticClass:"only-mobile"},[t._v('avec le bouton "+"')]),t._v(" le nombre de prescriptions que vous souhaitez créer de zéro"),s("span",{staticClass:"only-mobile"},[t._v(" ou ajoutez des fiches du magasin")]),t.getWorksheetTemplates.length?t._e():s("span",[t._v(", puis validez avec l'un des boutons de prescription "),s("span",{staticClass:"only-mobile"},[t._v("ci-dessous")])])])]):t._e()]),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.prescriProcess&&!t.getWorksheetTemplates.length?s("div",{staticClass:"prescri-process-dialog pp-create-worksheet prescri-process-dialog-create-worksheet no-ws-store"},[s("p",[s("span",[t._v("Ou ajoutez des fiches du magasin")])])]):t._e()]),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.prescriProcess?s("div",{staticClass:"prescri-process-buttons"},[s("button",{staticClass:"prescri-edit",class:{"disabled-custom":!t.prescriProcessWorksheetsChoice.length},on:{click:function(e){return t.prescriProcessWorksheetChoice(t.prescriProcessWorksheetsChoice)}}},[s("svg",{staticStyle:{"enable-background":"new 0 0 96 96"},attrs:{version:"1.1",id:"Calque_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 96 96","xml:space":"preserve"}},[s("g",[s("polygon",{attrs:{points:"73.2,83.7 66.1,90.8 59.6,83.8 54.5,84.8 48.8,94.8 66.2,93.3 83.7,94.7 78.8,85.1 \t"}}),t._v(" "),s("path",{attrs:{d:"M24,77.8c-1.7,0-3-1.3-3-3v-62c0-1.7,1.3-3,3-3h23v17c0,5,4,9,9,9h17l-0.3,5.8c5.6-1.2,0,0,6.3-1.4v-7.4\n                        c0-0.8-0.3-1.6-0.9-2.1l-26-26c-0.5-0.5-1.3-0.9-2.1-0.9H24c-5,0-9,4-9,9v62c0,5,4,9,9,9l24-0.3c-0.4-2.4-0.4-2.4-1-5.8L24,77.8z\n                        M53,14l15.8,15.8H56c-1.7,0-3-1.3-3-3V14z"}})]),t._v(" "),s("g",[s("path",{attrs:{d:"M66.7,56.8c-3.6,0-6.5,2.9-6.5,6.5s2.9,6.5,6.5,6.5c3.6,0,6.5-2.9,6.5-6.5S70.3,56.8,66.7,56.8z"}}),t._v(" "),s("path",{attrs:{d:"M84.3,63.3l4.2-7.3L81,52.6l-1-8.3L71.9,46l-5.6-6.1L60.7,46l-8-1.7l-1,8.3L44.1,56l4.2,7.4l-4.2,7.3l7.5,3.4l1,8.3\n                        l8.1-1.7l5.6,6.1l5.6-6.1l8.1,1.7l1-8.3l7.5-3.4L84.3,63.3z M79.8,65.9L76,66.6c-0.1,0.4-0.3,0.8-0.5,1.1l2.3,3.1l-3.6,3.6L71,72.2\n                        c-0.4,0.2-0.7,0.3-1.1,0.5l-0.7,3.8h-4c-0.6,0-1.2-0.5-1.3-1.1l-0.5-2.7c-0.4-0.1-0.8-0.3-1.1-0.5l-3.1,2.2l-3.6-3.6l2.2-3.1\n                        c-0.2-0.4-0.3-0.8-0.5-1.1l-3.8-0.7v-5.1l3.8-0.6c0.1-0.4,0.3-0.8,0.5-1.1l-2.2-3.1l3.6-3.6l3.1,2.2c0.4-0.2,0.7-0.3,1.1-0.5\n                        l0.6-3.8h5.1l0.7,3.8c0.4,0.1,0.8,0.3,1.1,0.5l3.1-2.2l3.6,3.6L75.6,59c0.2,0.4,0.3,0.7,0.5,1.1l3.8,0.6V65.9z"}})])]),t._v(" "),s("span",[s("span",{staticClass:"m-r big"},[t._v("Paramétrer")]),t._v(" "),s("span",{staticClass:"medium"},[t._v("puis Prescrire")])])]),t._v(" "),s("button",{staticClass:"prescri-direct",class:{"disabled-custom":!t.prescriProcessWorksheetsChoice.length||t.prescriProcessWorksheetsChoice.filter((function(t){return null==t})).length||t.btnLoadingWorksheetPrescriProcessRedirect},on:{click:function(e){return t.prescriProcessWorksheetChoice(t.prescriProcessWorksheetsChoice,"direct")}}},[s("svg",{staticStyle:{"enable-background":"new 0 0 96 96"},attrs:{version:"1.1",id:"Calque_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 96 96","xml:space":"preserve"}},[s("g",[s("polygon",{attrs:{points:"73.2,83.7 66.1,90.8 59.6,83.8 54.5,84.8 48.8,94.8 66.2,93.3 83.7,94.7 78.8,85.1 \t"}}),t._v(" "),s("path",{attrs:{d:"M24,77.8c-1.7,0-3-1.3-3-3v-62c0-1.7,1.3-3,3-3h23v17c0,5,4,9,9,9h17l-0.3,5.8c5.6-1.2,0,0,6.3-1.4v-7.4\n                        c0-0.8-0.3-1.6-0.9-2.1l-26-26c-0.5-0.5-1.3-0.9-2.1-0.9H24c-5,0-9,4-9,9v62c0,5,4,9,9,9l24-0.3c-0.4-2.4-0.4-2.4-1-5.8L24,77.8z\n                        M53,14l15.8,15.8H56c-1.7,0-3-1.3-3-3V14z"}})]),t._v(" "),s("path",{attrs:{d:"M84.3,63.3l4.2-7.3L81,52.6l-1-8.3L71.9,46l-5.6-6.1L60.6,46l-8-1.7l-1,8.3L44,56l4.2,7.4L44,70.7l7.5,3.4l1,8.3l8.1-1.7\n                    l5.6,6.1l5.6-6.1l8.1,1.7l1-8.3l7.5-3.4L84.3,63.3z M63.5,71.8L55.6,64l2.5-2.5l5.4,5.4L74.4,56l2.5,2.5L63.5,71.8z"}})]),t._v(" "),s("span",[s("span",{staticClass:"big"},[t._v("Prescrire")]),t._v("\n                    directement\n                ")])])]):t._e()]),t._v(" "),s("transition",{attrs:{name:"height"}},[s("div",[s("div",{staticClass:"primary-actions p-a-w",class:{"without-tag":!t.getWorksheetTemplates.length}},[s("div",{staticClass:"search loading-s-c search-worksheet"},[s("vs-input",{attrs:{"label-placeholder":"Filtrer par nom de fiche et/ou créateur"},on:{keyup:function(e){t.page=1}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),t.loadingDoctorAllWorksheets?s("div",{staticClass:"loading-s"},[s("div",{staticClass:"ldio"},[s("div"),s("div"),s("div"),s("div"),s("div")])]):t._e()],1),t._v(" "),this.$parent.doctorWorksheets.length?s("treeselect",{staticClass:"worksheet-keywords",attrs:{multiple:!0,"disable-branch-nodes":!0,options:t.getTagsFromAll,noResultsText:"Aucun mot-clé ne correspond.",placeholder:"Mots-Clés","show-count":!0},on:{input:function(e){t.page=1}},scopedSlots:t._u([{key:"option-label",fn:function(e){var i=e.node,a=e.shouldShowCount,o=(e.count,e.labelClassName);e.countClassName;return s("label",{class:o},[t._v("\n                        "+t._s(i.label)+"\n                        "),a?s("span",[s("span",{staticClass:"selected-tags-nb",class:{"selected-tags-nb-disabled":0==t.getNbChildOptionSelected(i.label)}},[t._v(t._s(t.getNbChildOptionSelected(i.label)))])]):t._e()])}}],null,!1,2609282979),model:{value:t.selectedTags,callback:function(e){t.selectedTags=e},expression:"selectedTags"}}):t._e(),t._v(" "),s("div",{staticClass:"btn-primary-action add"},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[t.$parent.prescriProcess?t._e():s("vs-tooltip",{scopedSlots:t._u([{key:"tooltip",fn:function(){return[t._v(" Créer une fiche ")]},proxy:!0}],null,!1,987881784)},[s("vs-button",{staticClass:"btn-action add",attrs:{circle:"",floating:""},on:{click:function(e){return t.redirectToCreatePage(0)}}},[s("plus-icon",{staticClass:"custom-class",attrs:{size:"3x"}})],1)],1)],1),t._v(" "),s("transition",{attrs:{name:"fade",mode:"out-in"}},[t.$parent.prescriProcess?s("div",{staticClass:"btn-prescription-action",class:{active:t.prescriProcess,"active-effect":t.prescriProcess&&!t.$parent.prescriProcessWorksheetSelected,selected:t.$parent.prescriProcessWorksheetSelected&&null===t.$parent.prescriProcessWorksheetSelected.id}},[s("vs-tooltip",{scopedSlots:t._u([{key:"tooltip",fn:function(){return[t._v(" Créer une fiche ")]},proxy:!0}],null,!1,987881784)},[s("vs-button",{staticClass:"btn-action add prescri-process-create",attrs:{circle:"",floating:""},on:{click:function(e){t.prescriProcessWorksheetsChoice.filter((function(t){return null==t})).length<10&&t.prescriProcessWorksheetsChoice.push(null)}}},[s("plus-icon",{staticClass:"custom-class",attrs:{size:"3x"}})],1)],1),t._v(" "),t.prescriProcessWorksheetsChoice.filter((function(t){return null==t})).length?s("div",{staticClass:"new-fiche-controls"},[s("span",[t._v(t._s(t.prescriProcessWorksheetsChoice.filter((function(t){return null==t})).length))]),t._v(" "),s("vs-button",{attrs:{circle:"",floating:""},on:{click:function(e){t.prescriProcessWorksheetsChoice.splice(t.prescriProcessWorksheetsChoice.indexOf(null),1)}}},[t._v("\n                                -\n                                ")])],1):t._e()],1):t._e()])],1),t._v(" "),s("div",{staticClass:"btn-prescri-main",class:{"cancel-prescri-process":t.prescriProcess}},[s("vs-button",{staticClass:"btn-action add",attrs:{circle:"",floating:""},on:{click:t.prescriProcessMain}},[t.prescriProcess?s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"50px",height:"50px"}},[s("path",{attrs:{d:"M 9.15625 6.3125 L 6.3125 9.15625 L 22.15625 25 L 6.21875 40.96875 L 9.03125 43.78125 L 25 27.84375 L 40.9375 43.78125 L 43.78125 40.9375 L 27.84375 25 L 43.6875 9.15625 L 40.84375 6.3125 L 25 22.15625 Z"}})]):s("svg",{staticStyle:{"enable-background":"new 0 0 96 96"},attrs:{version:"1.1",id:"Calque_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 96 96","xml:space":"preserve"}},[s("polygon",{attrs:{points:"66.3,93.6 48.8,95 54.5,85 59.6,84 66.1,91.1 73.3,83.9 78.8,85.4 83.7,94.9 "}}),t._v(" "),s("path",{attrs:{d:"M24,4c-5,0-9,4-9,9v62c0,5,4,9,9,9l24-0.3c-0.4-2.4-0.4-2.4-1-5.8L24,78c-1.7,0-3-1.3-3-3V13c0-1.7,1.3-3,3-3h23v17\n                            c0,5,4,9,9,9h17l-0.3,5.8c5.6-1.2,0,0,6.3-1.4V33c0-0.8-0.3-1.6-0.9-2.1l-26-26C51.6,4.3,50.8,4,50,4H24z M53,14.2L68.8,30H56\n                            c-1.7,0-3-1.3-3-3V14.2z"}}),t._v(" "),s("path",{attrs:{d:"M89,56.1l-7.7-3.5l-1-8.4l-8.2,1.7l-5.7-6.2l-5.7,6.2l-8.2-1.7l-1,8.4l-7.7,3.5l4.2,7.4L43.8,71l7.7,3.5l1,8.4l8.2-1.7\n                            l5.7,6.2l5.7-6.2l8.2,1.7l1-8.4L89,71l-4.2-7.4L89,56.1z M79,65.3c-0.5,0.5-1.2,0.8-1.9,0.8h-8.2v8.2c0,1.4-1.1,2.5-2.5,2.5\n                            s-2.5-1.1-2.5-2.5v-8.2h-8.2c-1.4,0-2.5-1.1-2.5-2.5s1.1-2.5,2.5-2.5h8.2v-8.2c0-1.4,1.1-2.5,2.5-2.5s2.5,1.1,2.5,2.5V61h8.2\n                            c1.3,0,2.5,1.1,2.5,2.4C79.7,64.1,79.5,64.8,79,65.3z"}})]),t._v(" "),s("span",{staticClass:"btn-action-text"},[t._v("Prescrire")])])],1)],1),t._v(" "),s("div",{staticClass:"worksheet-list wl-doctor",class:{empty:!t.getWorksheetTemplates.length}},[s("transition",{attrs:{name:"fade"}},[!t.loadingDoctorFirstsWorksheets&&t.getWorksheetTemplates.length?s("div",t._l(t.getWorksheetTemplates,(function(e,i){return s("div",{key:i,staticClass:"worksheet-container"},[s("div",{staticClass:"worksheet",class:{"prescri-process-choice":t.$parent.prescriProcess}},[s("div",{staticClass:"toggle-zone",on:{click:function(s){return t.toggleCurrentOpenWorksheet(e.id)}}}),t._v(" "),s("div",{staticClass:"worksheet-header"},[s("h3",{staticClass:"worksheet-title"},[t._v("\n                                        "+t._s(e.title)+"\n                                    ")]),t._v(" "),s("TagPartOfBody",{attrs:{partOfBody:e.partOfBody}})],1),t._v(" "),s("div",{staticClass:"worksheet-content-wt"},[t.currentOpenWorksheet!=e.id?s("div",{staticClass:"worksheet-details worksheet-details-short"},[s("div",{staticClass:"\n                                                worksheet-exercises-count\n                                            "},[s("i",{staticClass:"kiv-exercise icon-7"}),t._v(" "),s("span",{staticClass:"space"},[t._v(t._s(e.exercises.length))])]),t._v(" "),s("div",{staticClass:"worksheet-timing"},[s("i",{staticClass:"kiv-calendar icon-10"}),t._v(" "),s("span",{staticClass:"space"},[t._v(t._s(e.perDay))]),t._v("\n                                            / \n                                            "),s("span",[t._v(t._s(e.perWeek))])]),t._v(" "),s("div",{staticClass:"worksheet-period"},[s("i",{staticClass:"kiv-clock icon-11"}),t._v(" "),s("span",{staticClass:"space"},[t._v(t._s(e.duration)+"\n                                                ")])])]):s("div",{staticClass:"worksheet-details"},[s("div",{staticClass:"\n                                                worksheet-exercises-count\n                                            "},[s("i",{staticClass:"kiv-exercise icon-7"}),t._v(" "),s("span",{staticClass:"space"},[t._v(t._s(e.exercises.length))]),t._v(" "),s("span",{staticClass:"space"},[t._v("exercice")]),e.exercises.length>1?s("span",[t._v("s")]):t._e()]),t._v(" "),s("div",{staticClass:"worksheet-timing"},[s("i",{staticClass:"kiv-calendar icon-10"}),t._v(" "),s("span",{staticClass:"space"},[t._v(t._s(e.perDay)+"x")]),t._v(" "),s("span",{staticClass:"space"},[t._v("/ jour -")]),t._v(" "),s("span",{staticClass:"space"},[t._v(t._s(e.perWeek)+"x")]),t._v(" "),s("span",{staticClass:"space"},[t._v("/ sem.")])]),t._v(" "),s("div",{staticClass:"worksheet-period"},[s("i",{staticClass:"kiv-clock icon-11"}),t._v(" "),s("span",{staticClass:"space"},[t._v("Pér. :")]),t._v(" "),s("span",{staticClass:"space"},[t._v(t._s(e.duration)+"\n                                                sem.")])])]),t._v(" "),s("transition",{attrs:{name:"height3"}},[t.currentOpenWorksheet==e.id?s("div",{staticClass:"worksheet-details-footer"},[s("div",{staticClass:"worksheet-exercises-container"},[s("div",{staticClass:"worksheet-exercises"},t._l(e.exercises,(function(e,i){return s("div",{key:i,staticClass:"worksheet-exercise"},[s("div",{staticClass:"worksheet-exercise-thumbnail"},[s("img",{attrs:{src:e.video.thumbnailUrl}})]),t._v(" "),s("div",{staticClass:"worksheet-exercise-details"},[s("div",{staticClass:"series-reps"},[s("i",{staticClass:"kiv-reps icon-19"}),t._v(" "),s("span",[t._v(t._s(e.numberOfSeries))]),t._v("\n                                                                    x "),s("span",{staticClass:"no-space"},[t._v(t._s(e.numberOfRepetitions))])]),t._v(" "),e.option?s("div",{staticClass:"option"},[t._v("\n                                                                - Option : "),s("span",[t._v(t._s(e.option))])]):t._e(),t._v(" "),e.hold?s("div",{staticClass:"hold"},[t._v("\n                                                                - Tenir : "),s("span",[t._v(t._s(e.hold)+"s")])]):t._e(),t._v(" "),e.tempo?s("div",{staticClass:"tempo"},[t._v("\n                                                                - Tempo : "),s("span",[t._v(t._s(e.tempo))])]):t._e()])])})),0),t._v(" "),s("div",{staticClass:"worksheet-exercise-other"},[s("div",{staticClass:"tags"},t._l(e.exercisesTags,(function(e,i){return s("div",{key:i,staticClass:"tag-chip"},[t._v("\n                                                            "+t._s(e.name)+"\n                                                        ")])})),0)])]),t._v(" "),s("div",{staticClass:"buttons-container",class:{disabled:t.$parent.prescriProcess}},[e.doctor.id===t.doctor.id?s("vs-tooltip",{scopedSlots:t._u([{key:"tooltip",fn:function(){return[t._v("\n                                                        Modifier\n                                                    ")]},proxy:!0}],null,!0)},[s("vs-button",{staticClass:"btn-action",attrs:{circle:""},on:{click:function(s){return t.redirectToEditPage(e.id)}}},[s("i",{staticClass:"fas fa-pen"})])],1):t._e(),t._v(" "),s("vs-tooltip",{scopedSlots:t._u([{key:"tooltip",fn:function(){return[t._v("\n                                                        Copier\n                                                    ")]},proxy:!0}],null,!0)},[s("vs-button",{staticClass:"btn-copy",attrs:{circle:""},on:{click:function(s){return t.redirectToCreatePage(e.id)}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",width:"64px",height:"64px"}},[s("path",{attrs:{d:"M 14 10.5 A 3.5 3.5 0 0 0 10.5 14 L 10.5 39.560547 A 3.5 3.5 0 0 0 14 43.060547 L 17.439453 43.060547 A 1.5 1.5 0 0 0 17.439453 40.060547 L 14 40.060547 A 0.5 0.5 0 0 1 13.5 39.560547 L 13.5 14 A 0.51 0.51 0 0 1 14 13.5 L 39.560547 13.5 A 0.5 0.5 0 0 1 40.060547 14 L 40.060547 17.439453 A 1.5 1.5 0 0 0 43.060547 17.439453 L 43.060547 14 A 3.5 3.5 0 0 0 39.560547 10.5 L 14 10.5 z M 24.439453 20.939453 C 22.500453 20.939453 20.939453 22.500453 20.939453 24.439453 L 20.939453 50 C 20.939453 51.939 22.500453 53.5 24.439453 53.5 L 50 53.5 C 51.939 53.5 53.5 51.939 53.5 50 L 53.5 24.439453 C 53.5 22.500453 51.939 20.939453 50 20.939453 L 24.439453 20.939453 z"}})])])],1),t._v(" "),e.doctor.id===t.doctor.id?s("vs-tooltip",{scopedSlots:t._u([{key:"tooltip",fn:function(){return[t._v("\n                                                        Supprimer\n                                                    ")]},proxy:!0}],null,!0)},[s("vs-button",{staticClass:"btn-action",attrs:{circle:""},on:{click:function(s){return t.removeWorksheet(e)}}},[s("i",{staticClass:"fas fa-trash"})])],1):t._e(),t._v(" "),t.doctor.giveAccessPublicWorksheetGeneration?s("vs-tooltip",{scopedSlots:t._u([{key:"tooltip",fn:function(){return[t._v("\n                                                        Créer un accès public\n                                                    ")]},proxy:!0}],null,!0)},[e.accessPublicSlug?t._e():s("vs-button",{attrs:{loading:t.btnLoadingCreatePublicAccess===e.id,circle:""},on:{click:function(s){return t.createPublicAccess(e)}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24px",height:"24px"}},[s("path",{attrs:{d:"M 3 3 L 3 21 L 21 21 L 21 12 L 19 12 L 19 19 L 5 19 L 5 5 L 12 5 L 12 3 L 3 3 z M 14 3 L 14 5 L 17.585938 5 L 8.2929688 14.292969 L 9.7070312 15.707031 L 19 6.4140625 L 19 10 L 21 10 L 21 3 L 14 3 z"}})])])],1):t._e(),t._v(" "),e.accessPublicSlug?s("div",{staticClass:"public-worksheet-url"},[s("span",{staticClass:"label"},[t._v("accès public")]),t._v(" "),s("span",{staticClass:"link",on:{click:function(s){return t.copyToClipboard(t.publicWorksheetBaseUrl+"/"+e.accessPublicSlug,e.id)}}},[t._v("\n                                                            "+t._s(t.publicWorksheetBaseUrl+"/"+e.accessPublicSlug)+"\n                                                            "),s("transition",{attrs:{name:"fade"}},[t.popUpCopyActive===e.id?s("span",{staticClass:"popUp-copy-active"},[t._v("Lien copié dans le presse-papier")]):t._e()])],1),t._v(" "),s("vs-button",{attrs:{loading:t.btnLoadingCreatePublicAccess===e.id},on:{click:function(s){return t.deletePublicAccess(e)}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"50px",height:"50px"}},[s("path",{attrs:{d:"M 9.15625 6.3125 L 6.3125 9.15625 L 22.15625 25 L 6.21875 40.96875 L 9.03125 43.78125 L 25 27.84375 L 40.9375 43.78125 L 43.78125 40.9375 L 27.84375 25 L 43.6875 9.15625 L 40.84375 6.3125 L 25 22.15625 Z"}})])])],1):t._e()],1)]):t._e()])],1)]),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.$parent.prescriProcess?s("div",{staticClass:"worksheet-choice-container"},[s("vs-checkbox",{class:{"active-effect":t.prescriProcess&&!t.$parent.prescriProcessWorksheetSelected},attrs:{val:e.id},model:{value:t.prescriProcessWorksheetsChoice,callback:function(e){t.prescriProcessWorksheetsChoice=e},expression:"prescriProcessWorksheetsChoice"}})],1):t._e()])],1)})),0):t._e(),t._v(" "),t.loadingDoctorFirstsWorksheets||t.getWorksheetTemplates.length||t.search||t.selectedTags.length?t._e():s("div",{staticClass:"not-found"},[s("p",[s("i",{staticClass:"fas fa-folder-minus"}),t._v(" "),s("span",[t._v("Vous n'avez pas de fiche")])])]),t._v(" "),t.loadingDoctorAllWorksheets||t.loadingDoctorFirstsWorksheets||t.getWorksheetTemplates.length||!t.search&&!t.selectedTags.length?t._e():s("div",{staticClass:"not-found"},[s("p",[s("i",{staticClass:"fas fa-folder-minus"}),t._v(" "),s("span",[t._v("Aucune fiche n'a été trouvée avec\n                                "),t.search?s("span",[t._v('"'),s("strong",[t._v(t._s(t.search))]),t._v('"')]):t._e(),t.search&&t.selectedTags.length?s("span",{staticClass:"et"},[t._v("et")]):t._e(),t.selectedTags.length?s("span",{staticClass:"tags"},t._l(t.selectedTags,(function(e,i){return s("div",{key:i,staticClass:"tag-chip"},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),0):t._e()])])]),t._v(" "),t.loadingDoctorAllWorksheets&&t.search?s("div",{staticClass:"not-found"},[s("p",[s("span",{staticClass:"loading-n"},[s("span",{staticClass:"ldio"},[s("span"),t._v(" "),s("span")])]),t._v(" "),s("span",[t._v("Chargement...")])])]):t._e(),t._v(" "),t.loadingDoctorFirstsWorksheets?s("div",[s("div",{staticClass:"worksheet-container loading-block"},[s("div",{staticClass:"worksheet"},[s("div",{staticClass:"worksheet-header"},[s("h3",{staticClass:"worksheet-title loading w-35"},[t._v("\n                                        Xxxxxxxxxxxxx xx x xxxxxxxxxx x\n                                    ")]),t._v(" "),s("div",{staticClass:"vs-tooltip-content kiv-help"},[s("button",{staticClass:"vs-button tag part-of-body"},[s("div",{staticClass:"vs-button__content loading"})])])]),t._v(" "),s("div",{staticClass:"worksheet-content-wt"},[s("div",{staticClass:"worksheet-details worksheet-details-short"},[s("div",{staticClass:"worksheet-exercises-count"},[s("i",{staticClass:"kiv-exercise icon-7"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])]),t._v(" "),s("div",{staticClass:"worksheet-timing"},[s("i",{staticClass:"kiv-calendar icon-10"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])]),t._v(" "),s("div",{staticClass:"worksheet-period"},[s("i",{staticClass:"kiv-clock icon-11"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])])])])])]),t._v(" "),s("div",{staticClass:"worksheet-container loading-block"},[s("div",{staticClass:"worksheet"},[s("div",{staticClass:"worksheet-header"},[s("h3",{staticClass:"worksheet-title loading w-35"},[t._v("\n                                        Xxxxxxxxxxxxx xx x xxxxxxxxxx x\n                                    ")]),t._v(" "),s("div",{staticClass:"vs-tooltip-content kiv-help"},[s("button",{staticClass:"vs-button tag part-of-body"},[s("div",{staticClass:"vs-button__content loading"})])])]),t._v(" "),s("div",{staticClass:"worksheet-content-wt"},[s("div",{staticClass:"worksheet-details worksheet-details-short"},[s("div",{staticClass:"worksheet-exercises-count"},[s("i",{staticClass:"kiv-exercise icon-7"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])]),t._v(" "),s("div",{staticClass:"worksheet-timing"},[s("i",{staticClass:"kiv-calendar icon-10"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])]),t._v(" "),s("div",{staticClass:"worksheet-period"},[s("i",{staticClass:"kiv-clock icon-11"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])])])])])]),t._v(" "),s("div",{staticClass:"worksheet-container loading-block"},[s("div",{staticClass:"worksheet"},[s("div",{staticClass:"worksheet-header"},[s("h3",{staticClass:"worksheet-title loading w-35"},[t._v("\n                                        Xxxxxxxxxxxxx xx x xxxxxxxxxx x\n                                    ")]),t._v(" "),s("div",{staticClass:"vs-tooltip-content kiv-help"},[s("button",{staticClass:"vs-button tag part-of-body"},[s("div",{staticClass:"vs-button__content loading"})])])]),t._v(" "),s("div",{staticClass:"worksheet-content-wt"},[s("div",{staticClass:"worksheet-details worksheet-details-short"},[s("div",{staticClass:"worksheet-exercises-count"},[s("i",{staticClass:"kiv-exercise icon-7"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])]),t._v(" "),s("div",{staticClass:"worksheet-timing"},[s("i",{staticClass:"kiv-calendar icon-10"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])]),t._v(" "),s("div",{staticClass:"worksheet-period"},[s("i",{staticClass:"kiv-clock icon-11"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])])])])])]),t._v(" "),s("div",{staticClass:"worksheet-container loading-block"},[s("div",{staticClass:"worksheet"},[s("div",{staticClass:"worksheet-header"},[s("h3",{staticClass:"worksheet-title loading w-35"},[t._v("\n                                        Xxxxxxxxxxxxx xx x xxxxxxxxxx x\n                                    ")]),t._v(" "),s("div",{staticClass:"vs-tooltip-content kiv-help"},[s("button",{staticClass:"vs-button tag part-of-body"},[s("div",{staticClass:"vs-button__content loading"})])])]),t._v(" "),s("div",{staticClass:"worksheet-content-wt"},[s("div",{staticClass:"worksheet-details worksheet-details-short"},[s("div",{staticClass:"worksheet-exercises-count"},[s("i",{staticClass:"kiv-exercise icon-7"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])]),t._v(" "),s("div",{staticClass:"worksheet-timing"},[s("i",{staticClass:"kiv-calendar icon-10"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])]),t._v(" "),s("div",{staticClass:"worksheet-period"},[s("i",{staticClass:"kiv-clock icon-11"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])])])])])]),t._v(" "),s("div",{staticClass:"worksheet-container loading-block"},[s("div",{staticClass:"worksheet"},[s("div",{staticClass:"worksheet-header"},[s("h3",{staticClass:"worksheet-title loading w-35"},[t._v("\n                                        Xxxxxxxxxxxxx xx x xxxxxxxxxx x\n                                    ")]),t._v(" "),s("div",{staticClass:"vs-tooltip-content kiv-help"},[s("button",{staticClass:"vs-button tag part-of-body"},[s("div",{staticClass:"vs-button__content loading"})])])]),t._v(" "),s("div",{staticClass:"worksheet-content-wt"},[s("div",{staticClass:"worksheet-details worksheet-details-short"},[s("div",{staticClass:"worksheet-exercises-count"},[s("i",{staticClass:"kiv-exercise icon-7"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])]),t._v(" "),s("div",{staticClass:"worksheet-timing"},[s("i",{staticClass:"kiv-calendar icon-10"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])]),t._v(" "),s("div",{staticClass:"worksheet-period"},[s("i",{staticClass:"kiv-clock icon-11"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])])])])])]),t._v(" "),s("div",{staticClass:"worksheet-container loading-block"},[s("div",{staticClass:"worksheet"},[s("div",{staticClass:"worksheet-header"},[s("h3",{staticClass:"worksheet-title loading w-35"},[t._v("\n                                        Xxxxxxxxxxxxx xx x xxxxxxxxxx x\n                                    ")]),t._v(" "),s("div",{staticClass:"vs-tooltip-content kiv-help"},[s("button",{staticClass:"vs-button tag part-of-body"},[s("div",{staticClass:"vs-button__content loading"})])])]),t._v(" "),s("div",{staticClass:"worksheet-content-wt"},[s("div",{staticClass:"worksheet-details worksheet-details-short"},[s("div",{staticClass:"worksheet-exercises-count"},[s("i",{staticClass:"kiv-exercise icon-7"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])]),t._v(" "),s("div",{staticClass:"worksheet-timing"},[s("i",{staticClass:"kiv-calendar icon-10"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])]),t._v(" "),s("div",{staticClass:"worksheet-period"},[s("i",{staticClass:"kiv-clock icon-11"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])])])])])]),t._v(" "),s("div",{staticClass:"worksheet-container loading-block"},[s("div",{staticClass:"worksheet"},[s("div",{staticClass:"worksheet-header"},[s("h3",{staticClass:"worksheet-title loading w-35"},[t._v("\n                                        Xxxxxxxxxxxxx xx x xxxxxxxxxx x\n                                    ")]),t._v(" "),s("div",{staticClass:"vs-tooltip-content kiv-help"},[s("button",{staticClass:"vs-button tag part-of-body"},[s("div",{staticClass:"vs-button__content loading"})])])]),t._v(" "),s("div",{staticClass:"worksheet-content-wt"},[s("div",{staticClass:"worksheet-details worksheet-details-short"},[s("div",{staticClass:"worksheet-exercises-count"},[s("i",{staticClass:"kiv-exercise icon-7"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])]),t._v(" "),s("div",{staticClass:"worksheet-timing"},[s("i",{staticClass:"kiv-calendar icon-10"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])]),t._v(" "),s("div",{staticClass:"worksheet-period"},[s("i",{staticClass:"kiv-clock icon-11"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])])])])])]),t._v(" "),s("div",{staticClass:"worksheet-container loading-block"},[s("div",{staticClass:"worksheet"},[s("div",{staticClass:"worksheet-header"},[s("h3",{staticClass:"worksheet-title loading w-35"},[t._v("\n                                        Xxxxxxxxxxxxx xx x xxxxxxxxxx x\n                                    ")]),t._v(" "),s("div",{staticClass:"vs-tooltip-content kiv-help"},[s("button",{staticClass:"vs-button tag part-of-body"},[s("div",{staticClass:"vs-button__content loading"})])])]),t._v(" "),s("div",{staticClass:"worksheet-content-wt"},[s("div",{staticClass:"worksheet-details worksheet-details-short"},[s("div",{staticClass:"worksheet-exercises-count"},[s("i",{staticClass:"kiv-exercise icon-7"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])]),t._v(" "),s("div",{staticClass:"worksheet-timing"},[s("i",{staticClass:"kiv-calendar icon-10"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])]),t._v(" "),s("div",{staticClass:"worksheet-period"},[s("i",{staticClass:"kiv-clock icon-11"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])])])])])]),t._v(" "),s("div",{staticClass:"worksheet-container loading-block"},[s("div",{staticClass:"worksheet"},[s("div",{staticClass:"worksheet-header"},[s("h3",{staticClass:"worksheet-title loading w-35"},[t._v("\n                                        Xxxxxxxxxxxxx xx x xxxxxxxxxx x\n                                    ")]),t._v(" "),s("div",{staticClass:"vs-tooltip-content kiv-help"},[s("button",{staticClass:"vs-button tag part-of-body"},[s("div",{staticClass:"vs-button__content loading"})])])]),t._v(" "),s("div",{staticClass:"worksheet-content-wt"},[s("div",{staticClass:"worksheet-details worksheet-details-short"},[s("div",{staticClass:"worksheet-exercises-count"},[s("i",{staticClass:"kiv-exercise icon-7"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])]),t._v(" "),s("div",{staticClass:"worksheet-timing"},[s("i",{staticClass:"kiv-calendar icon-10"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])]),t._v(" "),s("div",{staticClass:"worksheet-period"},[s("i",{staticClass:"kiv-clock icon-11"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])])])])])]),t._v(" "),s("div",{staticClass:"worksheet-container loading-block"},[s("div",{staticClass:"worksheet"},[s("div",{staticClass:"worksheet-header"},[s("h3",{staticClass:"worksheet-title loading w-35"},[t._v("\n                                        Xxxxxxxxxxxxx xx x xxxxxxxxxx x\n                                    ")]),t._v(" "),s("div",{staticClass:"vs-tooltip-content kiv-help"},[s("button",{staticClass:"vs-button tag part-of-body"},[s("div",{staticClass:"vs-button__content loading"})])])]),t._v(" "),s("div",{staticClass:"worksheet-content-wt"},[s("div",{staticClass:"worksheet-details worksheet-details-short"},[s("div",{staticClass:"worksheet-exercises-count"},[s("i",{staticClass:"kiv-exercise icon-7"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])]),t._v(" "),s("div",{staticClass:"worksheet-timing"},[s("i",{staticClass:"kiv-calendar icon-10"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])]),t._v(" "),s("div",{staticClass:"worksheet-period"},[s("i",{staticClass:"kiv-clock icon-11"}),t._v(" "),s("span",{staticClass:"space loading"},[t._v("xxx")])])])])])])]):t._e()])],1),t._v(" "),t.loadingDoctorFirstsWorksheets||t.loadingDoctorAllWorksheets||!t.getWorksheetTemplates.length?t._e():s("div",{staticClass:"pagination",class:{"prescri-process":t.prescriProcess}},[s("vs-pagination",{attrs:{length:t.getLength(t.getSearch(t.worksheetTemplates,t.search),t.max)},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}},[s("vs-select",{model:{value:t.page,callback:function(e){t.page=e},expression:"page"}},t._l(t.getLength(t.getSearch(t.worksheetTemplates,t.search),t.max),(function(e){return s("vs-option",{key:e,attrs:{label:e,value:e}},[t._v("\n                            "+t._s(e)+"\n                        ")])})),1)],1)],1),t._v(" "),(t.loadingDoctorFirstsWorksheets||t.loadingDoctorAllWorksheets)&&t.getWorksheetTemplates.length?s("div",{staticClass:"pagination",class:{"prescri-process":t.prescriProcess}},[s("div",{staticClass:"vs-pagination-content vs-component--primary"},[s("button",{staticClass:"vs-pagination__arrow prev",attrs:{disabled:"disabled"}},[s("i",{staticClass:"vs-icon-arrow"})]),t._v(" "),s("div",{staticClass:"vs-pagination__slot"},[s("div",{staticClass:"vs-select-content loading-c vs-component--primary"},[s("div",{staticClass:"vs-select vs-select--state-null"},[s("input",{staticClass:"vs-select__input simple"}),s("label",{staticClass:"vs-select__label vs-select__label--hidden"}),s("label",{staticClass:"vs-select__label vs-select__label--hidden"}),s("i",{staticClass:"vs-icon-arrow"})])])]),t._v(" "),s("button",{staticClass:"vs-pagination__arrow next loading"},[s("i",{staticClass:"vs-icon-arrow",attrs:{disabled:"disabled"}})])])]):t._e()])]),t._v(" "),s("vs-dialog",{model:{value:t.modalConfirmRemoveWorksheet,callback:function(e){t.modalConfirmRemoveWorksheet=e},expression:"modalConfirmRemoveWorksheet"}},[s("p",{staticClass:"modal-confirm-text"},[t._v("Confirmer la suppression de")]),t._v(" "),s("div",{staticClass:"modal-confirm-detail remove-item"},[s("div",{staticClass:"modal-confirm-icon remove-item"},[s("i",{staticClass:"fas fa-trash"})]),t._v(" "),s("p",[s("span",[t._v("\n                    "+t._s(t.removeWorksheetDetails.title)+"\n                ")])])]),t._v(" "),s("div",{staticClass:"modal-confirm-buttons"},[s("vs-button",{staticClass:"secondary",on:{click:function(e){t.modalConfirmRemoveWorksheet=!1}}},[t._v("\n                Annuler\n            ")]),t._v(" "),s("vs-button",{class:{disabled:t.btnLoadingValidRemoveWorksheet},attrs:{loading:t.btnLoadingValidRemoveWorksheet},on:{click:t.validRemoveWorksheet}},[t._v("\n                Confirmer\n            ")])],1)])],1)};h._withStripped=!0;s(9826),s(6699),s(2023),s(561),s(7941),s(5306),s(3210),s(9714);var p=s(7771),u=s(381),g=s.n(u),C=s(9101),_=s(4301),m=s.n(_);function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var k={props:{doctor:Object,worksheetTemplates:Array,loadingDoctorFirstsWorksheets:Boolean,loadingDoctorAllWorksheets:Boolean,tagsFromExercises:Array,prescriProcess:Boolean,btnLoadingWorksheetPrescriProcessRedirect:Boolean,csrfTokenRemoveWorksheet:String},components:{TagPartOfBody:p.Z,PlusIcon:C.pOD,Treeselect:m()},data:function(){return{selectedTags:[],search:"",page:1,max:10,viewAllTemplates:!1,modalConfirmRemoveWorksheet:!1,removeWorksheetDetails:{},btnLoadingValidRemoveWorksheet:!1,btnLoadingAddWorksheet:!1,btnLoadingCopyWorksheet:null,btnLoadingCreatePublicAccess:null,popUpCopyActive:null,currentOpenWorksheet:null,prescriProcessWorksheetsChoice:[]}},computed:{getWorksheetTemplates:function(){return this.getPage(this.getSearch(this.worksheetTemplates,this.search),this.page,this.max)},getTagsFromAll:function(){return o.Z.getTagsFromAll(this.tagsFromExercises)},publicWorksheetBaseUrl:function(){return"".concat(window.location.protocol,"//").concat(window.location.host,"/fiche")},totalSelectedChildrenForObjectif:function(){return this.getNbChildOptionSelectedByParentOptionLabel("Objectif")},totalSelectedChildrenForCible:function(){return this.getNbChildOptionSelectedByParentOptionLabel("Cible")},totalSelectedChildrenForTypeDeContraction:function(){return this.getNbChildOptionSelectedByParentOptionLabel("Type de contraction")},totalSelectedChildrenForTypeDeMouvement:function(){return this.getNbChildOptionSelectedByParentOptionLabel("Type de mouvement")},totalSelectedChildrenForSpecialite:function(){return this.getNbChildOptionSelectedByParentOptionLabel("Spécialité")}},watch:{worksheetTemplates:function(){this.page=1},getWorksheetTemplates:function(t){(this.selectedTags.length||this.$parent.worksheetStoreAdded)&&(this.currentOpenWorksheet=this.getWorksheetTemplates.length?this.getWorksheetTemplates[0].id:null)}},methods:{getNbChildOptionSelected:function(t){return"Objectif"==t?this.totalSelectedChildrenForObjectif:"Cible"==t?this.totalSelectedChildrenForCible:"Type de contraction"==t?this.totalSelectedChildrenForTypeDeContraction:"Type de mouvement"==t?this.totalSelectedChildrenForTypeDeMouvement:"Spécialité"==t?this.totalSelectedChildrenForSpecialite:"..."},getNbChildOptionSelectedByParentOptionLabel:function(t){var e=this;return this.getTagsFromAll.find((function(e){return e.label===t})).children.filter((function(t){return e.selectedTags.includes(t.id)})).length},prescriProcessWorksheetChoice:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!this.$parent.prescriProcessPatientSelected||e&&("direct"!==e||t.filter((function(t){return null==t})).length)||this.$emit("prescriProcessWorksheetChoice",{worksheetsIds:t,prescriptionType:e})},redirectToEditPage:function(t){document.location.href="/doctor/".concat(this.doctor.id,"/fiche/edition/").concat(t)},redirectToCreatePage:function(t){t?this.btnLoadingCopyWorksheet=t:this.btnLoadingAddWorksheet=!0,document.location.href="/doctor/".concat(this.doctor.id,"/fiche/creation/").concat(t)},toggleCurrentOpenWorksheet:function(t){this.currentOpenWorksheet=this.currentOpenWorksheet!=t?t:null},activeTab:function(t){this.$parent.activeTab!=t&&(this.$parent.activeTab=t),document.querySelectorAll("#dashboard-notifications, #worksheet-store").forEach((function(t){t.classList.add("fade-hidden"),setTimeout((function(){t.classList.remove("fade-hidden")}),500)})),window.scrollTo({top:0,behavior:"smooth"})},removeWorksheet:function(t){return this.removeWorksheetDetails=t,this.modalConfirmRemoveWorksheet=!this.modalConfirmRemoveWorksheet},prescriProcessMain:function(){this.prescriProcess?this.$emit("prescriProcessMainStop",!0):(window.scrollTo({top:0,behavior:"smooth"}),this.$emit("prescriProcessMainStart",!0))},validRemoveWorksheet:function(){var t=this;this.btnLoadingValidRemoveWorksheet=!0,this.axios.post("/doctor/".concat(this.doctor.id,"/remove/worksheet"),{_token:this.csrfTokenRemoveWorksheet,worksheetId:this.removeWorksheetDetails.id}).then((function(e){o.Z.openSuccessNotification("Suppression de la fiche",e.data),t.$parent.doctorWorksheets.splice(t.$parent.doctorWorksheets.indexOf(t.removeWorksheetDetails),1),t.btnLoadingValidRemoveWorksheet=!1,t.modalConfirmRemoveWorksheet=!1})).catch((function(e){console.log(e);var s="object"===x(e.response.data)?e.response.data.detail:e.response.data;o.Z.openErrorNotification("Erreur",s),t.btnLoadingValidRemoveWorksheet=!1,t.modalConfirmRemoveWorksheet=!1}))},formatDate:function(t){return g()(t).format("DD/MM/YYYY")},getPage:function(t,e,s){return o.Z.getPage(t,e,s)},getLength:function(t,e){return o.Z.getLength(t,e)},getSearch:function(t,e){var s=this,i=o.Z.getSearch(t,e);return this.selectedTags.length&&(i=i.filter((function(t){var e=[];return t.exercisesTags&&s.selectedTags.forEach((function(s){var i=!1;Object.keys(t.exercisesTags).forEach((function(e){t.exercisesTags[e].name===s&&(i=!0)})),e.push(i)})),!e.includes(!1)}))),this.viewAllTemplates||(i=i.filter((function(t){return t.doctor&&t.doctor.id===s.doctor.id}))),i},createPublicAccess:function(t){var e=this;this.btnLoadingCreatePublicAccess=t.id,this.axios.post("/doctor/".concat(this.doctor.id,"/create/public-access/").concat(t.id),{worksheetTitleSlug:this.slugify(t.title).substring(0,255)}).then((function(s){e.btnLoadingCreatePublicAccess=null,t.accessPublicSlug=s.data})).catch((function(t){var s="object"===x(t.response.data)?t.response.data.detail:t.response.data;e.btnLoadingCreatePublicAccess=null,o.Z.openErrorNotification("Erreur",s),e.btnLoadingValidRemoveWorksheet=!1,e.modalConfirmRemoveWorksheet=!1}))},deletePublicAccess:function(t){var e=this;this.btnLoadingCreatePublicAccess=t.id,this.axios.post("/doctor/".concat(this.doctor.id,"/delete/public-access/").concat(t.id),{}).then((function(s){e.btnLoadingCreatePublicAccess=null,t.accessPublicSlug=s.data})).catch((function(t){var s="object"===x(t.response.data)?t.response.data.detail:t.response.data;e.btnLoadingCreatePublicAccess=null,o.Z.openErrorNotification("Erreur",s),e.btnLoadingValidRemoveWorksheet=!1,e.modalConfirmRemoveWorksheet=!1}))},slugify:function(t){return t.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^a-z0-9 ]/g,"").replace(/\s+/g,"-")},copyToClipboard:function(t,e){var s=this;"clipboard"in navigator&&navigator.clipboard.writeText(t).then((function(){s.popUpCopyActive=e,setTimeout((function(){s.popUpCopyActive=null}),1500)})).catch((function(t){return console.log(t)}))},handleEventAddWorksheetStore:function(){this.page=1,this.selectedTags=[]}},created:function(){this.$bus.$on("addWorksheetStoreTriggered",this.handleEventAddWorksheetStore)},beforeDestroy:function(){this.$bus.$off("addWorksheetStoreTriggered",this.handleEventAddWorksheetStore)}},f=(0,l.Z)(k,h,[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",[s("span",[t._v("Mes Patients")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",[s("span",[t._v("Mes fiches")])])}],!1,null,null,null);f.options.__file="assets/vue/doctor/DashboardPage/MyWorksheetTemplates.vue";var b=f.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"kiv-block s-prescriptions",attrs:{id:"my-worksheets"}},[s("div",{staticClass:"tabs"},[s("div",{on:{click:function(e){return t.activeTab(1)}}},[t._m(0)]),t._v(" "),s("div",{staticClass:"inactive",class:{disabled:this.$parent.prescriProcess&&this.$parent.prescriProcessPatient},on:{click:function(e){return t.activeTab(2)}}},[t._m(1)])]),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.prescriProcess?s("div",{staticClass:"prescri-process-dialog prescri-process-dialog-patient"},[s("span",{staticClass:"step-num"},[s("i",{staticClass:"fas fa-folder-plus"}),s("span",{staticClass:"only-mobile"},[t._v("Prescription - ")]),t._v("Etape\n                "+t._s(t.$parent.prescriProcessWorksheetSelected?2:1)+"\n            ")]),t._v(" "),s("p",[t._v("Veuillez Sélectionner un patient")])]):t._e()]),t._v(" "),s("transition",{attrs:{name:"height"}},[s("div",[s("div",{staticClass:"primary-actions"},[s("div",{staticClass:"search loading-s-c"},[s("vs-input",{attrs:{"label-placeholder":"Filtrer par nom de fiche et/ou patient"},on:{keyup:function(e){t.page=1}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),t.loadingDoctorAllPatients?s("div",{staticClass:"loading-s"},[s("div",{staticClass:"ldio"},[s("div"),s("div"),s("div"),s("div"),s("div")])]):t._e()],1),t._v(" "),s("div",[s("div",{staticClass:"btn-primary-action add",class:{"btn-create-action":t.$parent.prescriProcess,active:t.prescriProcess,"active-effect":t.prescriProcess&&!t.$parent.prescriProcessPatientSelected}},[s("vs-tooltip",{scopedSlots:t._u([{key:"tooltip",fn:function(){return[t._v("\n                                Ajouter un patient\n                            ")]},proxy:!0}])},[s("vs-button",{staticClass:"btn-action add",attrs:{circle:"",floating:""},on:{click:function(e){t.modalAddPatient=!0}}},[s("plus-icon",{staticClass:"custom-class",attrs:{size:"3x"}})],1)],1)],1),t._v(" "),s("vs-dialog",{attrs:{width:"450px",loading:t.$parent.loadingAllPatients},model:{value:t.modalAddPatient,callback:function(e){t.modalAddPatient=e},expression:"modalAddPatient"}},[s("PatientAdd",{attrs:{doctor:t.doctor,allPatients:t.allPatients,loadingAllPatients:t.loadingAllPatients,csrfTokenAddPatient:t.csrfTokenAddPatient,csrfTokenCreatePatient:t.csrfTokenCreatePatient},on:{addPatient:t.addPatient,closeModalAddPatient:function(e){t.modalAddPatient=!1}}})],1)],1),t._v(" "),s("div",{staticClass:"btn-prescri-main",class:{"cancel-prescri-process":t.prescriProcess}},[s("vs-button",{staticClass:"btn-action add",attrs:{circle:"",floating:""},on:{click:t.prescriProcessMain}},[t.prescriProcess?s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"50px",height:"50px"}},[s("path",{attrs:{d:"M 9.15625 6.3125 L 6.3125 9.15625 L 22.15625 25 L 6.21875 40.96875 L 9.03125 43.78125 L 25 27.84375 L 40.9375 43.78125 L 43.78125 40.9375 L 27.84375 25 L 43.6875 9.15625 L 40.84375 6.3125 L 25 22.15625 Z"}})]):s("svg",{staticStyle:{"enable-background":"new 0 0 96 96"},attrs:{version:"1.1",id:"Calque_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 96 96","xml:space":"preserve"}},[s("polygon",{attrs:{points:"66.3,93.6 48.8,95 54.5,85 59.6,84 66.1,91.1 73.3,83.9 78.8,85.4 83.7,94.9 "}}),t._v(" "),s("path",{attrs:{d:"M24,4c-5,0-9,4-9,9v62c0,5,4,9,9,9l24-0.3c-0.4-2.4-0.4-2.4-1-5.8L24,78c-1.7,0-3-1.3-3-3V13c0-1.7,1.3-3,3-3h23v17\n                                c0,5,4,9,9,9h17l-0.3,5.8c5.6-1.2,0,0,6.3-1.4V33c0-0.8-0.3-1.6-0.9-2.1l-26-26C51.6,4.3,50.8,4,50,4H24z M53,14.2L68.8,30H56\n                                c-1.7,0-3-1.3-3-3V14.2z"}}),t._v(" "),s("path",{attrs:{d:"M89,56.1l-7.7-3.5l-1-8.4l-8.2,1.7l-5.7-6.2l-5.7,6.2l-8.2-1.7l-1,8.4l-7.7,3.5l4.2,7.4L43.8,71l7.7,3.5l1,8.4l8.2-1.7\n                                l5.7,6.2l5.7-6.2l8.2,1.7l1-8.4L89,71l-4.2-7.4L89,56.1z M79,65.3c-0.5,0.5-1.2,0.8-1.9,0.8h-8.2v8.2c0,1.4-1.1,2.5-2.5,2.5\n                                s-2.5-1.1-2.5-2.5v-8.2h-8.2c-1.4,0-2.5-1.1-2.5-2.5s1.1-2.5,2.5-2.5h8.2v-8.2c0-1.4,1.1-2.5,2.5-2.5s2.5,1.1,2.5,2.5V61h8.2\n                                c1.3,0,2.5,1.1,2.5,2.4C79.7,64.1,79.5,64.8,79,65.3z"}})]),t._v(" "),s("span",{staticClass:"btn-action-text"},[t._v("Prescrire")])])],1)]),t._v(" "),s("div",{staticClass:"worksheet-list wl-patients wl-doctor",class:{empty:!t.getDoctorPatients.length,"prescri-process":t.prescriProcess}},[!t.loadingDoctorFirstsPatients&&t.getDoctorPatients.length?s("div",t._l(t.getDoctorPatients,(function(e,i){return s("div",{key:i,class:{active:t.prescriProcess,"active-effect":t.prescriProcess&&!t.$parent.prescriProcessPatientSelected,selected:t.$parent.prescriProcessPatientSelected&&t.$parent.prescriProcessPatientSelected.id===e.id},on:{click:function(s){return t.prescriProcessPatientChoiceMobile(e)}}},[s("div",{staticClass:"patient-details"},[s("div",{staticClass:"user"},[s("vs-avatar",{staticClass:"avatar",attrs:{circle:"",size:"55"},on:{click:function(s){return t.redirectToPatientDashboard(e.id)}}},[s("img",{attrs:{src:e.avatarUrl?e.avatarUrl:"/img/avatar-default.svg",alt:"Avatar de "+e.firstname+" "+e.lastname}}),t._v(" "),e.birthdate?s("div",{staticClass:"age"},[t._v("\n                                        "+t._s(t.getAge(e.birthdate))+" ans\n                                    ")]):t._e()]),t._v(" "),s("div",{staticClass:"user-name"},[s("div",{staticClass:"name"},[e.firstname||e.lastname?s("span",{on:{click:function(s){return t.redirectToPatientDashboard(e.id)}}},[t._v("\n                                            "+t._s(e.firstname)+"\n                                            "+t._s(e.lastname)+"\n                                        ")]):s("span",{on:{click:function(s){return t.redirectToPatientDashboard(e.id)}}},[t._v("\n                                            "+t._s(e.email)+"\n                                        ")])]),t._v(" "),e.addRequestDoctor?s("div",{staticClass:"mail"},[s("span",{on:{click:function(s){return t.redirectToPatientDashboard(e.id)}}},[t._v(t._s(e.email))])]):t._e()])],1),t._v(" "),s("div",{staticClass:"prescriptions",class:{multiples:"worksheets"in e&&e.worksheets.length&&e.worksheets.length>1,"no-prescription":"worksheets"in e&&!e.worksheets.length}},[s("h4",["worksheets"in e&&e.worksheets.length?s("span",{on:{click:function(s){return t.redirectToPatientDashboard(e.id,"my-worksheets")}}},[s("span",[t._v(t._s(e.worksheets.length))]),t._v("\n                                        prescription"),e.worksheets.length>1?s("span",[t._v("s")]):t._e(),t._v("\n                                        :\n                                    ")]):s("span",{on:{click:function(s){return t.redirectToPatientDashboard(e.id,"my-worksheets")}}},[t._v("aucune prescription")])]),t._v(" "),s("div",{staticClass:"patient-prescriptions-list-container"},[s("ul",{staticClass:"patient-prescriptions-list",class:{"not-empty":!("worksheets"in e&&e.worksheets.length)},on:{click:function(s){return t.redirectToPatientDashboard(e.id,"my-worksheets")}}},t._l(e.worksheets,(function(e,i){return s("li",{key:i,staticClass:"worksheet-progress-line",class:{"with-commentaries":e.commentaries&&e.commentaries.filter((function(t){return!t.doctor})).length}},[s("div",{staticClass:"progressbar-base",class:{"loading-gray":t.loadingsGetSessions.includes(e.id)}},[s("div",{staticClass:"worksheet-infos"},[s("span",[t._v(t._s(e.title))])]),t._v(" "),s("div",{staticClass:"progressbar-thumb",style:{width:e.worksheetTotalProgression?e.worksheetTotalProgression<7?"7%":e.worksheetTotalProgression+"%":"0%"}})]),t._v(" "),e.commentaries&&e.commentaries.filter((function(t){return!t.doctor})).length?s("div",{staticClass:"worksheet-commentaries"},[s("span",{staticClass:"count-commentaries"},[t._v("\n                                                    "+t._s(e.commentaries.filter((function(t){return!t.doctor})).length)+"\n                                                ")])]):t._e()])})),0),t._v(" "),s("div",{staticClass:"patient-prescription-btn"},[s("vs-button",{on:{click:function(s){return t.prescriProcessPatientChoice(e)}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"96px",height:"96px"}},[s("path",{attrs:{d:"M 12.5 4 C 10.019 4 8 6.019 8 8.5 L 8 39.5 C 8 41.981 10.019 44 12.5 44 L 25.640625 44 C 24.785625 43.111 24.055516 42.103 23.478516 41 L 12.5 41 C 11.673 41 11 40.327 11 39.5 L 11 8.5 C 11 7.673 11.673 7 12.5 7 L 24 7 L 24 15.5 C 24 17.981 26.019 20 28.5 20 L 37 20 L 37 22.169922 C 38.045 22.331922 39.053 22.606906 40 23.003906 L 40 18.5 C 40 18.0855 39.831922 17.710828 39.560547 17.439453 L 26.560547 4.4394531 C 26.289172 4.1680781 25.9145 4 25.5 4 L 12.5 4 z M 27 9.1210938 L 34.878906 17 L 28.5 17 C 27.673 17 27 16.327 27 15.5 L 27 9.1210938 z M 35 24 C 28.925 24 24 28.925 24 35 C 24 41.075 28.925 46 35 46 C 41.075 46 46 41.075 46 35 C 46 28.925 41.075 24 35 24 z M 35 27 C 35.552 27 36 27.448 36 28 L 36 34 L 42 34 C 42.552 34 43 34.448 43 35 C 43 35.552 42.552 36 42 36 L 36 36 L 36 42 C 36 42.552 35.552 43 35 43 C 34.448 43 34 42.552 34 42 L 34 36 L 28 36 C 27.448 36 27 35.552 27 35 C 27 34.448 27.448 34 28 34 L 34 34 L 34 28 C 34 27.448 34.448 27 35 27 z"}})]),t._v("\n                                            Prescrire\n                                        ")])],1)])]),t._v(" "),t.prescriProcess?t._e():s("button",{staticClass:"remove-user",on:{click:function(s){return t.removePatient(e)}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"48px",height:"48px"}},[s("path",{attrs:{d:"M 24 4 C 20.491685 4 17.570396 6.6214322 17.080078 10 L 6.5 10 A 1.50015 1.50015 0 1 0 6.5 13 L 8.6367188 13 L 11.15625 39.029297 C 11.43025 41.862297 13.785813 44 16.632812 44 L 31.367188 44 C 34.214187 44 36.56875 41.862297 36.84375 39.029297 L 39.363281 13 L 41.5 13 A 1.50015 1.50015 0 1 0 41.5 10 L 30.919922 10 C 30.429604 6.6214322 27.508315 4 24 4 z M 24 7 C 25.879156 7 27.420767 8.2681608 27.861328 10 L 20.138672 10 C 20.579233 8.2681608 22.120844 7 24 7 z M 19.5 18 C 20.328 18 21 18.671 21 19.5 L 21 34.5 C 21 35.329 20.328 36 19.5 36 C 18.672 36 18 35.329 18 34.5 L 18 19.5 C 18 18.671 18.672 18 19.5 18 z M 28.5 18 C 29.328 18 30 18.671 30 19.5 L 30 34.5 C 30 35.329 29.328 36 28.5 36 C 27.672 36 27 35.329 27 34.5 L 27 19.5 C 27 18.671 27.672 18 28.5 18 z"}})])])])])})),0):t._e(),t._v(" "),t.loadingDoctorFirstsPatients||t.getDoctorPatients.length||t.search?t._e():s("div",{staticClass:"not-found"},[s("p",[s("i",{staticClass:"fas fa-user-minus"}),t._v(" "),s("span",[t._v("Vous n'avez pas de patient")])])]),t._v(" "),t.loadingDoctorAllPatients||t.loadingDoctorFirstsPatients||t.getDoctorPatients.length||!t.search?t._e():s("div",{staticClass:"not-found"},[s("p",[s("i",{staticClass:"fas fa-folder-minus"}),t._v(" "),s("span",[t._v("Aucun patient n'a été trouvé avec\n                            "),t.search?s("span",[t._v('"'),s("strong",[t._v(t._s(t.search))]),t._v('"')]):t._e()])])]),t._v(" "),t.loadingDoctorAllPatients&&t.search?s("div",{staticClass:"not-found"},[s("p",[s("span",{staticClass:"loading-n"},[s("span",{staticClass:"ldio"},[s("span"),t._v(" "),s("span")])]),t._v(" "),s("span",[t._v("Chargement...")])])]):t._e(),t._v(" "),t.loadingDoctorFirstsPatients?s("div",[s("div",{staticClass:"loading loading-block",staticStyle:{height:"13rem"}},[s("div",{staticClass:"patient-details"},[s("div",{staticClass:"user"},[s("div",{staticClass:"vs-avatar-content avatar vs-avatar-content--circle",staticStyle:{width:"60px",height:"60px"}},[s("div",{staticClass:"vs-avatar loading"})]),t._v(" "),s("div",{staticClass:"user-name"},[s("div",{staticClass:"name loading  w-25"},[s("span",[t._v(" xxxxxx ")])]),t._v(" "),s("div",{staticClass:"mail loading  w-35"},[t._v("\n                                        xxxxxx \n                                    ")])])]),t._v(" "),s("div",{staticClass:"prescriptions"},[s("h4",{staticClass:"loading w-45",staticStyle:{"max-height":"0.5rem"}},[s("span",[s("span",[t._v("X")]),t._v("\n                                        prescription")])]),t._v(" "),s("div",{staticClass:"patient-prescriptions-list-container",staticStyle:{"max-height":"2.5rem"}},[s("ul",{staticClass:"patient-prescriptions-list"},[s("li",{staticClass:"worksheet-progress-line"},[s("div",{staticClass:"progressbar-base"},[s("div",{staticClass:"worksheet-infos loading  w-35"},[s("span",[t._v("XXXXXXXXXXXXXXXX")])])])]),t._v(" "),s("li",{staticClass:"worksheet-progress-line"},[s("div",{staticClass:"progressbar-base"},[s("div",{staticClass:"worksheet-infos loading  w-35"},[s("span",[t._v("XXXXXXXXXXXXXXXX")])])])])])])]),t._v(" "),s("button",{staticClass:"remove-user loading"})])]),t._v(" "),s("div",{staticClass:"loading loading-block",staticStyle:{height:"13rem"}},[s("div",{staticClass:"patient-details"},[s("div",{staticClass:"user"},[s("div",{staticClass:"vs-avatar-content avatar vs-avatar-content--circle",staticStyle:{width:"60px",height:"60px"}},[s("div",{staticClass:"vs-avatar loading"})]),t._v(" "),s("div",{staticClass:"user-name"},[s("div",{staticClass:"name loading  w-25"},[s("span",[t._v(" xxxxxx ")])]),t._v(" "),s("div",{staticClass:"mail loading  w-35"},[t._v("\n                                        xxxxxx \n                                    ")])])]),t._v(" "),s("div",{staticClass:"prescriptions"},[s("h4",{staticClass:"loading w-45",staticStyle:{"max-height":"0.5rem"}},[s("span",[s("span",[t._v("X")]),t._v("\n                                        prescription")])]),t._v(" "),s("div",{staticClass:"patient-prescriptions-list-container",staticStyle:{"max-height":"2.5rem"}},[s("ul",{staticClass:"patient-prescriptions-list"},[s("li",{staticClass:"worksheet-progress-line"},[s("div",{staticClass:"progressbar-base"},[s("div",{staticClass:"worksheet-infos loading  w-35"},[s("span",[t._v("XXXXXXXXXXXXXXXX")])])])]),t._v(" "),s("li",{staticClass:"worksheet-progress-line"},[s("div",{staticClass:"progressbar-base"},[s("div",{staticClass:"worksheet-infos loading  w-35"},[s("span",[t._v("XXXXXXXXXXXXXXXX")])])])])])])]),t._v(" "),s("button",{staticClass:"remove-user loading"})])]),t._v(" "),s("div",{staticClass:"loading loading-block",staticStyle:{height:"13rem"}},[s("div",{staticClass:"patient-details"},[s("div",{staticClass:"user"},[s("div",{staticClass:"vs-avatar-content avatar vs-avatar-content--circle",staticStyle:{width:"60px",height:"60px"}},[s("div",{staticClass:"vs-avatar loading"})]),t._v(" "),s("div",{staticClass:"user-name"},[s("div",{staticClass:"name loading  w-25"},[s("span",[t._v(" xxxxxx ")])]),t._v(" "),s("div",{staticClass:"mail loading  w-35"},[t._v("\n                                        xxxxxx \n                                    ")])])]),t._v(" "),s("div",{staticClass:"prescriptions"},[s("h4",{staticClass:"loading w-45",staticStyle:{"max-height":"0.5rem"}},[s("span",[s("span",[t._v("X")]),t._v("\n                                        prescription")])]),t._v(" "),s("div",{staticClass:"patient-prescriptions-list-container",staticStyle:{"max-height":"2.5rem"}},[s("ul",{staticClass:"patient-prescriptions-list"},[s("li",{staticClass:"worksheet-progress-line"},[s("div",{staticClass:"progressbar-base"},[s("div",{staticClass:"worksheet-infos loading  w-35"},[s("span",[t._v("XXXXXXXXXXXXXXXX")])])])]),t._v(" "),s("li",{staticClass:"worksheet-progress-line"},[s("div",{staticClass:"progressbar-base"},[s("div",{staticClass:"worksheet-infos loading  w-35"},[s("span",[t._v("XXXXXXXXXXXXXXXX")])])])])])])]),t._v(" "),s("button",{staticClass:"remove-user loading"})])]),t._v(" "),s("div",{staticClass:"loading loading-block",staticStyle:{height:"13rem"}},[s("div",{staticClass:"patient-details"},[s("div",{staticClass:"user"},[s("div",{staticClass:"vs-avatar-content avatar vs-avatar-content--circle",staticStyle:{width:"60px",height:"60px"}},[s("div",{staticClass:"vs-avatar loading"})]),t._v(" "),s("div",{staticClass:"user-name"},[s("div",{staticClass:"name loading  w-25"},[s("span",[t._v(" xxxxxx ")])]),t._v(" "),s("div",{staticClass:"mail loading  w-35"},[t._v("\n                                        xxxxxx \n                                    ")])])]),t._v(" "),s("div",{staticClass:"prescriptions"},[s("h4",{staticClass:"loading w-45",staticStyle:{"max-height":"0.5rem"}},[s("span",[s("span",[t._v("X")]),t._v("\n                                        prescription")])]),t._v(" "),s("div",{staticClass:"patient-prescriptions-list-container",staticStyle:{"max-height":"2.5rem"}},[s("ul",{staticClass:"patient-prescriptions-list"},[s("li",{staticClass:"worksheet-progress-line"},[s("div",{staticClass:"progressbar-base"},[s("div",{staticClass:"worksheet-infos loading  w-35"},[s("span",[t._v("XXXXXXXXXXXXXXXX")])])])]),t._v(" "),s("li",{staticClass:"worksheet-progress-line"},[s("div",{staticClass:"progressbar-base"},[s("div",{staticClass:"worksheet-infos loading  w-35"},[s("span",[t._v("XXXXXXXXXXXXXXXX")])])])])])])]),t._v(" "),s("button",{staticClass:"remove-user loading"})])]),t._v(" "),s("div",{staticClass:"loading loading-block",staticStyle:{height:"13rem"}},[s("div",{staticClass:"patient-details"},[s("div",{staticClass:"user"},[s("div",{staticClass:"vs-avatar-content avatar vs-avatar-content--circle",staticStyle:{width:"60px",height:"60px"}},[s("div",{staticClass:"vs-avatar loading"})]),t._v(" "),s("div",{staticClass:"user-name"},[s("div",{staticClass:"name loading  w-25"},[s("span",[t._v(" xxxxxx ")])]),t._v(" "),s("div",{staticClass:"mail loading  w-35"},[t._v("\n                                        xxxxxx \n                                    ")])])]),t._v(" "),s("div",{staticClass:"prescriptions"},[s("h4",{staticClass:"loading w-45",staticStyle:{"max-height":"0.5rem"}},[s("span",[s("span",[t._v("X")]),t._v("\n                                        prescription")])]),t._v(" "),s("div",{staticClass:"patient-prescriptions-list-container",staticStyle:{"max-height":"2.5rem"}},[s("ul",{staticClass:"patient-prescriptions-list"},[s("li",{staticClass:"worksheet-progress-line"},[s("div",{staticClass:"progressbar-base"},[s("div",{staticClass:"worksheet-infos loading  w-35"},[s("span",[t._v("XXXXXXXXXXXXXXXX")])])])]),t._v(" "),s("li",{staticClass:"worksheet-progress-line"},[s("div",{staticClass:"progressbar-base"},[s("div",{staticClass:"worksheet-infos loading  w-35"},[s("span",[t._v("XXXXXXXXXXXXXXXX")])])])])])])]),t._v(" "),s("button",{staticClass:"remove-user loading"})])]),t._v(" "),s("div",{staticClass:"loading loading-block",staticStyle:{height:"13rem"}},[s("div",{staticClass:"patient-details"},[s("div",{staticClass:"user"},[s("div",{staticClass:"vs-avatar-content avatar vs-avatar-content--circle",staticStyle:{width:"60px",height:"60px"}},[s("div",{staticClass:"vs-avatar loading"})]),t._v(" "),s("div",{staticClass:"user-name"},[s("div",{staticClass:"name loading  w-25"},[s("span",[t._v(" xxxxxx ")])]),t._v(" "),s("div",{staticClass:"mail loading  w-35"},[t._v("\n                                        xxxxxx \n                                    ")])])]),t._v(" "),s("div",{staticClass:"prescriptions"},[s("h4",{staticClass:"loading w-45",staticStyle:{"max-height":"0.5rem"}},[s("span",[s("span",[t._v("X")]),t._v("\n                                        prescription")])]),t._v(" "),s("div",{staticClass:"patient-prescriptions-list-container",staticStyle:{"max-height":"2.5rem"}},[s("ul",{staticClass:"patient-prescriptions-list"},[s("li",{staticClass:"worksheet-progress-line"},[s("div",{staticClass:"progressbar-base"},[s("div",{staticClass:"worksheet-infos loading  w-35"},[s("span",[t._v("XXXXXXXXXXXXXXXX")])])])]),t._v(" "),s("li",{staticClass:"worksheet-progress-line"},[s("div",{staticClass:"progressbar-base"},[s("div",{staticClass:"worksheet-infos loading  w-35"},[s("span",[t._v("XXXXXXXXXXXXXXXX")])])])])])])]),t._v(" "),s("button",{staticClass:"remove-user loading"})])])]):t._e()]),t._v(" "),t.loadingDoctorFirstsPatients||t.loadingDoctorAllPatients||!t.getDoctorPatients.length?t._e():s("div",{staticClass:"pagination"},[s("vs-pagination",{attrs:{length:t.getLength(t.getSearch(t.doctorPatients,t.search),t.max)},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}},[s("vs-select",{model:{value:t.page,callback:function(e){t.page=e},expression:"page"}},t._l(t.getLength(t.getSearch(t.doctorPatients,t.search),t.max),(function(e){return s("vs-option",{key:e,attrs:{label:e,value:e}},[t._v("\n                            "+t._s(e)+"\n                        ")])})),1)],1)],1),t._v(" "),(t.loadingDoctorFirstsPatients||t.loadingDoctorAllPatients)&&t.getDoctorPatients.length?s("div",{staticClass:"pagination"},[s("div",{staticClass:"vs-pagination-content vs-component--primary"},[s("button",{staticClass:"vs-pagination__arrow prev",attrs:{disabled:"disabled"}},[s("i",{staticClass:"vs-icon-arrow"})]),t._v(" "),s("div",{staticClass:"vs-pagination__slot"},[s("div",{staticClass:"vs-select-content loading-c vs-component--primary"},[s("div",{staticClass:"vs-select vs-select--state-null"},[s("input",{staticClass:"vs-select__input simple"}),s("label",{staticClass:"vs-select__label vs-select__label--hidden"}),s("label",{staticClass:"vs-select__label vs-select__label--hidden"}),s("i",{staticClass:"vs-icon-arrow"})])])]),t._v(" "),s("button",{staticClass:"vs-pagination__arrow next loading"},[s("i",{staticClass:"vs-icon-arrow",attrs:{disabled:"disabled"}})])])]):t._e()])]),t._v(" "),s("vs-dialog",{model:{value:t.modalConfirmRemoveWorksheet,callback:function(e){t.modalConfirmRemoveWorksheet=e},expression:"modalConfirmRemoveWorksheet"}},[s("p",{staticClass:"modal-confirm-text"},[t._v("Confirmer la suppression de")]),t._v(" "),s("div",{staticClass:"modal-confirm-detail remove-item"},[s("div",{staticClass:"modal-confirm-icon remove-item"},[s("i",{staticClass:"fas fa-trash"})]),t._v(" "),s("p",[s("span",[t._v("\n                    "+t._s(t.removeWorksheetDetails.title)+"\n                ")])])]),t._v(" "),s("p",{staticClass:"alert"},[s("i",{staticClass:"fas fa-exclamation-triangle"}),t._v("\n            Attention : cela supprimera également le\n            "),s("strong",[t._v("\n                suivi et statistiques du patient pour cette fiche")]),t._v(", action irrémédiable.\n        ")]),t._v(" "),s("div",{staticClass:"modal-confirm-buttons"},[s("vs-button",{staticClass:"secondary",on:{click:function(e){t.modalConfirmRemoveWorksheet=!1}}},[t._v("\n                Annuler\n            ")]),t._v(" "),s("vs-button",{class:{disabled:t.btnLoadingValidRemoveWorksheet},attrs:{loading:t.btnLoadingValidRemoveWorksheet},on:{click:t.validRemoveWorksheet}},[t._v("\n                Confirmer\n            ")])],1)]),t._v(" "),s("vs-dialog",{model:{value:t.modalConfirmRemovePatient,callback:function(e){t.modalConfirmRemovePatient=e},expression:"modalConfirmRemovePatient"}},[s("p",{staticClass:"modal-confirm-text"},[t._v("Confirmer la suppression de")]),t._v(" "),s("div",{staticClass:"modal-confirm-detail remove-item"},[s("div",{staticClass:"modal-confirm-icon remove-item"},[s("i",{staticClass:"fas fa-user-minus"})]),t._v(" "),s("p",[s("span",[t._v("\n                    "+t._s(t.getUserName(t.removePatientDetails))+"\n                ")])])]),t._v(" "),s("p",{staticClass:"modal-confirm-text"},[t._v("de votre liste.")]),t._v(" "),s("div",{staticClass:"modal-confirm-buttons"},[s("vs-button",{staticClass:"secondary",on:{click:function(e){t.modalConfirmRemovePatient=!1}}},[t._v("\n                Annuler\n            ")]),t._v(" "),s("vs-button",{class:{disabled:t.btnLoadingValidRemovePatient},attrs:{loading:t.btnLoadingValidRemovePatient},on:{click:t.validRemovePatient}},[t._v("\n                Confirmer\n            ")])],1)])],1)};w._withStripped=!0;s(9653);var P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",[t._v("Ajout d'un patient")]),t._v(" "),t.doctor.giveAccessAddFreePatient?s("div",[s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideSelectBox,expression:"hideSelectBox"}],staticClass:"select-filter",class:{loading:t.loadingAllPatients}},[t.loadingAllPatients?t._e():s("div",[s("div",{directives:[{name:"show",rawName:"v-show",value:t.userSelected.email,expression:"userSelected.email"}],staticClass:"user-selected user",on:{click:t.resetSelect}},[s("vs-avatar",{staticClass:"avatar",attrs:{circle:"",size:"35"}},[s("img",{attrs:{src:t.userSelected.avatarUrl?t.userSelected.avatarUrl:"/img/avatar-default.svg",alt:"Avatar de "+t.userSelected.firstname+" "+t.userSelected.lastname}})]),t._v(" "),s("div",{staticClass:"text"},[s("div",{staticClass:"name"},[t._v("\n                            "+t._s(t.getUserName(t.userSelected))+"\n                            "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.userSelected.birthdate,expression:"userSelected.birthdate"}],staticClass:"birthdate"},[t._v("\n                                "+t._s(t.getAge(t.userSelected.birthdate))+"\n                                ans")])]),t._v(" "),s("div",{staticClass:"email"},[t._v("\n                            "+t._s(t.userSelected.email)+"\n                        ")])])],1),t._v(" "),s("input",{directives:[{name:"show",rawName:"v-show",value:!t.userSelected.email,expression:"!userSelected.email"},{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],class:{"b-r-b-zero":t.selectBox,"placeholder-gray":t.selectBox},attrs:{id:"user-choice-select",placeholder:t.selectBox?"Recherchez un patient sans praticien":"Sélectionnez un patient sans praticien",autocomplete:"off"},domProps:{value:t.filter},on:{click:function(e){t.selectBox=!0},keyup:t.selectBoxWithThrottle,input:function(e){e.target.composing||(t.filter=e.target.value)}}}),t._v(" "),s("div",{staticClass:"arrow-toggle-box",class:{active:t.selectBox},on:{click:t.toggleSelectBox}},[s("i",{staticClass:"vs-icon-arrow"})]),t._v(" "),s("transition",{attrs:{name:"height"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.selectBox,expression:"selectBox"}],staticClass:"select-box",on:{click:t.focusInputSelect}},[t.allPatientsFiltered.length?s("ul",t._l(t.allPatientsFiltered,(function(e,i){return s("li",{key:i},[s("div",{staticClass:"user",on:{click:function(s){return t.selectUser(e)}}},[s("vs-avatar",{staticClass:"avatar",attrs:{circle:"",size:"35"}},[s("img",{attrs:{src:e.avatarUrl?e.avatarUrl:"/img/avatar-default.svg",alt:"Avatar de "+e.firstname+" "+e.lastname}})]),t._v(" "),s("div",{staticClass:"text"},[s("div",{staticClass:"name"},[t._v("\n                                            "+t._s(t.getUserName(e))+"\n                                            "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.birthdate,expression:"patient.birthdate"}],staticClass:"birthdate"},[t._v("\n                                                "+t._s(t.getAge(e.birthdate))+"\n                                                ans")])])])],1)])})),0):t._e(),t._v(" "),!t.allPatientsFiltered.length&&t.filter?s("div",[s("p",{staticClass:"not-found"},[s("i",{staticClass:"fas fa-users-slash"}),t._v(" "),s("span",[t._v("\n                                    Aucun patient n'a été trouvé avec \""),s("strong",[t._v(t._s(t.filter))]),t._v('"\n                                ')])])]):t._e(),t._v(" "),t.allPatientsFiltered.length||t.filter?t._e():s("div",[s("p",{staticClass:"not-found"},[s("i",{staticClass:"fas fa-users-slash"}),t._v("\n                                Aucun patient n'a été trouvé\n                            ")])])])])],1)]),t._v(" "),s("div",{staticClass:"btn-container",class:{disabled:t.btnLoadingValidAddPatient}},[s("vs-button",{staticClass:"w-100",attrs:{loading:t.btnLoadingValidAddPatient,disabled:!t.userSelected.email||t.btnLoadingValidAddPatient},on:{click:t.validAddPatient}},[t._v("Valider la sélection")])],1),t._v(" "),t._m(0)]):t._e(),t._v(" "),s("div",{staticClass:"create-patient-form"},[s("vs-select",{attrs:{placeholder:"Civilité"},model:{value:t.createPatientDetails.gender,callback:function(e){t.$set(t.createPatientDetails,"gender",e)},expression:"createPatientDetails.gender"}},[s("vs-option",{attrs:{label:"Inconnu",value:"0"}},[t._v("Inconnu")]),t._v(" "),s("vs-option",{attrs:{label:"M.",value:"1"}},[t._v("M.")]),t._v(" "),s("vs-option",{attrs:{label:"Mme",value:"2"}},[t._v("Mme")])],1),t._v(" "),s("vs-input",{attrs:{"label-placeholder":"Prénom",type:"text"},model:{value:t.createPatientDetails.firstname,callback:function(e){t.$set(t.createPatientDetails,"firstname",e)},expression:"createPatientDetails.firstname"}}),t._v(" "),s("vs-input",{attrs:{"label-placeholder":"Nom",type:"text"},model:{value:t.createPatientDetails.lastname,callback:function(e){t.$set(t.createPatientDetails,"lastname",e)},expression:"createPatientDetails.lastname"}}),t._v(" "),s("vs-input",{class:{error:t.validationMessage.email&&t.createPatientDetails.email},attrs:{danger:null!=t.validationMessage.email,"label-placeholder":"Email",autocomplete:"email",type:"email","icon-after":""},on:{keyup:t.validationEmail},scopedSlots:t._u([t.validationMessage.email&&t.createPatientDetails.email?{key:"icon",fn:function(){return[s("i",{staticClass:"kiv-error error icon-24"})]},proxy:!0}:null,t.validationMessage.email&&t.createPatientDetails.email?{key:"message-danger",fn:function(){return[t._v("\n                "+t._s(t.validationMessage.email)+"\n            ")]},proxy:!0}:null],null,!0),model:{value:t.createPatientDetails.email,callback:function(e){t.$set(t.createPatientDetails,"email",e)},expression:"createPatientDetails.email"}})],1),t._v(" "),s("div",{staticClass:"btn-container",class:{disabled:t.btnLoadingValidCreatePatient}},[s("vs-button",{staticClass:"w-100",attrs:{disabled:t.validationMessage.email||!t.createPatientDetails.email||t.btnLoadingValidCreatePatient,loading:t.btnLoadingValidCreatePatient},on:{click:t.validCreatePatient}},[t._v("Valider la création")])],1)])};P._withStripped=!0;var y=s(2649);function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var W={name:"PatientAdd",props:{doctor:Object,allPatients:Array,loadingAllPatients:Boolean,csrfTokenAddPatient:String,csrfTokenCreatePatient:String},directives:{ClickOutside:s.n(y)()},data:function(){return{btnLoadingValidAddPatient:!1,btnLoadingValidCreatePatient:!1,createPatientDetails:{firstname:"",lastname:"",email:"",gender:""},validationMessage:{email:null},userSelected:{email:null,avatarUrl:null,firstname:null,lastname:null,gender:null,birthdate:null},filter:"",selectBox:!1,selectInput:null}},computed:{allPatientsFiltered:function(){return o.Z.getSearch(this.allPatients.filter((function(t){return!t.doctor})),this.filter)}},methods:{validAddPatient:function(){var t=this;this.btnLoadingValidAddPatient=!0,this.axios.post("/doctor/".concat(this.doctor.id,"/add/patient"),{_token:this.csrfTokenAddPatient,patientId:this.userSelected.id}).then((function(e){o.Z.openSuccessNotification("Ajout du patient",e.data.message),t.userSelected.addRequestDoctor=!1,t.userSelected.doctor=t.doctor,t.$emit("addPatient",t.userSelected),t.btnLoadingValidAddPatient=!1,t.$emit("closeModalAddPatient",!0)})).catch((function(e){var s="object"===S(e.response.data)?e.response.data.detail:e.response.data;o.Z.openErrorNotification("Erreur",s),t.btnLoadingValidAddPatient=!1,t.$emit("closeModalAddPatient",!0)}))},validCreatePatient:function(){var t=this;this.btnLoadingValidCreatePatient=!0,this.axios.post("/doctor/".concat(this.doctor.id,"/create/patient"),{_token:this.csrfTokenCreatePatient,firstname:this.createPatientDetails.firstname,lastname:this.createPatientDetails.lastname,gender:this.createPatientDetails.gender&&"0"!=this.createPatientDetails.gender?"1"==this.createPatientDetails.gender?"male":"female":"",email:this.createPatientDetails.email.toLowerCase()}).then((function(e){o.Z.openSuccessNotification("Création du patient",e.data.message),t.$emit("addPatient",e.data.patient),t.createPatientDetails={firstname:"",lastname:"",email:"",gender:""},t.btnLoadingValidCreatePatient=!1,t.$emit("closeModalAddPatient",!0)})).catch((function(e){var s,i,a="object"===S(e.response.data)?e.response.data.detail:e.response.data;null!==(s=e.response)&&void 0!==s&&s.data&&"Cet email est déjà utilisé par un praticien"!=(null===(i=e.response)||void 0===i?void 0:i.data)?t.axios.post("/doctor/".concat(t.doctor.id,"/add/patient"),{_token:t.csrfTokenAddPatient,patientEmail:t.createPatientDetails.email}).then((function(e){o.Z.openSuccessNotification("Ajout du patient",e.data.message),t.$emit("addPatient",e.data.patient),t.createPatientDetails={firstname:"",lastname:"",email:"",gender:""},t.btnLoadingValidCreatePatient=!1,t.$emit("closeModalAddPatient",!0)})).catch((function(e){var s="object"===S(e.response.data)?e.response.data.detail:e.response.data;o.Z.openErrorNotification("Erreur",s),t.btnLoadingValidAddPatient=!1,t.$emit("closeModalAddPatient",!0)})):(o.Z.openErrorNotification("Erreur",a),t.btnLoadingValidCreatePatient=!1,t.$emit("closeModalAddPatient",!0))}))},validationEmail:function(){this.validationMessage.email=null;/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(this.createPatientDetails.email).toLowerCase())||(this.validationMessage.email="Merci d'entrer un email valide.")},getAge:function(t){return o.Z.generateAgeFromDateOfBirth(t)},toggleSelectBox:function(){this.selectBox=!this.selectBox,this.userSelected&&this.resetSelect(),this.selectBox&&this.focusInputSelect()},hideSelectBox:function(){this.selectBox=!1},selectUser:function(t){this.userSelected=t,this.hideSelectBox()},resetSelect:function(){var t=this;this.userSelected={email:null,avatarUrl:null,firstname:null,lastname:null,gender:null,birthdate:null},setTimeout((function(){t.selectInput=document.getElementById("user-choice-select"),t.selectBox=!0,t.focusInputSelect()}),100)},focusInputSelect:function(){this.selectInput.focus()},getUserName:function(t){return o.Z.getUserName(t)},selectBoxWithThrottle:function(){var t=this;this.selectBoxThrottle||(this.selectBoxThrottle=!0,this.selectBox=!0,console.log("selectBox"),setTimeout((function(){t.selectBoxThrottle=!1}),1e3))}},mounted:function(){this.selectInput=document.getElementById("user-choice-select")}},L=(0,l.Z)(W,P,[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"divider"},[s("div",{staticClass:"divider-text"},[t._v("ou")])])}],!1,null,"79b63c6c",null);L.options.__file="assets/vue/doctor/DashboardPage/MyPatients/PatientAdd.vue";var X=L.exports;function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var A={props:{doctor:Object,doctorPatients:Array,allPatients:Array,loadingDoctorFirstsPatients:Boolean,loadingDoctorAllPatients:Boolean,loadingAllPatients:Boolean,csrfTokenAddPatient:String,csrfTokenRemovePatient:String,csrfTokenCreatePatient:String,prescriProcess:Boolean,btnLoadingPatientPrescriProcessRedirect:Number},components:{PatientAdd:X,PlusIcon:C.pOD},computed:{getDoctorPatients:function(){var t=this,e=this.getPage(o.Z.getSearch(this.doctorPatients,this.search,"doctor"),this.page,this.max);if(e.length&&!this.loadingDoctorFirstsPatients&&!this.loadingDoctorAllPatients){var s=this.search?700:0;clearTimeout(this.debounceGetSessionsInfos),this.debounceGetSessionsInfos=setTimeout((function(){e.forEach((function(e){e.worksheets&&e.worksheets.length&&e.worksheets.forEach((function(s){"worksheetTotalProgression"in s&&null!==s.worksheetTotalProgression&&"currentWorksheetSession"in s&&null!==s.currentWorksheetSession&&"totalWorksheetSessions"in s&&null!==s.totalWorksheetSessions&&"totalCompletedWorksheetSessions"in s&&null!==s.totalCompletedWorksheetSessions||(t.loadingsGetSessions.push(s.id),t.axios.get("/patient/".concat(e.id,"/get/worksheet-progression/").concat(s.id)).then((function(e){s.currentWorksheetSession=null!==e.data.currentWorksheetSession&&e.data.currentWorksheetSession,s.totalWorksheetSessions=e.data.countWorksheetSessions,s.totalCompletedWorksheetSessions=e.data.countCompletedWorksheetSessions,s.worksheetTotalProgression=t.calculWorksheetTotalProgression(s.totalCompletedWorksheetSessions,s.totalWorksheetSessions),t.loadingsGetSessions.splice(t.loadingsGetSessions.indexOf(s.id),1)})).catch((function(t){var e="object"===T(t.response.data)?t.response.data.detail:t.response.data;console.error(e)})))}))}))}),s)}return e}},data:function(){return{search:"",page:1,page_loading:1,max:6,modalConfirmRemoveWorksheet:!1,removeWorksheetDetails:{},btnLoadingValidRemoveWorksheet:!1,debounceGetSessionsInfos:null,loadingsGetSessions:[],modalAddPatient:!1,modalConfirmRemovePatient:!1,removePatientDetails:{},btnLoadingValidRemovePatient:!1}},methods:{prescriProcessPatientChoice:function(t){this.$emit("prescriProcessPatientChoice",t)},prescriProcessPatientChoiceMobile:function(t){this.prescriProcess&&this.$emit("prescriProcessPatientChoice",t)},calculWorksheetTotalProgression:function(t,e){return Math.round(100/e*t*10)/10},prescriProcessMain:function(){this.prescriProcess?this.$emit("prescriProcessMainStop",!0):(window.scrollTo({top:0,behavior:"smooth"}),this.$emit("prescriProcessMainStart",!0))},redirectToEditPage:function(t,e){document.location.href="/doctor/".concat(this.doctor.id,"/fiche/edition/").concat(t,"/").concat(e)},redirectToWorksheetPage:function(t){document.location.href="/doctor/".concat(this.doctor.id,"/fiche/voir/").concat(t)},redirectToPatientDashboard:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;document.location.href="/doctor/".concat(this.doctor.id,"/voir/patient/").concat(t).concat(e?"?st=".concat(e):"")},activeTab:function(t){this.$parent.activeTab!=t&&(this.$parent.activeTab=t),document.querySelectorAll("#dashboard-notifications, #worksheet-store").forEach((function(t){t.classList.add("fade-hidden"),setTimeout((function(){t.classList.remove("fade-hidden")}),500)})),window.scrollTo({top:0,behavior:"smooth"})},removeWorksheet:function(t){return this.removeWorksheetDetails=t,this.modalConfirmRemoveWorksheet=!this.modalConfirmRemoveWorksheet},validRemoveWorksheet:function(){var t=this;this.btnLoadingValidRemoveWorksheet=!0,this.axios.post("/doctor/".concat(this.doctor.id,"/remove/worksheet"),{_token:this.csrfTokenRemoveWorksheet,worksheetId:this.removeWorksheetDetails.id}).then((function(e){o.Z.openSuccessNotification("Suppression de la prescription",e.data),t.$parent.doctorWorksheets.splice(t.$parent.doctorWorksheets.indexOf(t.removeWorksheetDetails),1),t.btnLoadingValidRemoveWorksheet=!1,t.modalConfirmRemoveWorksheet=!1})).catch((function(e){var s="object"===T(e.response.data)?e.response.data.detail:e.response.data;o.Z.openErrorNotification("Erreur",s),t.btnLoadingValidRemoveWorksheet=!1,t.modalConfirmRemoveWorksheet=!1}))},removePatient:function(t){return this.removePatientDetails=t,this.modalConfirmRemovePatient=!this.modalConfirmRemovePatient},validRemovePatient:function(){var t=this;this.btnLoadingValidRemovePatient=!0,this.axios.post("/doctor/".concat(this.doctor.id,"/remove/patient"),{_token:this.csrfTokenRemovePatient,patientId:this.removePatientDetails.id}).then((function(e){o.Z.openSuccessNotification("Suppression du patient",e.data),t.doctorPatients.splice(t.doctorPatients.indexOf(t.removePatientDetails),1),t.btnLoadingValidRemovePatient=!1,t.modalConfirmRemovePatient=!1})).catch((function(e){var s="object"===T(e.response.data)?e.response.data.detail:e.response.data;o.Z.openErrorNotification("Erreur",s),t.btnLoadingValidRemovePatient=!1,t.modalConfirmRemovePatient=!1}))},addPatient:function(t){this.doctorPatients.unshift(t)},formatDate:function(t){return g()(t).format("DD/MM/YYYY")},getUserName:function(t){return o.Z.getUserName(t)},getAge:function(t){return o.Z.generateAgeFromDateOfBirth(t)},getPage:function(t,e,s){return o.Z.getPage(t,e,s)},getLength:function(t,e){return o.Z.getLength(t,e)},getSearch:function(t,e){return o.Z.getSearch(t,e)}}},D=(0,l.Z)(A,w,[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",[s("span",[t._v("Mes Patients")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",[s("span",[t._v("Mes fiches")])])}],!1,null,null,null);D.options.__file="assets/vue/doctor/DashboardPage/MyPatients.vue";var M=D.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"kiv-block",attrs:{id:"worksheet-store"}},[t._m(0),t._v(" "),s("h2",[t._v("Magasin de fiches")]),t._v(" "),s("div",[s("div",{staticClass:"worksheet-list wl-doctor swiper",class:{"loading-start":t.loadingStoreFirstsWorksheets||t.loadingStoreAllWorksheets}},[!t.loadingStoreFirstsWorksheets&&t.getStoreWorksheets.length?s("div",{staticClass:"swiper-wrapper"},t._l(t.getStoreWorksheets,(function(e,i){return s("div",{key:i,staticClass:"worksheet-container swiper-slide"},[s("div",{staticClass:"worksheet"},[s("div",{staticClass:"worksheet-header"},[s("h3",{staticClass:"worksheet-title"},[t._v("\n                                "+t._s(e.title)+"\n                            ")]),t._v(" "),s("TagPartOfBody",{attrs:{partOfBody:e.partOfBody}})],1),t._v(" "),s("div",{staticClass:"worksheet-content-wt"},[s("div",{staticClass:"worksheet-details"},[s("div",{staticClass:"\n                                        worksheet-exercises-count\n                                    "},[s("i",{staticClass:"kiv-exercise icon-7"}),t._v(" "),s("span",{staticClass:"space"},[t._v(t._s(e.exercises.length))]),t._v(" "),s("span",{staticClass:"space"},[t._v("exercice")]),e.exercises.length>1?s("span",[t._v("s")]):t._e()]),t._v(" "),s("div",{staticClass:"worksheet-timing"},[s("i",{staticClass:"kiv-calendar icon-10"}),t._v(" "),s("span",{staticClass:"space"},[t._v(t._s(e.perDay)+"x")]),t._v(" "),s("span",{staticClass:"space"},[t._v("/ jour -")]),t._v(" "),s("span",{staticClass:"space"},[t._v(t._s(e.perWeek)+"x")]),t._v(" "),s("span",{staticClass:"space"},[t._v("/ sem.")])]),t._v(" "),s("div",{staticClass:"worksheet-period"},[s("i",{staticClass:"kiv-clock icon-11"}),t._v(" "),s("span",{staticClass:"space"},[t._v("Pér. :")]),t._v(" "),s("span",{staticClass:"space"},[t._v(t._s(e.duration)+"\n                                        sem.")])])]),t._v(" "),s("div",{staticClass:"worksheet-details-footer"},[s("div",{staticClass:"worksheet-exercises-container"},[s("div",{staticClass:"worksheet-exercises"},t._l(e.exercises,(function(e,i){return s("div",{key:i,staticClass:"worksheet-exercise"},[s("div",{staticClass:"worksheet-exercise-thumbnail"},[s("img",{attrs:{src:e.video.thumbnailUrl}})]),t._v(" "),s("div",{staticClass:"worksheet-exercise-details"},[s("div",{staticClass:"series-reps"},[s("i",{staticClass:"kiv-reps icon-19"}),t._v(" "),s("span",[t._v(t._s(e.numberOfSeries))]),t._v("\n                                                        x "),s("span",{staticClass:"no-space"},[t._v(t._s(e.numberOfRepetitions))])]),t._v(" "),e.option?s("div",{staticClass:"option"},[t._v("\n                                                    - Option : "),s("span",[t._v(t._s(e.option))])]):t._e(),t._v(" "),e.hold?s("div",{staticClass:"hold"},[t._v("\n                                                    - Tenir : "),s("span",[t._v(t._s(e.hold)+"s")])]):t._e(),t._v(" "),e.tempo?s("div",{staticClass:"tempo"},[t._v("\n                                                    - Tempo : "),s("span",[t._v(t._s(e.tempo))])]):t._e()])])})),0),t._v(" "),s("div",{staticClass:"worksheet-exercise-other"},[s("div",{staticClass:"tags"},t._l(e.exercisesTags,(function(e,i){return s("div",{key:i,staticClass:"tag-chip"},[t._v("\n                                                "+t._s(e.name)+"\n                                            ")])})),0),t._v(" "),s("vs-button",{attrs:{disabled:t.btnLoadingAddWorksheet===e.id,loading:t.loadingDoctorFirstsWorksheets||t.loadingDoctorAllWorksheets,circle:""},on:{click:function(s){return t.redirectToAddWorksheet(e)}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"96px",height:"96px"}},[s("path",{attrs:{d:"M 12.5 4 C 10.019 4 8 6.019 8 8.5 L 8 39.5 C 8 41.981 10.019 44 12.5 44 L 25.640625 44 C 24.785625 43.111 24.055516 42.103 23.478516 41 L 12.5 41 C 11.673 41 11 40.327 11 39.5 L 11 8.5 C 11 7.673 11.673 7 12.5 7 L 24 7 L 24 15.5 C 24 17.981 26.019 20 28.5 20 L 37 20 L 37 22.169922 C 38.045 22.331922 39.053 22.606906 40 23.003906 L 40 18.5 C 40 18.0855 39.831922 17.710828 39.560547 17.439453 L 26.560547 4.4394531 C 26.289172 4.1680781 25.9145 4 25.5 4 L 12.5 4 z M 27 9.1210938 L 34.878906 17 L 28.5 17 C 27.673 17 27 16.327 27 15.5 L 27 9.1210938 z M 35 24 C 28.925 24 24 28.925 24 35 C 24 41.075 28.925 46 35 46 C 41.075 46 46 41.075 46 35 C 46 28.925 41.075 24 35 24 z M 35 27 C 35.552 27 36 27.448 36 28 L 36 34 L 42 34 C 42.552 34 43 34.448 43 35 C 43 35.552 42.552 36 42 36 L 36 36 L 36 42 C 36 42.552 35.552 43 35 43 C 34.448 43 34 42.552 34 42 L 34 36 L 28 36 C 27.448 36 27 35.552 27 35 C 27 34.448 27.448 34 28 34 L 34 34 L 34 28 C 34 27.448 34.448 27 35 27 z"}})]),t._v("\n                                            Ajouter à mes fiches\n                                        ")])],1)])])])])])})),0):t._e(),t._v(" "),s("div",{staticClass:"swiper-pagination"}),t._v(" "),s("div",{staticClass:"swiper-button-prev"}),t._v(" "),s("div",{staticClass:"swiper-button-next"}),t._v(" "),t.loadingStoreFirstsWorksheets?s("div",[t._m(1)]):t._e()])])])};R._withStripped=!0;var $=s(7468);function E(t){return function(t){if(Array.isArray(t))return B(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return B(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);"Object"===s&&t.constructor&&(s=t.constructor.name);if("Map"===s||"Set"===s)return Array.from(t);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return B(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,i=new Array(e);s<e;s++)i[s]=t[s];return i}function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var O={props:{doctor:Object,csrfTokenCreateWorksheet:String,loadingDoctorFirstsWorksheets:Boolean,loadingDoctorAllWorksheets:Boolean},components:{TagPartOfBody:p.Z},data:function(){return{page:1,max:6,storeWorksheets:[],loadingStoreFirstsWorksheets:!1,loadingStoreAllWorksheets:!1,btnLoadingAddWorksheet:null,mySwiper:null}},computed:{getStoreWorksheets:function(){return this.getPage(this.storeWorksheets,this.page,this.max)}},methods:{redirectToAddWorksheet:function(t){var e=this;this.btnLoadingAddWorksheet=t.id,this.axios.post("/doctor/".concat(this.doctor.id,"/create/worksheets"),{_token:this.csrfTokenCreateWorksheet,patientId:null,worksheetsIds:[t.id]}).then((function(s){o.Z.openSuccessNotification("Confirmation","La fiche <strong> ".concat(t.title,"</strong> \n                        a été ajoutée à vos fiches</strong>")),e.$parent.prescriProcess||(e.$parent.activeTab=2),e.$emit("addWorksheetStore",s.data.worksheets)})).catch((function(t){var s="object"===F(t.response.data)?t.response.data.detail:t.response.data;e.btnLoadingAddWorksheet=null,o.Z.openErrorNotification("Erreur",s)}))},getPage:function(t,e,s){return o.Z.getPage(t,e,s)},getLength:function(t,e){return o.Z.getLength(t,e)},initSwiper:function(){this.mySwiper=new $.Z(".swiper",{spaceBetween:0,centeredSlides:!0,autoplay:{delay:6e3},allowTouchMove:!1,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}},created:function(){var t=this;this.loadingStoreFirstsWorksheets=!0,this.loadingStoreAllWorksheets=!0,this.axios.get("/doctor/".concat(this.doctor.id,"/get/store-worksheets/").concat(this.max,"/0")).then((function(e){t.storeWorksheets=e.data,o.Z.generateTagsFromExercises(t.storeWorksheets),t.loadingStoreFirstsWorksheets=!1,t.axios.get("/doctor/".concat(t.doctor.id,"/get/store-worksheets/999999/").concat(t.max)).then((function(e){t.storeWorksheets=[].concat(E(t.storeWorksheets),E(e.data)),o.Z.generateTagsFromExercises(t.storeWorksheets),t.storeWorksheets.forEach((function(t){t.exercises&&(t.exercises=o.Z.sortByPosition(t.exercises))})),t.initSwiper(),t.loadingStoreAllWorksheets=!1})).catch((function(t){var e="object"===F(t.response.data)?t.response.data.detail:t.response.data;console.error(e)}))})).catch((function(t){var e="object"===F(t.response.data)?t.response.data.detail:t.response.data;console.error(e)}))}},z=(0,l.Z)(O,R,[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"toggle-content"},[e("i",{staticClass:"kiv-chevron-down icon-3"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"worksheet-container swiper-slide loading-block"},[s("div",{staticClass:"worksheet"},[s("div",{staticClass:"worksheet-header"},[s("h3",{staticClass:"worksheet-title loading w-35"},[t._v("Xxxxx xx xxxxxx xxx")]),t._v(" "),s("div",{staticClass:"vs-tooltip-content kiv-help"},[s("button",{staticClass:"vs-button tag part-of-body vs-button--null vs-button--size-mini vs-button--primary vs-button--default  loading"},[s("div",{staticClass:"vs-button__content"})])])]),t._v(" "),s("div",{staticClass:"worksheet-content-wt"},[s("div",{staticClass:"worksheet-details"},[s("div",{staticClass:"worksheet-exercises-count"},[s("i",{staticClass:"kiv-exercise icon-7"}),t._v(" "),s("span",{staticClass:"space loading w-35"},[t._v("Xxxxxxx")])]),t._v(" "),s("div",{staticClass:"worksheet-timing"},[s("i",{staticClass:"kiv-calendar icon-10"}),t._v(" "),s("span",{staticClass:"space loading w-35"},[t._v("Xxxxxxxx")])]),t._v(" "),s("div",{staticClass:"worksheet-period"},[s("i",{staticClass:"kiv-clock icon-11"}),t._v(" "),s("span",{staticClass:"space loading w-35"},[t._v("Xxxxxxxxxx")])])]),t._v(" "),s("div",{staticClass:"worksheet-details-footer"},[s("div",{staticClass:"worksheet-exercises-container"},[s("div",{staticClass:"worksheet-exercises"},[s("div",{staticClass:"worksheet-exercise"},[s("div",{staticClass:"worksheet-exercise-thumbnail loading w-35"}),t._v(" "),s("div",{staticClass:"worksheet-exercise-details"},[s("div",{staticClass:"series-reps loading w-35"})])]),t._v(" "),s("div",{staticClass:"worksheet-exercise"},[s("div",{staticClass:"worksheet-exercise-thumbnail loading w-35"}),t._v(" "),s("div",{staticClass:"worksheet-exercise-details"},[s("div",{staticClass:"series-reps loading w-35"})])]),t._v(" "),s("div",{staticClass:"worksheet-exercise"},[s("div",{staticClass:"worksheet-exercise-thumbnail loading w-35"}),t._v(" "),s("div",{staticClass:"worksheet-exercise-details"},[s("div",{staticClass:"series-reps loading w-35"})])])]),t._v(" "),s("div",{staticClass:"worksheet-exercise-other"},[s("div",{staticClass:"tags"},[s("div",{staticClass:"tag-chip loading w-35"},[t._v("\n                                                Xxxxxxxxxxxxxxxxxx\n                                            ")]),t._v(" "),s("div",{staticClass:"tag-chip loading w-35"},[t._v("\n                                                Xxxxxxxxxx\n                                            ")]),t._v(" "),s("div",{staticClass:"tag-chip loading w-35"},[t._v("\n                                                Xxxxxxxx\n                                            ")])]),t._v(" "),s("button",{staticClass:"vs-button vs-button--null vs-button--size-null vs-button--circle vs-button--primary vs-button--default loading w-35"},[s("div",{staticClass:"vs-button__content"},[t._v("\n                                                Xxxx xxxxxxxxxxxx\n                                            ")])])])])])])])])}],!1,null,null,null);function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t){return function(t){if(Array.isArray(t))return N(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return N(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);"Object"===s&&t.constructor&&(s=t.constructor.name);if("Map"===s||"Set"===s)return Array.from(t);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return N(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,i=new Array(e);s<e;s++)i[s]=t[s];return i}z.options.__file="assets/vue/doctor/DashboardPage/WorksheetStore.vue";var j={components:{MyDashboardNotifications:v,MyWorksheetTemplates:b,MyPatients:M,WorksheetStore:z.exports},data:function(){return{doctor:null,csrfTokenAddPatient:null,csrfTokenRemovePatient:null,csrfTokenCreatePatient:null,csrfTokenRemoveWorksheet:null,csrfTokenCreateWorksheet:null,loadingDoctorFirstsWorksheets:!1,loadingDoctorAllWorksheets:!1,loadingDoctorFirstsPatients:!1,loadingDoctorAllPatients:!1,loadingAllPatients:!1,doctorWorksheets:[],doctorPatients:[],allPatients:[],tagsFromExercises:[],activeTab:1,prescriProcess:!1,prescriProcessPatient:!1,prescriProcessPatientSelected:null,prescriProcessWorksheet:!1,prescriProcessWorksheetsSelected:null,btnLoadingPatientPrescriProcessRedirect:null,btnLoadingWorksheetPrescriProcessRedirect:!1,prescriProcessStartOrigin:"patient",worksheetStoreAdded:!1}},computed:{getWorksheetTemplates:function(){return this.doctorWorksheets},getDoctorPatients:function(){return this.doctorPatients}},methods:{setPrescriProcessWorksheetChoice:function(t){var e=this;this.prescriProcess||this.startPrescriProcess(),this.prescriProcessWorksheetsSelected=encodeURIComponent(JSON.stringify(t.worksheetsIds)),this.prescriProcessWorksheet=!1,t.worksheetsIds.length&&this.prescriProcessPatientSelected&&(this.btnLoadingPatientPrescriProcessRedirect=this.prescriProcessPatientSelected.id,this.btnLoadingWorksheetPrescriProcessRedirect=!1,"direct"===t.prescriptionType?(this.btnLoadingWorksheetPrescriProcessRedirect=!0,this.axios.post("/doctor/".concat(this.doctor.id,"/create/worksheets"),{_token:this.csrfTokenCreateWorksheet,patientId:this.prescriProcessPatientSelected?this.prescriProcessPatientSelected.id:null,worksheetsIds:t.worksheetsIds}).then((function(t){o.Z.openSuccessNotification("Création de la prescription",t.data.message),e.btnLoadingWorksheetPrescriProcessRedirect=!1,e.btnLoadingValidCreateWorksheet=!1,e.doctorPatients.filter((function(t){return t.id==e.prescriProcessPatientSelected.id}))[0].worksheets=[].concat(Z(t.data.worksheets),Z(e.doctorPatients.filter((function(t){return t.id==e.prescriProcessPatientSelected.id}))[0].worksheets)),e.stopPrescriProcess(null,1)})).catch((function(t){var s="object"===V(t.response.data)?t.response.data.detail:t.response.data;e.btnLoadingWorksheetPrescriProcessRedirect=!1,e.btnLoadingValidCreateWorksheet=!1,o.Z.openErrorNotification("Erreur",s)}))):document.location.href="/doctor/".concat(this.doctor.id,"/fiche/creation/").concat(this.prescriProcessWorksheetsSelected,"/").concat(this.prescriProcessPatientSelected.id))},setPrescriProcessPatientChoice:function(t){this.prescriProcess||this.startPrescriProcess(),this.prescriProcessPatientSelected=t,this.prescriProcessPatient=!1,this.prescriProcessWorksheetsSelected?(this.btnLoadingPatientPrescriProcessRedirect=this.prescriProcessPatientSelected.id,this.btnLoadingWorksheetPrescriProcessRedirect=!1,document.location.href="/doctor/".concat(this.doctor.id,"/fiche/creation/").concat(this.prescriProcessWorksheetsSelected,"/").concat(this.prescriProcessPatientSelected.id)):(this.activeTab=2,this.prescriProcessWorksheet=!0)},startPrescriProcess:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.prescriProcess=!0,this.prescriProcessPatient=!0,this.activeTab=1,this.prescriProcessStartOrigin=t},stopPrescriProcess:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.prescriProcess=!1,this.prescriProcessWorksheet=!1,this.prescriProcessPatient=!1,this.prescriProcessWorksheetsSelected=null,this.prescriProcessPatientSelected=null,this.btnLoadingPatientPrescriProcessRedirect=null,this.btnLoadingWorksheetPrescriProcessRedirect=!1,this.activeTab=e},sortByCreatedAt:function(t){return t.sort((function(t,e){return new Date(e.createdAt)-new Date(t.createdAt)})),t},addWorksheetStore:function(t){var e=this;this.worksheetStoreAdded=!0,this.doctorWorksheets=[].concat(Z(t),Z(this.doctorWorksheets)),this.tagsFromExercises=o.Z.generateTagsFromExercises(this.doctorWorksheets),this.$bus.$emit("addWorksheetStoreTriggered",!0),setTimeout((function(){e.worksheetStoreAdded=!1}),2e3)}},created:function(){var t=this;i.default.prototype.$vs=this.$vs,document.body.classList.add("fuzzy-balls");var e=JSON.parse(document.getElementById("vueData").innerHTML);this.doctor=e.doctor,this.csrfTokenAddPatient=e.csrfTokenAddPatient,this.csrfTokenRemovePatient=e.csrfTokenRemovePatient,this.csrfTokenCreatePatient=e.csrfTokenCreatePatient,this.csrfTokenRemoveWorksheet=e.csrfTokenRemoveWorksheet,this.csrfTokenCreateWorksheet=e.csrfTokenCreateWorksheet;var s=window.location.search;"ws"===new URLSearchParams(s).get("tab")&&(this.activeTab=2),this.loadingDoctorFirstsPatients=!0,this.loadingDoctorAllPatients=!0,this.doctor.giveAccessAddFreePatient&&(this.loadingAllPatients=!0),this.axios.get("/doctor/".concat(this.doctor.id,"/get/patients/6/0")).then((function(e){t.doctorPatients=e.data,t.doctorPatients.forEach((function(e){e.worksheets&&(e.worksheets=t.sortByCreatedAt(e.worksheets))}));var s=new URLSearchParams(window.location.search);t.loadingDoctorFirstsPatients=!(!s.size||!s.get("pp")),t.axios.get("/doctor/".concat(t.doctor.id,"/get/patients/999999/6")).then((function(e){if(t.doctorPatients=[].concat(Z(t.doctorPatients),Z(e.data)),t.doctorPatients.forEach((function(e){e.worksheets&&(e.worksheets=t.sortByCreatedAt(e.worksheets))})),t.loadingDoctorAllPatients=!1,s.size&&s.get("pp")){var i=t.doctorPatients.filter((function(t){return t.id==s.get("pp")}));i.length&&t.setPrescriProcessPatientChoice(i[0]),t.loadingDoctorFirstsPatients=!1}t.doctor.giveAccessAddFreePatient&&t.axios.get("/doctor/".concat(t.doctor.id,"/get/all/patients")).then((function(e){t.allPatients=e.data,t.loadingAllPatients=!1})).catch((function(t){var e="object"===V(t.response.data)?t.response.data.detail:t.response.data;console.error(e)}))})).catch((function(t){var e="object"===V(t.response.data)?t.response.data.detail:t.response.data;console.error(e)}))})).catch((function(t){var e="object"===V(t.response.data)?t.response.data.detail:t.response.data;console.error(e)})),this.loadingDoctorFirstsWorksheets=!0,this.loadingDoctorAllWorksheets=!0,this.axios.get("/doctor/".concat(this.doctor.id,"/get/worksheets/10/0")).then((function(e){t.doctorWorksheets=e.data,t.tagsFromExercises=o.Z.generateTagsFromExercises(t.doctorWorksheets),t.doctorWorksheets.forEach((function(t){t.exercises&&(t.exercises=o.Z.sortByPosition(t.exercises))})),t.loadingDoctorFirstsWorksheets=!1,t.axios.get("/doctor/".concat(t.doctor.id,"/get/worksheets/999999/10")).then((function(e){t.doctorWorksheets=[].concat(Z(t.doctorWorksheets),Z(e.data)),t.tagsFromExercises=o.Z.generateTagsFromExercises(t.doctorWorksheets),t.doctorWorksheets.forEach((function(t){t.exercises&&(t.exercises=o.Z.sortByPosition(t.exercises))})),t.loadingDoctorAllWorksheets=!1})).catch((function(t){var e="object"===V(t.response.data)?t.response.data.detail:t.response.data;console.error(e)}))})).catch((function(t){var e="object"===V(t.response.data)?t.response.data.detail:t.response.data;console.error(e)}))},mounted:function(){window.addEventListener("pageshow",(function(t){(t.persisted||void 0!==window.performance&&2===window.performance.navigation.type)&&window.location.reload()}))}},I=(0,l.Z)(j,a,[],!1,null,null,null);I.options.__file="assets/vue/doctor/DashboardPage.vue";var U=I.exports,q=s(9669),H=s.n(q),G=s(2346);s(1370);H().interceptors.request.use((function(t){return t.headers["X-Requested-With"]="XMLHttpRequest",t})),i.default.use(G.Z,H()),i.default.prototype.$bus=new i.default,new i.default({render:function(t){return t(U)}}).$mount("#vue")},9402:function(t,e,s){t.exports=s.p+"images/hand.5b877b0c.svg"}},function(t){t.O(0,[327,247,210,561,480],(function(){return e=1939,t(t.s=e);var e}));t.O()}]);