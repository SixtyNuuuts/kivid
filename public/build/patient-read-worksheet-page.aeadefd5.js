"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[903],{1873:function(e,t,s){var i=s(538),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container",attrs:{id:"worksheet"}},[i("header",[e.loading?i("div",{staticClass:"loading-block"},[e._m(0),e._v(" "),i("div",{staticClass:"loading-gray part-of-body"})]):i("div",[i("div",{staticClass:"title"},[i("i",{staticClass:"kiv-arrow-left icon-31",on:{click:function(t){return e.rederictToDashboard()}}}),e._v(" "),i("h1",[e._v(e._s(e.getWorksheet.title))])]),e._v(" "),e.getWorksheet.partOfBody?i("TagPartOfBody",{class:{completed:e.allExercisesIsCompleted},attrs:{partOfBody:e.getWorksheet.partOfBody}}):e._e()],1)]),e._v(" "),i("div",{staticClass:"info"},[i("transition",{attrs:{name:"fade"}},[!e.loading&&e.allExercisesIsCompleted?i("div",[i("i",{staticClass:"kiv-confettis"},[i("img",{attrs:{src:s(4459),alt:"Icone de confettis"}})]),e._v(" "),i("p",[e._v("\n                    Félicitations, vous avez fait tous les exercices de la\n                    fiche.\n                    "),e.currentWorksheetSession?i("span",[e._v("Vous pouvez laisser un commentaire à votre\n                        praticien !")]):e._e()])]):e._e(),e._v(" "),e.loading||e.allExercisesIsCompleted?e._e():i("div",[i("i",{staticClass:"kiv-info icon-17"}),e._v(" "),i("p",[e._v("\n                    À la fin de vos exercices, vous aurez la possiblité\n                    d’écrire un bref commentaire.\n                ")])]),e._v(" "),e.loading?i("div",{staticClass:"loading-block"},[i("i",{staticClass:"kiv-info icon-17"}),e._v(" "),i("div",{staticClass:"loading-gray w-55 p"})]):e._e()])],1),e._v(" "),i("div",{staticClass:"btn-timing-frieze-mobile"},[i("vs-button",{staticClass:"secondary w-100",on:{click:function(t){e.modalTimingFriezeMobile=!e.modalTimingFriezeMobile}}},[e._v("\n            Frise chronologique\n        ")])],1),e._v(" "),i("main",[i("vs-dialog",{staticClass:"modal-mobile",model:{value:e.modalTimingFriezeMobile,callback:function(t){e.modalTimingFriezeMobile=t},expression:"modalTimingFriezeMobile"}},[i("TimingFrieze",{attrs:{loading:e.loading,worksheet:e.getWorksheet,exercises:e.getExercises,currentWorksheetSession:e.getCurrentWorksheetSession,totalWorksheetSessions:e.getTotalWorksheetSessions}})],1),e._v(" "),i("section",{attrs:{id:"timing-frieze"}},[i("TimingFrieze",{attrs:{loading:e.loading,worksheet:e.getWorksheet,exercises:e.getExercises,currentWorksheetSession:e.getCurrentWorksheetSession,totalWorksheetSessions:e.getTotalWorksheetSessions}})],1),e._v(" "),i("section",{attrs:{id:"exercises-playlist"}},[i("ExercisesPlaylist",{attrs:{patient:e.patient,loading:e.loading,doctorView:e.doctorView,worksheet:e.getWorksheet,exercises:e.getExercises,currentWorksheetSession:e.getCurrentWorksheetSession,csrfTokenStartWorksheetSession:e.csrfTokenStartWorksheetSession,csrfTokenCompleteWorksheetSession:e.csrfTokenCompleteWorksheetSession,csrfTokenCompleteExercise:e.csrfTokenCompleteExercise,csrfTokenCreateExerciseStat:e.csrfTokenCreateExerciseStat,csrfTokenCreateCommentary:e.csrfTokenCreateCommentary},on:{stripeCheckout:e.stripeCheckout}})],1)],1)])};n._withStripped=!0;s(7327),s(9826),s(4916),s(4765),s(6992),s(1539),s(8783),s(3948),s(285),s(2222),s(1249),s(4747),s(7941),s(2526),s(5003),s(9337),s(1817),s(2165);var o=s(4098),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"session-timing-frieze"},[i("transition",{attrs:{name:"fade"}},[e.loading?i("div",{staticClass:"loading-block"},[i("div",{staticClass:"loading-gray session-block-loading"}),e._v(" "),i("div",{staticClass:"session-timing-line"},[i("div",{staticClass:"progressbar-steps"}),e._v(" "),i("div",{staticClass:"loading-gray progressbar-base"})])]):i("div",[i("div",{staticClass:"session-block"},[i("i",{staticClass:"session-img"},[i("img",{attrs:{src:s(5205),alt:"Icone d'une basket"}})]),e._v(" "),e.getCurrentWorksheetSession?i("h2",[e._v("\n                    Session n°"+e._s(e.getCurrentWorksheetSession.execOrder)+"\n                ")]):e._e(),e._v(" "),e.getCurrentWorksheetSession?i("div",{staticClass:"total-sessions"},[e._v("\n                    sur "+e._s(e.getTotalWorksheetSessions)+"\n                ")]):e._e(),e._v(" "),e.getCurrentWorksheetSession?e._e():i("h3",[e._v("Aucune Session")])]),e._v(" "),i("div",{staticClass:"session-timing-line"},[i("div",{staticClass:"progressbar-steps"},[e.getCurrentWorksheetSession?i("div",{staticClass:"session-start-date"},[i("i",{staticClass:"kiv-calendar icon-10"}),e._v(" "),i("div",{staticClass:"date-hours"},[i("div",{staticClass:"date"},[e._v("\n                                "+e._s(e.getWorksheetSessionStartDate)+"\n                            ")]),e._v(" "),i("div",{staticClass:"hours"},[e._v("\n                                "+e._s(e.getWorksheetSessionStartHours)+"\n                            ")])])]):e._e(),e._v(" "),e.getCurrentWorksheetSession?i("div",{staticClass:"session-end-date"},[i("i",{staticClass:"kiv-calendar icon-10"}),e._v(" "),i("div",{staticClass:"date-hours"},[i("div",{staticClass:"date"},[e._v("\n                                "+e._s(e.getWorksheetSessionEndDate)+"\n                            ")]),e._v(" "),i("div",{staticClass:"hours"},[e._v("\n                                "+e._s(e.getWorksheetSessionEndHours)+"\n                            ")])])]):e._e()]),e._v(" "),i("div",{staticClass:"progressbar-base"},[i("div",{staticClass:"progressbar-thumb",style:{height:e.getTimingPercentage+"%"}}),e._v(" "),i("div",{staticClass:"progressbar-current-progression",class:{start:e.getTimingPercentage<25,end:e.getTimingPercentage>75,max:e.getTimingPercentage>=100},style:{top:e.getTimingPercentage<=100?e.getTimingPercentage+"%":"100%"}},[i("div",{staticClass:"legend"},[i("div",{staticClass:"session-timing"},[i("span",[e._v(e._s(e.getTimingPercentage+"%"))]),e._v("de la fiche est fait\n                            ")]),e._v(" "),!e.getWorksheetSessionDoneDate&&e.getCurrentWorksheetSession?i("div",{staticClass:"final-goal"},[e._v("\n                                "+e._s(e.getTimeLeftBeforeNextSession)+"\n                            ")]):e._e(),e._v(" "),e.getWorksheetSessionDoneDate?i("div",{staticClass:"final-goal"},[e._v("\n                                Terminé le\n                                "+e._s(e.getWorksheetSessionDoneDate)+"\n                            ")]):e._e()]),e._v(" "),i("div",{staticClass:"point"})])])])])])],1)};a._withStripped=!0;s(9653);var r=s(381),c=s.n(r),l={props:{loading:Boolean,worksheet:Object,exercises:Array,currentWorksheetSession:[Object,Boolean],totalWorksheetSessions:Number},data:function(){return{}},computed:{getWorksheet:function(){return this.worksheet},getExercises:function(){return this.exercises},getCurrentWorksheetSession:function(){return this.currentWorksheetSession},getTotalWorksheetSessions:function(){return this.totalWorksheetSessions},getTimingPercentage:function(){var e=0;if(this.getExercises&&this.getExercises.length){var t=100/this.getExercises.length,s=this.getExercises.filter((function(e){return e.isCompleted})).length;e=Math.round(t*s)}return e},getWorksheetSessionStartDate:function(){return c()(this.getCurrentWorksheetSession.startAt).format("DD/MM/YYYY")},getWorksheetSessionStartHours:function(){return c()(this.getCurrentWorksheetSession.startAt).format("HH:mm:ss")},getWorksheetSessionEndDate:function(){return c()(this.getCurrentWorksheetSession.endAt).format("DD/MM/YYYY")},getWorksheetSessionEndHours:function(){return c()(this.getCurrentWorksheetSession.endAt).format("HH:mm:ss")},getWorksheetSessionDoneDate:function(){return this.getCurrentWorksheetSession.doneAt?c()(this.getCurrentWorksheetSession.donetAt).format("DD/MM/YYYY"):null},getWorksheetSessionDoneHours:function(){return this.getCurrentWorksheetSession.doneAt?c()(this.getCurrentWorksheetSession.donetAt).format("HH:mm:ss"):null},getTimeLeftBeforeNextSession:function(){var e=o.Z.getTimeLeftBeforeNextSession(this.getCurrentWorksheetSession.endAt);return e.days>=1?1===Math.round(e.days)?"".concat(Math.round(e.days)," jour restant"):"".concat(Math.round(e.days)," jours restants"):e.hours>=1?1===e.hours?"".concat(Math.round(e.hours)," heure restante"):"".concat(Math.round(e.hours)," heures restantes"):e.minutes>=1?1===e.minutes?"".concat(Math.round(e.minutes)," minute restante"):"".concat(Math.round(e.minutes)," minutes restantes"):e.seconds>=1?1===e.seconds?"".concat(Math.round(e.seconds)," seconde restante"):"".concat(Math.round(e.seconds)," secondes restantes"):null}}},d=s(1900),u=(0,d.Z)(l,a,[],!1,null,"a1fc55b4",null);u.options.__file="assets/vue/patient/ReadWorkSheetPage/TimingFrieze.vue";var v=u.exports,h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"exercises-list"},[e.loading?s("div",[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2)]):s("div",e._l(e.getExercises,(function(t,i){return s("div",{key:i,staticClass:"exercise",class:{disabled:t!==e.getCurrentExercise&&!t.isCompleted}},[s("div",{staticClass:"thumbnail-wrapper"},[t!==e.getCurrentExercise||t.isCompleted||e.doctorView?e._e():s("div",{staticClass:"btn-playlist"},[s("vs-button",{on:{click:e.openVideoPlayer}},[s("span",0===i?[e._v("Démarrer")]:[e._v("Reprendre")])])],1),e._v(" "),s("div",{staticClass:"thumbnail",style:{backgroundImage:"url('"+t.video.thumbnailUrl+"')"}})]),e._v(" "),s("div",{staticClass:"content"},[s("h2",[s("span",[e._v(e._s(t.video.name))])]),e._v(" "),s("div",{staticClass:"details"},[s("div",{staticClass:"series-reps"},[s("div",{staticClass:"series"},[s("i",{staticClass:"kiv-series icon-18"}),s("span",[e._v(e._s(t.numberOfSeries))]),e._v("\n                                séries\n                            ")]),e._v(" "),t.numberOfRepetitions?s("div",{staticClass:"reps"},[s("i",{staticClass:"kiv-reps icon-19"}),s("span",[e._v(e._s(t.numberOfRepetitions))]),e._v("\n                                répétitions\n                            ")]):e._e()]),e._v(" "),t.option?s("div",{staticClass:"option"},[e._v("\n                            Options : "),s("span",[e._v(e._s(t.option))])]):e._e(),e._v(" "),t.tempo?s("div",{staticClass:"tempo"},[e._v("\n                            Tempo : "),s("span",[e._v(e._s(t.tempo))])]):e._e(),e._v(" "),t.hold?s("div",{staticClass:"hold"},[e._v("\n                            Tenir : "),s("span",[e._v(e._s(t.hold)+"s")])]):e._e()]),e._v(" "),s("div",{staticClass:"commentary"},[t.commentary&&!e.doctorView?s("p",[e._v("\n                            Commentaire\n                        ")]):e._e(),e._v(" "),t.commentary&&!e.doctorView?s("vs-input",{attrs:{placeholder:"Tapez votre commentaire",disabled:!t.isCompleted||!e.getCurrentWorksheetSession},on:{keyup:function(s){return e.setCommentaryWithDebounce(t)},blur:function(s){return e.setCommentary(t)}},model:{value:t.commentary.content,callback:function(s){e.$set(t.commentary,"content",s)},expression:"exercise.commentary.content"}}):e._e(),e._v(" "),t.commentaries.length>0&&e.doctorView?s("p",[e._v("\n                            Commentaire"),t.commentaries.length>1?s("span",[e._v("s")]):e._e()]):e._e(),e._v(" "),t.commentaries&&e.doctorView?s("div",e._l(t.commentaries,(function(t,i){return s("div",{key:i,staticClass:"commentary-doc-read"},[s("h5",[e._v("\n                                    "+e._s(e.formatDate(t.createdAt))+" |\n                                    Session\n                                    "+e._s(t.worksheetSession.execOrder)+"\n                                ")]),e._v(" "),s("p",[e._v(e._s(t.content))])])})),0):e._e()],1)])])})),0),e._v(" "),e.$parent.stripeSubscription||e.doctorView?e._e():s("div",{staticClass:"request-subscription"},[e._m(3),e._v(" "),e._m(4),e._v(" "),s("div",{staticClass:"btn-request-subscription"},[s("vs-button",{on:{click:function(t){return e.stripeCheckout()}}},[e._v("\n                    Je m’abonne\n                ")])],1)])]),e._v(" "),s("transition",{attrs:{name:"fade"}},[e.videoPlayerToggle&&!e.doctorView?s("VideoPlayer",{attrs:{patient:e.patient,worksheet:e.getWorksheet,exercise:e.getCurrentExercise,exercises:e.getExercises,lastExercise:e.getTheLastExercise,currentWorksheetSession:e.getCurrentWorksheetSession,csrfTokenCompleteWorksheetSession:e.csrfTokenCompleteWorksheetSession,csrfTokenCompleteExercise:e.csrfTokenCompleteExercise,csrfTokenCreateExerciseStat:e.csrfTokenCreateExerciseStat},on:{closeVideoPlayer:e.closeVideoPlayer,stripeCheckout:function(t){return e.stripeCheckout()}}}):e._e()],1)],1)};h._withStripped=!0;var f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"video-player"},[e.scoreFrame?i("button",{staticClass:"btn-close-player dark",on:{click:e.closeVideoPlayerAndCompleteExercise}},[i("i",{staticClass:"kiv-x icon-21"})]):i("button",{staticClass:"btn-close-player",class:{hidden:e.technicalEvalFrame||e.difficultyEvalFrame||e.sensitivityEvalFrame},on:{click:e.closeVideoPlayer}},[i("i",{staticClass:"kiv-x icon-21"})]),e._v(" "),e.scoreFrame?e._e():i("div",{staticClass:"content"},[i("transition-group",{attrs:{name:"slidevideoplayer",tag:"div"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.videoFrame,expression:"videoFrame"}],key:"video",staticClass:"video-frame"},[e.getExercise.video.youtubeId?i("youtube",{ref:"youtube",attrs:{"player-vars":e.playerVars,"video-id":e.getExercise.video.youtubeId},on:{ended:e.videoEnded}}):i("div",{staticClass:"video-frame not-sub-frame",style:{backgroundImage:"url('"+e.getExercise.video.thumbnailUrl+"')"}})],1),e._v(" "),e.getExercise.video.youtubeId?e._e():i("div",{key:"not-sub-message",staticClass:"not-sub-message"},[i("div",{staticClass:"request-subscription dark"},[i("div",{staticClass:"icon-request-subscription"},[i("i",{staticClass:"kiv-subscription icon-20"})]),e._v(" "),i("div",{staticClass:"text-request-subscription"},[i("p",[e._v("\n                            Pour accéder complètement à votre prescription,\n                            veuillez vous abonner.\n                        ")])]),e._v(" "),i("div",{staticClass:"btn-request-subscription"},[i("vs-button",{on:{click:function(t){return e.stripeCheckout()}}},[e._v("\n                            Je m’abonne\n                        ")])],1)])]),e._v(" "),i("EvalFrame",{directives:[{name:"show",rawName:"v-show",value:e.technicalEvalFrame,expression:"technicalEvalFrame"}],key:"technical",attrs:{type:"technical",loading:e.loadingBtnEvalNext},on:{validTechnicalValue:e.validTechnicalValue}}),e._v(" "),i("EvalFrame",{directives:[{name:"show",rawName:"v-show",value:e.difficultyEvalFrame,expression:"difficultyEvalFrame"}],key:"difficulty",attrs:{type:"difficulty",loading:e.loadingBtnEvalNext},on:{validDifficultyValue:e.validDifficultyValue}}),e._v(" "),i("EvalFrame",{directives:[{name:"show",rawName:"v-show",value:e.sensitivityEvalFrame,expression:"sensitivityEvalFrame"}],key:"sensitivity",attrs:{type:"sensitivity",loading:e.loadingBtnEvalNext},on:{validSensitivityValue:e.validSensitivityValue}})],1)],1),e._v(" "),i("transition",{attrs:{name:"fade"}},[e.scoreFrame?i("div",{staticClass:"score-frame"},[i("div",{staticClass:"score-top-elip"},[i("img",{attrs:{src:s(1489),alt:"ovale"}})]),e._v(" "),i("div",{staticClass:"score-stars-confettis"},[i("img",{attrs:{src:s(4256),alt:"Confettis"}})]),e._v(" "),i("div",{staticClass:"score-fanion"},[i("img",{attrs:{src:s(8875),alt:"fanion"}})]),e._v(" "),i("div",{staticClass:"score-text"},[i("div",{staticClass:"label"},[e._v("Félicitations !")]),e._v(" "),e.exerciseScorePoints?i("div",{staticClass:"score"},[e._v("\n                    "+e._s(e.exerciseScorePoints)+" points\n                ")]):e._e(),e._v(" "),i("div",{staticClass:"btn-next"},[i("vs-button",{on:{click:e.confirmScore}},[e.getExercise!==e.getTheLastExercise?i("span",[e._v("\n                            Continuer\n                        ")]):i("span",[e._v("Terminer")])])],1)])]):e._e()]),e._v(" "),i("transition",{attrs:{name:"fade"}},[e.videoFrame?i("div",{staticClass:"bottom-bar"},[i("div",{staticClass:"bottom-bar-content"},[i("div",{staticClass:"exercise-details"},[i("div",{staticClass:"exercise-count"},[e._v("\n                        Exercice "+e._s(e.getExercise.position+1)+"/"+e._s(e.getExercises?e.getExercises.length:0)+"\n                    ")]),e._v(" "),i("span",{staticClass:"tiret"},[e._v("-")]),e._v(" "),i("div",{staticClass:"exercise-name"},[e._v("\n                        "+e._s(e.getExercise.video.name)+"\n                    ")])]),e._v(" "),i("div",{staticClass:"exercise-series-reps-options"},[i("div",{staticClass:"series-reps"},[i("div",{staticClass:"series"},[i("i",{staticClass:"kiv-series icon-18"}),i("span",[e._v(e._s(e.getExercise.numberOfSeries))]),e._v("\n                            séries\n                        ")]),e._v(" "),i("div",{staticClass:"reps"},[i("i",{staticClass:"kiv-reps icon-19"}),i("span",[e._v(e._s(e.getExercise.numberOfRepetitions))]),e._v("\n                            répétitions\n                        ")])]),e._v(" "),i("div",{staticClass:"second-details"},[e.getExercise.option?i("div",{staticClass:"option"},[e._v("\n                            Options : "),i("span",[e._v(e._s(e.getExercise.option))])]):e._e(),e._v(" "),e.getExercise.tempo?i("div",{staticClass:"tempo"},[e._v("\n                            Tempo : "),i("span",[e._v(e._s(e.getExercise.tempo))])]):e._e(),e._v(" "),e.getExercise.hold?i("div",{staticClass:"hold"},[e._v("\n                            Tenir : "),i("span",[e._v(e._s(e.getExercise.hold)+"s")])]):e._e()])]),e._v(" "),i("div",{staticClass:"btn-next"},[i("vs-button",{attrs:{disabled:!e.btnValidVideoCompleted},on:{click:e.validVideoCompleted}},[e._v("\n                        Suivant\n                    ")])],1)])]):e._e()])],1)};f._withStripped=!0;var m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"eval-frame"},["technical"===e.type?s("h1",[e._v("\n        Comment était votre technique de réalisation ?\n    ")]):e._e(),e._v(" "),"difficulty"===e.type?s("h1",[e._v("\n        Comment avez-vous trouvé l’exercice ?\n    ")]):e._e(),e._v(" "),"sensitivity"===e.type?s("h1",[e._v("Comment vous sentez-vous ?")]):e._e(),e._v(" "),"technical"===e.type?s("div",{staticClass:"eval-question-count"},[e._v("\n        Question 1 sur 3\n    ")]):e._e(),e._v(" "),"difficulty"===e.type?s("div",{staticClass:"eval-question-count"},[e._v("\n        Question 2 sur 3\n    ")]):e._e(),e._v(" "),"sensitivity"===e.type?s("div",{staticClass:"eval-question-count"},[e._v("\n        Question 3 sur 3\n    ")]):e._e(),e._v(" "),"technical"===e.type?s("div",{staticClass:"technical-eval-rating eval-rating"},[s("vue-slider",{attrs:{tooltip:"none"},model:{value:e.technicalValue,callback:function(t){e.technicalValue=t},expression:"technicalValue"}}),e._v(" "),s("div",{staticClass:"legend"},[s("div",{on:{click:function(t){e.technicalValue=0}}},[e._v("Médiocre")]),e._v(" "),s("div",{on:{click:function(t){e.technicalValue=100}}},[e._v("Excellent")])])],1):e._e(),e._v(" "),"difficulty"===e.type?s("div",{staticClass:"difficulty-eval-rating eval-rating desktop"},[s("vue-slider",{attrs:{tooltip:"none",interval:25,marks:!0,"hide-label":!0},model:{value:e.difficultyValue,callback:function(t){e.difficultyValue=t},expression:"difficultyValue"}}),e._v(" "),s("div",{staticClass:"legend"},[s("div",{on:{click:function(t){e.difficultyValue=0}}},[e._v("\n                Beaucoup"),s("br"),e._v("\n                trop facile\n            ")]),e._v(" "),s("div",{on:{click:function(t){e.difficultyValue=25}}},[e._v("Trop facile")]),e._v(" "),s("div",{on:{click:function(t){e.difficultyValue=50}}},[e._v("Ok")]),e._v(" "),s("div",{on:{click:function(t){e.difficultyValue=75}}},[e._v("Trop difficile")]),e._v(" "),s("div",{on:{click:function(t){e.difficultyValue=100}}},[e._v("\n                Vraiment"),s("br"),e._v("\n                Trop difficile\n            ")])])],1):e._e(),e._v(" "),"difficulty"===e.type?s("div",{staticClass:"difficulty-eval-rating eval-rating mobile"},[s("vs-button",{staticClass:"secondary w-100",attrs:{active:0===e.difficultyValue},on:{click:function(t){e.difficultyValue=0}}},[e._v("\n            Beaucoup trop facile\n        ")]),e._v(" "),s("vs-button",{staticClass:"secondary w-100",attrs:{active:25===e.difficultyValue},on:{click:function(t){e.difficultyValue=25}}},[e._v("\n            Trop facile\n        ")]),e._v(" "),s("vs-button",{staticClass:"secondary w-100",attrs:{active:50===e.difficultyValue},on:{click:function(t){e.difficultyValue=50}}},[e._v("\n            Ok\n        ")]),e._v(" "),s("vs-button",{staticClass:"secondary w-100",attrs:{active:75===e.difficultyValue},on:{click:function(t){e.difficultyValue=75}}},[e._v("\n            Trop difficile\n        ")]),e._v(" "),s("vs-button",{staticClass:"secondary w-100",attrs:{active:100===e.difficultyValue},on:{click:function(t){e.difficultyValue=100}}},[e._v("\n            Vraiment Trop difficile\n        ")])],1):e._e(),e._v(" "),"sensitivity"===e.type?s("div",{staticClass:"sensitivity-eval-rating eval-rating"},[s("div",{staticClass:"smileys"},[s("div",{class:{selected:0===e.sensitivityValue},on:{click:function(t){e.sensitivityValue=0}}},[e._m(0),e._v(" "),s("i",{staticClass:"kiv-selected icon-22"})]),e._v(" "),s("div",{class:{selected:12.5===e.sensitivityValue},on:{click:function(t){e.sensitivityValue=12.5}}},[e._m(1),e._v(" "),s("i",{staticClass:"kiv-selected icon-22"})]),e._v(" "),s("div",{class:{selected:25===e.sensitivityValue},attrs:{div:""},on:{click:function(t){e.sensitivityValue=25}}},[e._m(2),e._v(" "),s("i",{staticClass:"kiv-selected icon-22"})]),e._v(" "),s("div",{class:{selected:37.5===e.sensitivityValue},on:{click:function(t){e.sensitivityValue=37.5}}},[e._m(3),e._v(" "),s("i",{staticClass:"kiv-selected icon-22"})]),e._v(" "),s("div",{class:{selected:50===e.sensitivityValue},on:{click:function(t){e.sensitivityValue=50}}},[e._m(4),e._v(" "),s("i",{staticClass:"kiv-selected icon-22"})]),e._v(" "),s("div",{class:{selected:62.5===e.sensitivityValue},on:{click:function(t){e.sensitivityValue=62.5}}},[e._m(5),e._v(" "),s("i",{staticClass:"kiv-selected icon-22"})]),e._v(" "),s("div",{class:{selected:75===e.sensitivityValue},on:{click:function(t){e.sensitivityValue=75}}},[e._m(6),e._v(" "),s("i",{staticClass:"kiv-selected icon-22"})]),e._v(" "),s("div",{class:{selected:87.5===e.sensitivityValue},on:{click:function(t){e.sensitivityValue=87.5}}},[e._m(7),e._v(" "),s("i",{staticClass:"kiv-selected icon-22"})]),e._v(" "),s("div",{class:{selected:100===e.sensitivityValue},on:{click:function(t){e.sensitivityValue=100}}},[e._m(8),e._v(" "),s("i",{staticClass:"kiv-selected icon-22"})])])]):e._e(),e._v(" "),"technical"===e.type?s("div",{staticClass:"btn-eval-valid-and-next",class:{disabled:e.loading},on:{click:e.validTechnical}},[s("vs-button",{attrs:{loading:e.loading,disabled:e.loading}},[e._v("\n            Suivant\n        ")])],1):e._e(),e._v(" "),"difficulty"===e.type?s("div",{staticClass:"btn-eval-valid-and-next",class:{disabled:e.loading},on:{click:e.validDifficulty}},[s("vs-button",{attrs:{loading:e.loading,disabled:e.loading}},[e._v("\n            Suivant\n        ")])],1):e._e(),e._v(" "),"sensitivity"===e.type?s("div",{staticClass:"btn-eval-valid-and-next",class:{disabled:e.loading},on:{click:e.validSensitivity}},[s("vs-button",{attrs:{loading:e.loading,disabled:e.loading}},[e._v("\n            Suivant\n        ")])],1):e._e()])},p=[function(){var e=this.$createElement,t=this._self._c||e;return t("i",[t("img",{attrs:{src:s(1407),alt:"Smiley qui va très mal"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("i",[t("img",{attrs:{src:s(70),alt:"Smiley qui va mal"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("i",[t("img",{attrs:{src:s(889),alt:"Smiley qui va pas bien"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("i",[t("img",{attrs:{src:s(5988),alt:"Smiley qui va bof"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("i",[t("img",{attrs:{src:s(1867),alt:"Smiley perplexe"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("i",[t("img",{attrs:{src:s(4857),alt:"Smiley qui va bien"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("i",[t("img",{attrs:{src:s(1703),alt:"Smiley qui va très bien"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("i",[t("img",{attrs:{src:s(6240),alt:"Smiley très content"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("i",[t("img",{attrs:{src:s(2213),alt:"Smiley aux anges"}})])}];m._withStripped=!0;var g=s(9454),_={props:{type:String,loading:Boolean},components:{VueSlider:s.n(g)()},data:function(){return{technicalValue:50,difficultyValue:50,sensitivityValue:50}},methods:{validTechnical:function(){var e=this;this.$emit("validTechnicalValue",this.technicalValue),setTimeout((function(){e.technicalValue=50}),6e3)},validDifficulty:function(){var e=this;this.$emit("validDifficultyValue",this.difficultyValue),setTimeout((function(){e.difficultyValue=50}),6e3)},validSensitivity:function(){var e=this;this.$emit("validSensitivityValue",this.sensitivityValue),setTimeout((function(){e.sensitivityValue=50}),6e3)}}},C=(0,d.Z)(_,m,p,!1,null,"09acf8c3",null);C.options.__file="assets/vue/patient/ReadWorkSheetPage/ExercisesPlaylist/VideoPlayer/EvalFrame.vue";var y=C.exports;function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b={props:{patient:Object,exercise:Object,exercises:Array,worksheet:Object,lastExercise:Object,currentWorksheetSession:[Object,Boolean],csrfTokenCompleteWorksheetSession:String,csrfTokenCompleteExercise:String,csrfTokenCreateExerciseStat:String},components:{EvalFrame:y},data:function(){return{playerVars:{rel:0,showinfo:0,ecver:2,modestbranding:1},videoFrame:!0,technicalEvalFrame:!1,difficultyEvalFrame:!1,sensitivityEvalFrame:!1,scoreFrame:!1,btnValidVideoCompleted:!1,ponderation:[],loadingBtnEvalNext:!1,exerciseScorePoints:null}},computed:{getExercise:function(){return this.exercise},getExercises:function(){return this.exercises},getWorksheet:function(){return this.worksheet},getTheLastExercise:function(){return this.lastExercise},getCurrentWorksheetSession:function(){return this.currentWorksheetSession},getPonderation:function(){return this.ponderation.reduce((function(e,t){return e+t}),0)/this.ponderation.length}},methods:{videoEnded:function(){this.btnValidVideoCompleted=!0,this.$refs.youtube.player.playVideo(),this.$refs.youtube.player.stopVideo()},validVideoCompleted:function(){this.videoFrame=!1,this.btnValidVideoCompleted=!1,this.technicalEvalFrame=!0},validTechnicalValue:function(e){this.createExerciseStat("technical",e/10)},validDifficultyValue:function(e){this.createExerciseStat("difficulty",e/10)},validSensitivityValue:function(e){this.createExerciseStat("sensitivity",e/10)},confirmScore:function(){this.scoreFrame=!1,this.getExercise===this.getTheLastExercise?this.closeVideoPlayer():this.videoFrame=!0,this.getExercise.isCompleted=!0},createExerciseStat:function(e,t){var s=this;this.loadingBtnEvalNext=!0,this.axios.post("/patient/".concat(this.patient.id,"/create/exercise-stat/").concat(e),{_token:this.csrfTokenCreateExerciseStat,exerciseId:this.getExercise.id,worksheetId:this.getWorksheet.id,worksheetSessionId:this.getCurrentWorksheetSession.id,exerciseStatValue:t}).then((function(t){console.log(t.data),s.ponderation.push(t.data.ponderation),"technical"===e&&(s.technicalEvalFrame=!1,s.difficultyEvalFrame=!0),"difficulty"===e&&(s.difficultyEvalFrame=!1,s.sensitivityEvalFrame=!0),"sensitivity"===e&&(s.sensitivityEvalFrame=!1,s.setExerciseCompleted(s.getExercise.id)),s.loadingBtnEvalNext=!1})).catch((function(e){var t="object"===k(e.response.data)?e.response.data.detail:e.response.data;console.error(t)}))},setExerciseCompleted:function(e){var t=this;this.axios.post("/patient/".concat(this.patient.id,"/complete/exercise"),{_token:this.csrfTokenCompleteExercise,exerciseId:e,worksheetSessionId:this.getCurrentWorksheetSession.id,ponderationForScore:this.getPonderation}).then((function(e){t.exerciseScorePoints=e.data.score.points,t.scoreFrame=!0,t.getExercise===t.getTheLastExercise&&t.axios.post("/patient/".concat(t.patient.id,"/complete/worksheet-session"),{_token:t.csrfTokenCompleteWorksheetSession,worksheetSessionId:t.getCurrentWorksheetSession.id}).then((function(e){t.getCurrentWorksheetSession.isInProgress=!1,t.getCurrentWorksheetSession.isCompleted=!0,t.getCurrentWorksheetSession.doneAt=new Date})).catch((function(e){var t="object"===k(e.response.data)?e.response.data.detail:e.response.data;console.error(t)}))})).catch((function(e){var t="object"===k(e.response.data)?e.response.data.detail:e.response.data;console.error(t)}))},closeVideoPlayer:function(){this.$emit("closeVideoPlayer",!0)},closeVideoPlayerAndCompleteExercise:function(){this.$emit("closeVideoPlayer",!0),this.getExercise.isCompleted=!0},stripeCheckout:function(){this.$emit("stripeCheckout",0)}}},S=(0,d.Z)(b,f,[],!1,null,"4948fa41",null);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}S.options.__file="assets/vue/patient/ReadWorkSheetPage/ExercisesPlaylist/VideoPlayer.vue";var E={components:{VideoPlayer:S.exports},props:{patient:Object,loading:Boolean,worksheet:Object,exercises:Array,doctorView:Boolean,currentWorksheetSession:[Object,Boolean],csrfTokenStartWorksheetSession:String,csrfTokenCompleteWorksheetSession:String,csrfTokenCompleteExercise:String,csrfTokenCreateExerciseStat:String,csrfTokenCreateCommentary:String},data:function(){return{videoPlayerToggle:!1,emptyExercise:{numberOfRepetitions:null,numberOfSeries:null,position:null,video:{name:null,youtubeId:null}},loadingBtnStartSession:!1,timeoutSetCommentary:null}},computed:{getWorksheet:function(){return this.worksheet},getExercises:function(){return this.exercises},getCurrentExercise:function(){var e=this.emptyExercise;return this.getExercises&&this.getExercises.find((function(e){return!1===e.isCompleted}))&&(e=this.getExercises.find((function(e){return!1===e.isCompleted}))),e},getCurrentWorksheetSession:function(){return this.currentWorksheetSession},getTheLastExercise:function(){return this.getExercises[this.getExercises.length-1]}},methods:{openVideoPlayer:function(){this.videoPlayerToggle=!0,document.body.classList.add("no-scrollbar")},closeVideoPlayer:function(){this.videoPlayerToggle=!1,document.body.classList.remove("no-scrollbar")},setCommentary:function(e){this.axios.post("/patient/".concat(this.patient.id,"/create/commentary"),{_token:this.csrfTokenCreateCommentary,exerciseId:e.id,worksheetId:this.getWorksheet.id,worksheetSessionId:this.getCurrentWorksheetSession.id,commentaryId:e.commentary.id,commentaryContent:e.commentary.content}).then((function(t){e.commentary.id=t.data.commentaryId})).catch((function(e){var t="object"===x(e.response.data)?e.response.data.detail:e.response.data;console.error(t)}))},setCommentaryWithDebounce:function(e){var t=this;clearTimeout(this.timeoutSetCommentary),this.timeoutSetCommentary=setTimeout((function(){t.setCommentary(e)}),1500)},stripeCheckout:function(){this.$emit("stripeCheckout",0)},formatDate:function(e){return c()(e).format("DD/MM/YYYY")}}},w=(0,d.Z)(E,h,[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"exercise loading-block"},[s("div",{staticClass:"loading-gray thumbnail-wrapper"}),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"loading-gray h2 w-45"}),e._v(" "),s("div",{staticClass:"details"},[s("div",{staticClass:"series-reps"},[s("div",{staticClass:"loading-gray series w-25"}),e._v(" "),s("div",{staticClass:"loading-gray reps w-15"})]),e._v(" "),s("div",{staticClass:"loading-gray option w-25"}),e._v(" "),s("div",{staticClass:"loading-gray tempo w-15"}),e._v(" "),s("div",{staticClass:"loading-gray hold w-25"})]),e._v(" "),s("div",{staticClass:"commentary"},[s("div",{staticClass:"loading-gray title w-25"}),e._v(" "),s("div",{staticClass:"loading-gray input"})])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"exercise loading-block"},[s("div",{staticClass:"loading-gray thumbnail-wrapper"}),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"loading-gray h2 w-35"}),e._v(" "),s("div",{staticClass:"details"},[s("div",{staticClass:"series-reps"},[s("div",{staticClass:"loading-gray series w-15"}),e._v(" "),s("div",{staticClass:"loading-gray reps w-25"})]),e._v(" "),s("div",{staticClass:"loading-gray option w-25"}),e._v(" "),s("div",{staticClass:"loading-gray tempo w-15"}),e._v(" "),s("div",{staticClass:"loading-gray hold w-25"})]),e._v(" "),s("div",{staticClass:"commentary"},[s("div",{staticClass:"loading-gray title w-25"}),e._v(" "),s("div",{staticClass:"loading-gray input"})])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"exercise loading-block"},[s("div",{staticClass:"loading-gray thumbnail-wrapper"}),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"loading-gray h2 w-45"}),e._v(" "),s("div",{staticClass:"details"},[s("div",{staticClass:"series-reps"},[s("div",{staticClass:"loading-gray series w-15"}),e._v(" "),s("div",{staticClass:"loading-gray reps w-15"})]),e._v(" "),s("div",{staticClass:"loading-gray option w-25"}),e._v(" "),s("div",{staticClass:"loading-gray tempo w-15"}),e._v(" "),s("div",{staticClass:"loading-gray hold w-25"})]),e._v(" "),s("div",{staticClass:"commentary"},[s("div",{staticClass:"loading-gray title w-25"}),e._v(" "),s("div",{staticClass:"loading-gray input"})])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"icon-request-subscription"},[t("i",{staticClass:"kiv-subscription icon-20"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-request-subscription"},[s("p",[e._v("\n                    Pour avoir accès à l’ensemble des vidéos de la\n                    prescription, veuillez vous abonner.\n                ")])])}],!1,null,"1c390998",null);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function T(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?V(Object(s),!0).forEach((function(t){P(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):V(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function P(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}w.options.__file="assets/vue/patient/ReadWorkSheetPage/ExercisesPlaylist.vue";var F={components:{ExercisesPlaylist:w.exports,TimingFrieze:v,TagPartOfBody:s(4117).Z},data:function(){return{patient:null,doctor:null,worksheetId:null,worksheet:{},exercises:[],currentWorksheetSession:{},totalWorksheetSessions:null,doctorView:null,csrfTokenStartWorksheetSession:null,csrfTokenCompleteWorksheetSession:null,csrfTokenCompleteExercise:null,csrfTokenCreateExerciseStat:null,csrfTokenCreateCommentary:null,modalTimingFriezeMobile:!1,loading:!1,stripeSubPlans:null,status:null,stripeSubscription:null}},computed:{getWorksheet:function(){return this.worksheet},getExercises:function(){return this.exercises},getCurrentWorksheetSession:function(){return this.currentWorksheetSession},getTotalWorksheetSessions:function(){return this.totalWorksheetSessions},allExercisesIsCompleted:function(){if(this.getExercises)return!this.getExercises.filter((function(e){return!e.isCompleted})).length}},methods:{getCurrentCommentary:function(e){var t=this,s={content:"",id:null},i=e.find((function(e){return e.worksheetSession.id===t.getCurrentWorksheetSession.id}));return i&&(s=i),s},rederictToDashboard:function(){if(this.doctorView&&this.doctor){var e=window.location.search,t=new URLSearchParams(e).get("ref");document.location.href="dashp"===t?"/doctor/".concat(this.doctor.id,"/voir/patient/").concat(this.patient.id):"/doctor/".concat(this.doctor.id,"/dashboard")}else document.location.href="/patient/".concat(this.patient.id,"/dashboard")},stripeCheckout:function(e){this.axios.post("/subscription/checkout",{stripeSubPlanId:this.stripeSubPlans[e].planId,stripeCustomerId:this.stripeSubscription?this.stripeSubscription.customer:null,successUrl:"patient/".concat(this.patient.id,"/fiche/").concat(this.getWorksheet.id,"/success"),cancelUrl:"patient/".concat(this.patient.id,"/fiche/").concat(this.getWorksheet.id,"/cancel")}).then((function(e){window.location.href=e.data})).catch((function(e){console.log(e),o.Z.openErrorNotification("Erreur","Erreur lors du processus d'abonnement")}))}},created:function(){var e=this;i.default.prototype.$vs=this.$vs;var t=JSON.parse(document.getElementById("vueData").innerHTML);this.patient=t.patient,this.doctor=t.doctor,this.worksheetId=t.worksheetId,this.doctorView=t.doctorView,this.csrfTokenStartWorksheetSession=t.csrfTokenStartWorksheetSession,this.csrfTokenCompleteWorksheetSession=t.csrfTokenCompleteWorksheetSession,this.csrfTokenCompleteExercise=t.csrfTokenCompleteExercise,this.csrfTokenCreateExerciseStat=t.csrfTokenCreateExerciseStat,this.csrfTokenCreateCommentary=t.csrfTokenCreateCommentary,this.stripeSubPlans=t.stripeSubPlans,this.stripeSubscription=t.stripeSubscription,this.status=t.status,"cancel"===this.status&&o.Z.openPrimaryNotification("Paiement annulé","Le paiement a été annulé"),"success"===this.status&&o.Z.openSuccessNotification("Paiement accepté","Vous pouvez profiter de votre abonnement"),this.loading=!0,this.axios.get("/patient/".concat(this.patient.id,"/get/worksheet/").concat(this.worksheetId)).then((function(t){e.worksheet=t.data,e.axios.get("/patient/".concat(e.patient.id,"/get/current-worksheet-session/").concat(e.worksheetId,"/doctorview")).then((function(t){e.currentWorksheetSession=t.data.currentWorksheetSession,e.axios.get("/patient/".concat(e.patient.id,"/get/exercises/").concat(e.worksheetId)).then((function(t){e.exercises=t.data,e.exercises=o.Z.sortByPosition(e.exercises.map((function(t){return T(T({},t),{},{commentaries:o.Z.sortByCreatedAtDesc(t.commentaries),commentary:e.getCurrentCommentary(t.commentaries)})}))),e.axios.get("/patient/".concat(e.patient.id,"/get/total-worksheet-sessions/").concat(e.worksheetId)).then((function(t){e.totalWorksheetSessions=t.data,!e.currentWorksheetSession||e.currentWorksheetSession.isInProgress||e.currentWorksheetSession.isCompleted?e.loading=!1:e.axios.post("/patient/".concat(e.patient.id,"/start/worksheet-session"),{_token:e.csrfTokenStartWorksheetSession,worksheetId:e.getWorksheet.id,worksheetSessionId:e.getCurrentWorksheetSession.id}).then((function(t){e.getCurrentWorksheetSession.isInProgress=!0,e.exercises.forEach((function(e){e.isCompleted=!1})),e.loading=!1})).catch((function(e){var t="object"===W(e.response.data)?e.response.data.detail:e.response.data;console.error(t)}))})).catch((function(e){var t="object"===W(e.response.data)?e.response.data.detail:e.response.data;console.error(t)}))})).catch((function(e){var t="object"===W(e.response.data)?e.response.data.detail:e.response.data;console.error(t)}))})).catch((function(e){var t="object"===W(e.response.data)?e.response.data.detail:e.response.data;console.error(t)}))})).catch((function(e){var t="object"===W(e.response.data)?e.response.data.detail:e.response.data;console.error(t)}))}},O=(0,d.Z)(F,n,[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"title"},[s("i",{staticClass:"kiv-arrow-left icon-31"}),e._v(" "),s("div",{staticClass:"loading-gray h1"})])}],!1,null,"795db4d4",null);O.options.__file="assets/vue/patient/ReadWorkSheetPage.vue";var D=O.exports,I=s(9669),$=s.n(I),j=s(2346),B=s(1370),M=s.n(B),z=s(1652),q=s.n(z);i.default.use(j.Z,$()),i.default.use(M()),i.default.use(q()),new i.default({render:function(e){return e(D)}}).$mount("#vue")},5205:function(e,t,s){e.exports=s.p+"images/basket.4113e5a7.svg"},4459:function(e,t,s){e.exports=s.p+"images/confettis.d696b8e2.svg"},1407:function(e,t,s){e.exports=s.p+"images/46.0399c65a.svg"},70:function(e,t,s){e.exports=s.p+"images/47.b41f86d5.svg"},889:function(e,t,s){e.exports=s.p+"images/48.fdbe8352.svg"},5988:function(e,t,s){e.exports=s.p+"images/49.d0512f3a.svg"},1867:function(e,t,s){e.exports=s.p+"images/50.dc6f934c.svg"},4857:function(e,t,s){e.exports=s.p+"images/51.8b05a017.svg"},1703:function(e,t,s){e.exports=s.p+"images/52.c28f7a8b.svg"},6240:function(e,t,s){e.exports=s.p+"images/53.324059de.svg"},2213:function(e,t,s){e.exports=s.p+"images/54.096a1702.svg"},1489:function(e,t,s){e.exports=s.p+"images/score-elip.4b8debdb.svg"},8875:function(e,t,s){e.exports=s.p+"images/score-fanion.cf92067d.svg"},4256:function(e,t,s){e.exports=s.p+"images/score-stars-confettis.06d70d9e.svg"}},function(e){e.O(0,[429,285,770,60,900],(function(){return t=1873,e(e.s=t);var t}));e.O()}]);