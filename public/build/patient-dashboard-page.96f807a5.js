"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[603],{726:function(t,e,i){var s=i(538),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t.patient.addRequestDoctor||t.doctorView?s("section",{staticClass:"db-patient",class:{"doctor-view":t.doctorView},attrs:{id:"dashboard"}},[s("div",[s("h1",[t.doctorView?t._e():s("span",[t._v("\n                    Bienvenue sur votre dashboard !\n                    "),s("i",[s("img",{attrs:{src:i(9402),alt:"Icone d'une main qui fait 'coucou'"}})])]),t._v(" "),t.doctorView?s("span",{staticClass:"h1-doctor-view"},[s("span",{staticClass:"patient-avatar"},[s("vs-avatar",{staticClass:"avatar",attrs:{circle:"",size:"65"}},[s("img",{attrs:{src:t.patient.avatarUrl?t.patient.avatarUrl:"/img/avatar-default.svg",alt:"Avatar de "+t.patient.firstname+" "+t.patient.lastname}})])],1),t._v(" "),s("span",[t._v("\n                        Dashboard de\n                        "),t.patient.firstname||t.patient.lastname?s("span",{staticClass:"patient-name"},[t._v("\n                            "+t._s(t.patient.firstname)+"\n                            "+t._s(t.patient.lastname)+"\n                        ")]):s("span",{staticClass:"patient-name"},[t._v("\n                            "+t._s(t.patient.email)+"\n                        ")])])]):t._e()])]),t._v(" "),s("main",[s("MyScores",{attrs:{patient:t.patient,doctorView:t.doctorView,patientWorksheets:t.patientWorksheets,loadingPatientWorksheets:t.loadingPatientWorksheets}}),t._v(" "),s("MyWorksheets",{attrs:{patient:t.patient,doctorView:t.doctorView,doctor:t.currentUser,patientWorksheets:t.patientWorksheets,loadingPatientWorksheets:t.loadingPatientWorksheets,loadingPatientWorksheetsProgression:t.loadingPatientWorksheetsProgression,csrfTokenRemoveWorksheet:t.csrfTokenRemoveWorksheet}}),t._v(" "),s("aside",[t.doctorView?t._e():s("MyDashboardNotifications",{attrs:{patient:t.patient,csrfTokenAcceptDoctor:t.csrfTokenAcceptDoctor,csrfTokenDeclineDoctor:t.csrfTokenDeclineDoctor}}),t._v(" "),t.doctorView?t._e():s("section",{staticClass:"kiv-block",class:{reduced:!t.myDoctorContent},attrs:{id:"my-doctor"}},[s("button",{staticClass:"toggle-content",on:{click:function(e){t.myDoctorContent=!t.myDoctorContent}}},[s("i",{staticClass:"kiv-chevron-down icon-3"})]),t._v(" "),s("h2",[t._v("Mon praticien")]),t._v(" "),s("transition",{attrs:{name:"height2"}},[t.myDoctorContent?s("div",{staticClass:"doctor-details"},[s("div",{staticClass:"doctor-avatar"},[t.loadingDoctor?s("div",{staticClass:"loading avatar"}):t._e(),t._v(" "),t.patient.addRequestDoctor&&t.patient.doctor&&!t.loadingDoctor?s("vs-avatar",{staticClass:"avatar",attrs:{circle:"",size:"116"}},[s("img",{attrs:{src:t.patient.doctor.avatarUrl?t.patient.doctor.avatarUrl:"../../img/avatar-default.svg",alt:"Avatar de "+t.patient.doctor.firstname+" "+t.patient.doctor.lastname}})]):t._e(),t._v(" "),!1===t.patient.addRequestDoctor&&!t.loadingDoctor||!t.patient.doctor?s("vs-avatar",{staticClass:"avatar waiting",attrs:{circle:"",size:"116"}},[s("img",{attrs:{src:i(9552),alt:"Smiley Monocle"}})]):t._e()],1),t._v(" "),s("div",{staticClass:"doctor-infos"},[t.loadingDoctor?s("div",[s("p",{staticClass:"loading name w-55"}),t._v(" "),s("p",{staticClass:"loading city w-45"})]):t._e(),t._v(" "),t.patient.addRequestDoctor&&t.patient.doctor&&!t.loadingDoctor?s("div",[s("div",{staticClass:"name"},[s("span",[t._v(t._s(t.getUserName(t.patient.doctor)))]),t._v(" "),s("vs-button",{staticClass:"btn-change-doctor",attrs:{size:"mini"},on:{click:t.openModalChangeDoctor}},[s("i",{staticClass:"fas fa-sync-alt"}),t._v(" "),s("span",[t._v("Changer de praticien\n                                            ")])])],1),t._v(" "),t.patient.doctor.entityName||t.patient.doctor.city?s("div",{staticClass:"entity-city"},[t.patient.doctor.entityName?s("span",[t._v(t._s(t.patient.doctor.entityName))]):t._e(),t.patient.doctor.entityName&&t.patient.doctor.city?s("span",[t._v(", ")]):t._e(),t.patient.doctor.city?s("span",[t._v(t._s(t.patient.doctor.city))]):t._e()]):t._e()]):t._e(),t._v(" "),!1!==t.patient.addRequestDoctor||t.loadingDoctor?t._e():s("div",[s("p",[t._v("En attente de validation")])]),t._v(" "),t.patient.doctor?t._e():s("div",[s("p",{staticClass:"p"},[t._v("En attente")]),t._v(" "),s("p",{staticClass:"subp"},[t._v("Un de nos praticiens va prendre contact avec vous\n                                       pour élaborer le traitement approprié.\n                                    ")]),t._v(" "),s("p",{staticClass:"subp"},[t._v("\n                                        Vous avez une question ?\n                                        "),s("a",{on:{click:t.rederictToHelpSupport}},[t._v("contactez-nous")])])])])]):t._e()])],1),t._v(" "),t.doctorView?s("section",{staticClass:"kiv-block desktop-view",attrs:{id:"patient"}},[s("h2",[t._v("Le patient")]),t._v(" "),t.myDoctorContent?s("div",{staticClass:"patient-details"},[s("div",{staticClass:"patient-avatar"},[s("vs-avatar",{staticClass:"avatar",attrs:{circle:"",size:"116"}},[s("img",{attrs:{src:t.patient.avatarUrl?t.patient.avatarUrl:"/img/avatar-default.svg",alt:"Avatar de "+t.patient.firstname+" "+t.patient.lastname}})])],1),t._v(" "),s("div",{staticClass:"patient-infos"},[s("div",[s("p",{staticClass:"name"},[t._v("\n                                    "+t._s(t.getUserName(t.patient))+"\n                                ")]),t._v(" "),t.patient.birthdate?s("p",{staticClass:"birthdate"},[t._v("\n                                    "+t._s(t.getAge(t.patient.birthdate))+" ans\n                                ")]):t._e()])])]):t._e()]):t._e()],1),t._v(" "),s("MyExerciseStats",{attrs:{patient:t.patient,doctorView:t.doctorView,patientWorksheets:t.patientWorksheets,loadingPatientWorksheets:t.loadingPatientWorksheets}})],1),t._v(" "),t.modalChangeDoctor?s("div",{staticClass:"change-doctor-modal"},[s("div",{staticClass:"content"},[s("section",{staticClass:"kiv-block",attrs:{id:"change-doctor-box"}},[s("button",{staticClass:"vs-dialog__close btn-close-modal",on:{click:t.closeModalChangeDoctor}},[s("i",{staticClass:"vs-icon-close vs-icon-hover-x"})]),t._v(" "),s("h2",[t._v("Changer de praticien")]),t._v(" "),s("DoctorSelectBox",{staticClass:"big",attrs:{doctorSelected:t.doctorSelected},on:{setDoctorSelected:t.setDoctorSelected}}),t._v(" "),s("div",{staticClass:"btn-container"},[s("vs-button",{staticClass:"secondary",on:{click:t.closeModalChangeDoctor}},[t._v("Annuler")]),t._v(" "),s("vs-button",{attrs:{disabled:t.loadingChangeDoctor||!t.doctorSelected,loading:t.loadingChangeDoctor},on:{click:t.valideChangeDoctor}},[t._v("Valider")])],1)],1)])]):t._e()]):s("DoctorChoice",{attrs:{patient:t.patient,csrfTokenSelectDoctor:t.csrfTokenSelectDoctor,csrfTokenContact:t.csrfTokenContact},on:{patientHasNoDoctorChoice:t.setPatientHasNoDoctorChoice}})],1)};n._withStripped=!0;i(7327),i(1249),i(4747),i(2222),i(6992),i(1539),i(8783),i(3948),i(285),i(4916),i(4765),i(2526),i(1817),i(2165),i(7941),i(5003),i(9337);var a=i(381),o=i.n(a),r=i(4098),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{attrs:{id:"doctor-choice"}},[null!==t.patientHasDoctorChoice?i("vs-button",{staticClass:"btn-prev",attrs:{circle:"",floating:""},on:{click:function(e){t.patientHasDoctorChoice=null}}},[i("i",{staticClass:"kiv-arrow-left icon-31"})]):t._e(),t._v(" "),i("h1",[t._v("Bienvenue sur Kivid !")]),t._v(" "),null===t.patientHasDoctorChoice?i("div",{staticClass:"btn-container"},[i("h4",[t._v(" Avez-vous un praticien ?")]),t._v(" "),i("vs-button",{staticClass:"w-100",on:{click:function(e){t.patientHasDoctorChoice=!0}}},[t._v("\n            Oui, j'ai un praticien\n        ")]),t._v(" "),i("vs-button",{staticClass:"w-100",on:{click:t.patientHasNoDoctorChoice}},[t._v("\n            Non, je n'en ai pas\n        ")])],1):t._e(),t._v(" "),t.patientHasDoctorChoice?i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideSelectBox,expression:"hideSelectBox"}],staticClass:"select-filter",class:{loading:t.loading}},[t.loading?t._e():i("div",[t.doctorSelected?i("div",{staticClass:"doctor-selected doctor",on:{click:t.resetSelect}},[i("vs-avatar",{staticClass:"avatar",attrs:{circle:"",size:"35"}},[i("img",{attrs:{src:t.doctorSelected.avatarUrl?t.doctorSelected.avatarUrl:"/img/avatar-default.svg",alt:"Avatar de "+t.doctorSelected.firstname+" "+t.doctorSelected.lastname}})]),t._v(" "),i("div",{staticClass:"name"},[t._v("\n                    "+t._s(t.getUserName(t.doctorSelected))+"\n                ")])],1):i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],class:{"b-r-b-zero":t.selectBox,"placeholder-gray":t.selectBox},attrs:{id:"doctor-choice-select",placeholder:t.selectBox?"Recherchez votre praticien":"Sélectionnez votre praticien",autocomplete:"off"},domProps:{value:t.filter},on:{click:function(e){t.selectBox=!0},keyup:t.selectBoxWithThrottle,input:function(e){e.target.composing||(t.filter=e.target.value)}}}),t._v(" "),i("div",{staticClass:"arrow-toggle-box",class:{active:t.selectBox},on:{click:t.toggleSelectBox}},[i("i",{staticClass:"kiv-chevron-down icon-3"})]),t._v(" "),i("transition",{attrs:{name:"height"}},[t.selectBox?i("div",{staticClass:"select-box",on:{click:t.focusInputSelect}},[t.getDoctors.length?i("ul",t._l(t.getDoctors,(function(e,s){return i("li",{key:s},[i("div",{staticClass:"doctor",on:{click:function(i){return t.selectDoctor(e)}}},[i("vs-avatar",{staticClass:"avatar",attrs:{circle:"",size:"35"}},[i("img",{attrs:{src:e.avatarUrl?e.avatarUrl:"/img/avatar-default.svg",alt:"Avatar de "+e.firstname+" "+e.lastname}})]),t._v(" "),i("div",{staticClass:"name"},[t._v("\n                                    "+t._s(t.getUserName(e))+"\n                                ")])],1)])})),0):i("div",[i("p",{staticClass:"not-found"},[i("i",{staticClass:"fas fa-users-slash"}),t._v(" "),i("span",[t._v("\n                                Aucun praticien n'a été trouvé avec \""),i("strong",[t._v(t._s(t.filter))]),t._v('"')])])])]):t._e()])],1),t._v(" "),i("div",{staticClass:"valid-doctor-container"},[i("vs-button",{on:{click:t.valideDoctorChoice}},[t._v("Valider")]),t._v(" "),i("a",{staticClass:"contact",on:{click:t.patientHasNoDoctorChoice}},[t._v("Je n'ai pas de praticien")])],1)]):t._e()],1)};c._withStripped=!0;i(5306);var l=i(2649),d=i.n(l),v=i(8328),u=i.n(v);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var f={props:{patient:Object,csrfTokenSelectDoctor:String,csrfTokenContact:String},directives:{ClickOutside:d()},components:{VuePhoneNumberInput:u()},data:function(){return{doctors:[],doctorSelected:null,filter:"",selectBox:!1,selectInput:null,loading:!1,footer:null,modalContact:!1,btnLoadingValidContact:!1,validationMessage:{email:null},contactTel:null,patientHasDoctorChoice:null}},computed:{getDoctors:function(){return r.Z.getSearch(this.doctors,this.filter)},errorTel:function(){var t=!1;if(this.contactTel&&this.contactTel.length>4){var e=this.contactTel.replace(/ /g,"");/^0[1-9]([-. ]?[0-9]{2}){4}$/.test(String(e))||(t=!0)}return t}},methods:{valideDoctorChoice:function(){var t=this;this.doctorSelected&&this.axios.post("/patient/".concat(this.patient.id,"/select/doctor"),{_token:this.csrfTokenSelectDoctor,doctorId:this.doctorSelected.id}).then((function(e){r.Z.openSuccessNotification("Choix du praticien enregistré",e.data),t.patient.addRequestDoctor=!0,t.patient.doctor=t.doctorSelected,t.footer.classList.remove("hidden")})).catch((function(t){var e="object"===h(t.response.data)?t.response.data.detail:t.response.data;r.Z.openErrorNotification("Erreur",e)}))},patientHasNoDoctorChoice:function(){this.$emit("patientHasNoDoctorChoice",!0)},toggleSelectBox:function(){this.selectBox=!this.selectBox,this.doctorSelected&&this.resetSelect(),this.selectBox&&this.focusInputSelect()},hideSelectBox:function(){this.selectBox=!1},selectDoctor:function(t){this.doctorSelected=t,this.hideSelectBox()},resetSelect:function(){var t=this;this.doctorSelected=null,setTimeout((function(){t.selectInput=document.getElementById("doctor-choice-select"),t.selectBox=!0,t.focusInputSelect()}),100)},focusInputSelect:function(){this.selectInput.focus()},getUserName:function(t){return r.Z.getUserName(t)},validContact:function(){var t=this;this.btnLoadingValidContact=!0,this.axios.post("/contact",{_token:this.csrfTokenContact,firstname:this.patient.firstname,lastname:this.patient.lastname,email:this.patient.email.toLowerCase(),contactTel:this.contactTel}).then((function(e){r.Z.openSuccessNotification("Message envoyé",e.data),t.modalContact=!1,t.btnLoadingValidContact=!1})).catch((function(e){var i="object"===h(e.response.data)?e.response.data.detail:e.response.data;t.modalContact=!1,t.btnLoadingValidContact=!1,r.Z.openErrorNotification("Erreur",i)}))},validationEmail:function(){this.validationMessage.email=null;/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(this.patient.email).toLowerCase())||(this.validationMessage.email="Merci d'entrer un email valide.")},selectBoxWithThrottle:function(){var t=this;this.selectBoxThrottle||(this.selectBoxThrottle=!0,this.selectBox=!0,console.log("selectBox"),setTimeout((function(){t.selectBoxThrottle=!1}),1e3))}},mounted:function(){var t=this;this.footer=document.querySelector(".footer"),this.footer.classList.add("hidden"),null===this.patient.firstname&&(this.patient.firstname=""),null===this.patient.lastname&&(this.patient.lastname=""),this.loading=!0,this.axios.get("/patient/".concat(this.$parent.patient.id,"/get/doctors")).then((function(e){t.doctors=e.data,t.loading=!1})).catch((function(t){t.response&&console.log(t.response.data.detail?t.response.data.detail:t.response.data)})),this.selectInput=document.getElementById("doctor-choice-select")}},p=i(1900),m=(0,p.Z)(f,c,[],!1,null,null,null);m.options.__file="assets/vue/patient/DashboardPage/DoctorChoice.vue";var g=m.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"kiv-block",class:{reduced:!t.$parent.myScoresContent},attrs:{id:"my-scores"}},[i("button",{staticClass:"toggle-content",on:{click:function(e){t.$parent.myScoresContent=!t.$parent.myScoresContent}}},[i("i",{staticClass:"kiv-chevron-down icon-3"})]),t._v(" "),i("h2",[t.doctorView?t._e():i("span",[t._v("Mes")]),t.doctorView?i("span",[t._v("Ses")]):t._e(),t._v(" indices\n    ")]),t._v(" "),i("transition",{attrs:{name:"height"}},[t.$parent.myScoresContent?i("div",{staticClass:"content"},[i("div",{staticClass:"score-circle"},[i("vue-ellipse-progress",t._b({attrs:{progress:t.getScorePercentage}},"vue-ellipse-progress",t.options,!1)),t._v(" "),i("div",{staticClass:"score-circle-text"},[i("span",{staticClass:"score"},[t._v(t._s(t.formatNumbThousand(t.getScore)))]),t._v(" "),i("p",{staticClass:"unit"},[t._v("Points")])])],1),t._v(" "),i("div",{staticClass:"score-line"},[i("div",{staticClass:"progressbar-base",class:{"loading-gray-dark":t.loading}},[i("div",{staticClass:"progressbar-thumb",class:{max:t.score>=t.scoreMax},style:{width:t.getScorePercentage+"%"}}),t._v(" "),i("div",{staticClass:"progressbar-steps"},[i("div",[i("div",{staticClass:"point"}),t._v(" "),i("span",[t._v("1 000 pts")])]),t._v(" "),i("div",[i("div",{staticClass:"point"}),t._v(" "),i("span",[t._v("2 000 pts")])]),t._v(" "),i("div",[i("div",{staticClass:"point"}),t._v(" "),i("span",[t._v("3 000 pts")])]),t._v(" "),i("div",[i("div",{staticClass:"point"}),t._v(" "),i("span",[t._v("4 000 pts")])])]),t._v(" "),t.loading?t._e():i("div",{staticClass:"progressbar-current-score",class:{start:t.getScorePercentage<20,end:t.getScorePercentage>80},style:{left:t.getScorePercentage<=100?t.getScorePercentage+"%":"100%"}},[i("span",[t.doctorView?t._e():i("span",[t._v("Votre")]),t.doctorView?i("span",[t._v("Son")]):t._e(),t._v(" score\n                            "),i("span",{staticClass:"score"},[t._v(t._s("("+t.formatNumbThousand(t.getScore)+" pts)"))])])]),t._v(" "),i("div",{staticClass:"progressbar-base-end-decoration"},[i("div"),t._v(" "),i("div"),t._v(" "),i("div")])])]),t._v(" "),i("div",{staticClass:"exercise-block score-block"},[i("div",{staticClass:"stat-icon"},[i("i",{staticClass:"kiv-exercise icon-7"})]),t._v(" "),i("h4",{staticClass:"stat-label"},[t._v("Nombre d’exercices faits")]),t._v(" "),i("div",{staticClass:"stat-result"},[t.loadingPatientWorksheets?t._e():i("h3",[t._v("\n                        "+t._s(t.getTotalExerciseCompleted)+"\n                    ")]),t._v(" "),t.loadingPatientWorksheets?i("div",{staticClass:"loading-gray loading-block-h3 w-25"}):t._e()])]),t._v(" "),i("div",{staticClass:"sensitivity-block score-block"},[i("div",{staticClass:"stat-icon"},[i("i",{staticClass:"kiv-sensitivity icon-8"})]),t._v(" "),i("h4",{staticClass:"stat-label"},[t.doctorView?t._e():i("span",[t._v("Votre")]),t.doctorView?i("span",[t._v("Sa")]):t._e(),t._v(" sensibilité\n                ")]),t._v(" "),i("div",{staticClass:"stat-result"},[t.loadingPatientWorksheets?t._e():i("h3",[t.getSensitivitySmiley&&!t.loadingPatientWorksheets?i("div",{staticClass:"sensitivity-smiley"},[i("img",{attrs:{src:t.getSensitivitySmiley.src,alt:t.getSensitivitySmiley.alt}})]):t._e(),t._v(" "),t.getSensitivityVariation&&"up"===t.getSensitivityVariation.variation?i("span",[t._v("\n                            En amélioration\n                        ")]):t._e(),t._v(" "),t.getSensitivityVariation&&"down"===t.getSensitivityVariation.variation?i("span",[t._v("\n                            En baisse\n                        ")]):t._e(),t._v(" "),t.getSensitivityVariation&&"equal"===t.getTechnicalVariation.variation?i("span",[t._v("\n                            Stable\n                        ")]):t._e(),t._v(" "),t.getSensitivityVariation?t._e():i("span",{staticClass:"sensitivity-soon"},[t._v("\n                            Bientôt !\n                        ")])]),t._v(" "),t.getSensitivityVariation&&!t.loadingPatientWorksheets&&"up"===t.getSensitivityVariation.variation?i("div",{staticClass:"stat-variation green"},[t._v("\n                        ("),i("i",{staticClass:"kiv-variation-up icon-27"}),i("span",[t._v("+"+t._s(t.getSensitivityVariation.result)+"%")]),t._v(")\n                    ")]):t._e(),t._v(" "),t.getSensitivityVariation&&!t.loadingPatientWorksheets&&"down"===t.getSensitivityVariation.variation?i("div",{staticClass:"stat-variation red"},[t._v("\n                        ("),i("i",{staticClass:"kiv-variation-down icon-28"}),i("span",[t._v(t._s(t.getSensitivityVariation.result)+"%")]),t._v(")\n                    ")]):t._e(),t._v(" "),t.loadingPatientWorksheets?i("div",{staticClass:"loading-gray loading-block-h3 w-75"}):t._e()])]),t._v(" "),i("div",{staticClass:"technical-block score-block"},[i("div",{staticClass:"stat-icon"},[i("i",{staticClass:"kiv-technical icon-9"})]),t._v(" "),i("h4",{staticClass:"stat-label"},[t.doctorView?t._e():i("span",[t._v("Votre")]),t.doctorView?i("span",[t._v("Sa")]):t._e(),t._v(" technique\n                ")]),t._v(" "),i("div",{staticClass:"stat-result"},[t.loadingPatientWorksheets?t._e():i("h3",[t.getTechnicalVariation&&"up"===t.getTechnicalVariation.variation?i("span",[t._v("\n                            En amélioration\n                        ")]):t._e(),t._v(" "),t.getTechnicalVariation&&"down"===t.getTechnicalVariation.variation?i("span",[t._v("\n                            En baisse\n                        ")]):t._e(),t._v(" "),t.getTechnicalVariation&&"equal"===t.getTechnicalVariation.variation?i("span",[t._v("\n                            Stable\n                        ")]):t._e(),t._v(" "),t.getTechnicalVariation?t._e():i("span",[t._v("\n                            Bientôt !\n                        ")])]),t._v(" "),t.getTechnicalVariation&&!t.loadingPatientWorksheets&&"up"===t.getTechnicalVariation.variation?i("div",{staticClass:"stat-variation green"},[t._v("\n                        ("),i("i",{staticClass:"kiv-variation-up icon-27"}),i("span",[t._v("+"+t._s(t.getTechnicalVariation.result)+"%")]),t._v(")\n                    ")]):t._e(),t._v(" "),t.getTechnicalVariation&&!t.loadingPatientWorksheets&&"down"===t.getTechnicalVariation.variation?i("div",{staticClass:"stat-variation red"},[t._v("\n                        ("),i("i",{staticClass:"kiv-variation-down icon-28"}),i("span",[t._v(t._s(t.getTechnicalVariation.result)+"%")]),t._v(")\n                    ")]):t._e(),t._v(" "),t.loadingPatientWorksheets?i("div",{staticClass:"loading-gray loading-block-h3 w-75"}):t._e()])]),t._v(" "),i("ScoreRankBlock",{attrs:{rank:t.getRank,loading:t.loading,doctorView:t.doctorView}})],1):t._e()])],1)};_._withStripped=!0;i(9826),i(2707),i(2420),i(9714),i(1038),i(7042),i(8309);var k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"score-rank-block score-block",class:{nouveau:"nouveau"===t.rank,debutant:"debutant"===t.rank,amateur:"amateur"===t.rank,intermediaire:"intermediaire"===t.rank,confirme:"confirme"===t.rank,expert:"expert"===t.rank}},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[t.loading||"nouveau"!==t.rank?t._e():s("div",{key:"nouveau"},[s("h4",[t.doctorView?t._e():s("span",[t._v("Votre")]),t.doctorView?s("span",[t._v("Son")]):t._e(),t._v(" niveau\n            ")]),t._v(" "),s("i",{staticClass:"rank-img"},[s("img",{attrs:{src:i(9402),alt:"Icone du rang nouveau patient"}})]),t._v(" "),s("p",{staticClass:"rank-label"},[t._v("Nouveau Patient")]),t._v(" "),s("p",{staticClass:"rank-result"},[t._v("C’est parti pour aller mieux !")])]),t._v(" "),t.loading||"debutant"!==t.rank?t._e():s("div",{key:"debutant"},[s("h4",[t._v("Votre niveau")]),t._v(" "),s("i",{staticClass:"rank-img"},[s("img",{attrs:{src:i(8737),alt:"Icone du rang débutant"}})]),t._v(" "),s("p",{staticClass:"rank-label"},[t._v("Patient Débutant")]),t._v(" "),s("p",{staticClass:"rank-result"},[t._v('Muscle ton jeu "Robert" !')])]),t._v(" "),t.loading||"amateur"!==t.rank?t._e():s("div",{key:"amateur"},[s("h4",[t._v("Votre niveau")]),t._v(" "),s("i",{staticClass:"rank-img"},[s("img",{attrs:{src:i(5057),alt:"Icone du rang amateur"}})]),t._v(" "),s("p",{staticClass:"rank-label"},[t._v("Patient Amateur")]),t._v(" "),s("p",{staticClass:"rank-result"},[t._v("La tête dans le guidon !")])]),t._v(" "),t.loading||"intermediaire"!==t.rank?t._e():s("div",{key:"intermediaire"},[s("h4",[t._v("Votre niveau")]),t._v(" "),s("i",{staticClass:"rank-img"},[s("img",{attrs:{src:i(8513),alt:"Icone du rang intermédiaire"}})]),t._v(" "),s("p",{staticClass:"rank-label"},[t._v("Patient Intermédiaire")]),t._v(" "),s("p",{staticClass:"rank-result"},[t._v("Bien dans tes Baskets !")])]),t._v(" "),t.loading||"confirme"!==t.rank?t._e():s("div",{key:"confirme"},[s("h4",[t._v("Votre niveau")]),t._v(" "),s("i",{staticClass:"rank-img"},[s("img",{attrs:{src:i(8513),alt:"Icone 1 du rang confirmé"}}),t._v(" "),s("img",{attrs:{src:i(8513),alt:"Icone 2 du rang confirmé"}})]),t._v(" "),s("p",{staticClass:"rank-label"},[t._v("Patient Confirmé")]),t._v(" "),s("p",{staticClass:"rank-result"},[t._v("Pas le temps de niaiser !")])]),t._v(" "),t.loading||"expert"!==t.rank?t._e():s("div",{key:"expert"},[s("h4",[t._v("Votre niveau")]),t._v(" "),s("i",{staticClass:"rank-img"},[s("img",{attrs:{src:i(8513),alt:"Icone 1 du rang expert"}}),t._v(" "),s("img",{attrs:{src:i(8513),alt:"Icone 2 du rang expert"}}),t._v(" "),s("img",{attrs:{src:i(8513),alt:"Icone 3 du rang expert"}})]),t._v(" "),s("p",{staticClass:"rank-label"},[t._v("Patient Expert")]),t._v(" "),s("p",{staticClass:"rank-result"},[t._v("Prêt pour le prochain Iron Man !")])])]),t._v(" "),t.loading?s("div",{key:"loading",staticClass:"loading-block"},[s("div",{staticClass:"loading h4 w-65"}),t._v(" "),s("div",{staticClass:"loading i"}),t._v(" "),s("div",{staticClass:"loading rank-label"}),t._v(" "),s("div",{staticClass:"loading rank-result w-85"})]):t._e()],1)};k._withStripped=!0;var y={props:{rank:String,loading:Boolean,doctorView:Boolean}},C=(0,p.Z)(y,k,[],!1,null,"2ea27674",null);C.options.__file="assets/vue/patient/DashboardPage/MyScores/ScoreRankBlock.vue";var b=C.exports;function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t){return function(t){if(Array.isArray(t))return x(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return x(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return x(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}var D={props:{patient:Object,patientWorksheets:Array,loadingPatientWorksheets:Boolean,doctorView:Boolean},components:{ScoreRankBlock:b},data:function(){return{loading:!1,score:0,scoreMax:5e3,options:{color:"#FF6332","empty-color":"#ffc6b5",size:100,thickness:5,"empty-thickness":3,"line-mode":"out 5",animation:"rs 700 1000",legend:!1},sensitivityLastStatsAverageForSmiley:null}},computed:{getScore:function(){return this.score},getScorePercentage:function(){if(this.score>0){var t=100*this.score/this.scoreMax;return t>100&&(t=100),t>1?t:1}return 1},getRank:function(){return this.score>=0&&this.score<1e3?"nouveau":this.score>=1e3&&this.score<2e3?"debutant":this.score>=2e3&&this.score<3e3?"amateur":this.score>=3e3&&this.score<4e3?"intermediaire":this.score>=4e3&&this.score<5e3?"confirme":this.score>=5e3?"expert":void 0},getTotalExerciseCompleted:function(){var t=0;return this.patientWorksheets.forEach((function(e){e.worksheetProgression>0&&e.worksheetProgression<100&&(t+=e.exercises.filter((function(t){return t.isCompleted})).length);var i=e.exerciseStats.find((function(t){return t.doneAt.substring(0,10)>"2022-04-02"}));t+=i?Math.floor(e.exerciseStats.length*e.exercises.length/3):Math.floor(e.exerciseStats.length/3)})),this.formatNumbThousand(t)},getSensitivityVariation:function(){return this.calculVariation("sensitivity")},getTechnicalVariation:function(){return this.calculVariation("technical")},getSensitivitySmiley:function(){var t={0:{src:i(1407),alt:"Smiley qui va très mal"},1.25:{src:i(70),alt:"Smiley qui va mal"},2.5:{src:i(889),alt:"Smiley qui va pas bien"},3.75:{src:i(5988),alt:"Smiley qui va bof"},5:{src:i(1867),alt:"Smiley perplexe"},6.25:{src:i(4857),alt:"Smiley qui va bien"},7.5:{src:i(1703),alt:"Smiley qui va très bien"},8.75:{src:i(6240),alt:"Smiley très content"},10:{src:i(2213),alt:"Smiley aux anges"}},e=null;return this.sensitivityLastStatsAverageForSmiley&&(this.sensitivityLastStatsAverageForSmiley>=0&&this.sensitivityLastStatsAverageForSmiley<1.25&&(e=t[0]),this.sensitivityLastStatsAverageForSmiley>=1.25&&this.sensitivityLastStatsAverageForSmiley<2.5&&(e=t[1.25]),this.sensitivityLastStatsAverageForSmiley>=2.5&&this.sensitivityLastStatsAverageForSmiley<3.75&&(e=t[2.5]),this.sensitivityLastStatsAverageForSmiley>=3.75&&this.sensitivityLastStatsAverageForSmiley<5&&(e=t[3.75]),this.sensitivityLastStatsAverageForSmiley>=5&&this.sensitivityLastStatsAverageForSmiley<6.25&&(e=t[5]),this.sensitivityLastStatsAverageForSmiley>=6.25&&this.sensitivityLastStatsAverageForSmiley<7.5&&(e=t[6.25]),this.sensitivityLastStatsAverageForSmiley>=7.5&&this.sensitivityLastStatsAverageForSmiley<8.75&&(e=t[7.5]),this.sensitivityLastStatsAverageForSmiley>=8.75&&this.sensitivityLastStatsAverageForSmiley<10&&(e=t[8.75]),this.sensitivityLastStatsAverageForSmiley>=10&&(e=t[10])),e}},methods:{calculVariation:function(t){var e=[];this.patientWorksheets.forEach((function(i){e=[].concat(w(e),w(i.exerciseStats.filter((function(e){return e.criterion===t}))))}));var i=0;if(!(e.length>1))return null;var s=e.sort((function(t,e){return new Date(t.doneAt)-new Date(e.doneAt)})).filter((function(t,i){return i>e.length-1-1})),n=this.statsAverage(s);if(!s.length)return null;"sensitivity"===t&&(this.sensitivityLastStatsAverageForSmiley=n);var a=e.sort((function(t,e){return new Date(t.doneAt)-new Date(e.doneAt)})).filter((function(t,i){return i<=e.length-1-1})),o=this.statsAverage(a);return{variation:0===(i=Math.round((n-o)/o*100))?"equal":1===Math.sign(i)?"up":"down",result:i}},formatNumbThousand:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},statsAverage:function(t){return Math.round(t.reduce((function(t,e){return t+=e.rating}),0)/t.length*10)/10}},mounted:function(){var t=this;this.loading=!0,this.axios.get("/patient/".concat(this.patient.id,"/get/score")).then((function(e){if(t.score=e.data.score?e.data.score:0,e.data.notifScoreRank&&!t.doctorView){var i=document.getElementById("user-notif-list");document.getElementById("notif-bell").classList.add("has-notifications");var s=document.createElement("li");s.classList.add("prio"),s.classList.add("active"),s.addEventListener("mouseover",(function(){s.classList.remove("active")}),!1);var n=document.createElement("div");n.classList.add("notif-icon");var a=document.createElement("img");a.src="/img/icons/colored/confettis.svg",a.alt="Icone de confettis",a.classList.add("icon-confettis");var o=document.createElement("p"),r=document.createElement("span");r.innerText="Vous avez atteint le niveau ".concat(e.data.notifScoreRank," ! Félicitations !"),o.appendChild(r),n.appendChild(a),s.appendChild(n),s.appendChild(o),i.appendChild(s)}t.loading=!1})).catch((function(t){var e="object"===S(t.response.data)?t.response.data.detail:t.response.data;console.error(e)}))}},W=(0,p.Z)(D,_,[],!1,null,"2a90fada",null);W.options.__file="assets/vue/patient/DashboardPage/MyScores.vue";var T=W.exports,P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return!t.getDashboardNotifications.length&&t.patient.birthdate&&t.patient.gender&&t.patient.firstname&&t.patient.lastname&&t.patient.isVerified?t._e():i("section",{staticClass:"kiv-block",class:{reduced:!t.$parent.myDBNotificationsContent},attrs:{id:"dashboard-notifications"}},[i("button",{staticClass:"toggle-content",on:{click:function(e){t.$parent.myDBNotificationsContent=!t.$parent.myDBNotificationsContent}}},[i("i",{staticClass:"kiv-chevron-down icon-3"})]),t._v(" "),i("h2",[t._v("Notifications")]),t._v(" "),i("transition",{attrs:{name:"height"}},[t.$parent.myDBNotificationsContent?i("div",{staticClass:"notifications-list"},[t._l(t.getDashboardNotifications,(function(e,s){return i("div",{key:s},[t.loading||"add-patient"!==e.content[0].type?t._e():i("div",{staticClass:"notifications-item"},[i("p",{staticClass:"notification-label"},t._l(e.content,(function(e,s){return i("span",{key:s},["text"===e.type?i("span",[t._v("\n                                "+t._s(e.content)+"\n                            ")]):t._e(),t._v(" "),"user"===e.type?i("span",[t._v("\n                                "+t._s(e.content)+"\n                            ")]):t._e()])})),0),t._v(" "),i("div",{staticClass:"notification-actions",class:{disabled:t.actionInProgress}},[i("a",{staticClass:"action-link green",on:{click:function(i){return t.acceptDoctor(e.id)}}},[i("i",{staticClass:"kiv-accept icon-22"}),t._v(" "),i("span",[t._v("Accepter")])]),t._v(" "),i("a",{staticClass:"action-link red",on:{click:function(i){return t.declineDoctor(e.id)}}},[i("i",{staticClass:"kiv-decline icon-6"}),t._v(" "),i("span",[t._v("Refuser")])])])])])})),t._v(" "),t.loading||t.patient.isVerified?t._e():i("div",{staticClass:"notifications-item"},[i("p",{staticClass:"notification-label"},[t._v("\n                    Vérifier votre adresse email\n                ")]),t._v(" "),i("div",{staticClass:"notification-actions",class:{disabled:t.actionInProgress}},[i("a",{staticClass:"action-link verif-mail",on:{click:function(e){return t.resendVerifEmail()}}},[i("i",{staticClass:"fas fa-envelope"}),t._v(" "),i("span",[t._v("Renvoyer lien")])])])]),t._v(" "),t.loading||t.patient.birthdate&&t.patient.gender&&t.patient.firstname&&t.patient.lastname?t._e():i("div",{staticClass:"notifications-item"},[i("p",{staticClass:"notification-label"},[t._v("Compléter votre profil")]),t._v(" "),i("div",{staticClass:"notification-actions"},[i("a",{staticClass:"action-link",attrs:{href:"/parametres"}},[i("i",{staticClass:"kiv-pen icon-4"}),t._v(" "),i("span",[t._v("Compléter")])])])]),t._v(" "),t.loading?i("div",[i("div",{staticClass:"loading-block notifications-item"},[i("p",{staticClass:"loading w-60 notification-label"}),t._v(" "),i("div",{staticClass:"loading w-25 notification-actions"})]),t._v(" "),i("div",{staticClass:"loading-block notifications-item"},[i("p",{staticClass:"loading w-30 notification-label"}),t._v(" "),i("div",{staticClass:"loading w-30 notification-actions"})])]):t._e()],2):t._e()])],1)};P._withStripped=!0;i(561);function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var B={data:function(){return{dashboardNotifications:[],actionInProgress:!1,loading:!1}},props:{patient:Object,csrfTokenAcceptDoctor:String,csrfTokenDeclineDoctor:String},computed:{getDashboardNotifications:function(){return this.dashboardNotifications}},methods:{getDBNotifications:function(){var t=this;this.loading=!0,this.axios.get("/patient/".concat(this.patient.id,"/get/patient-dashboard-notifications")).then((function(e){t.dashboardNotifications=e.data,t.loading=!1})).catch((function(t){var e="object"===O(t.response.data)?t.response.data.detail:t.response.data;console.error(e)}))},acceptDoctor:function(t){var e=this;this.actionInProgress=!0,this.axios.post("/patient/".concat(this.patient.id,"/accept/doctor"),{_token:this.csrfTokenAcceptDoctor,notificationId:t,doctorId:this.patient.doctor.id}).then((function(i){r.Z.openSuccessNotification("Demande d'ajout acceptée",i.data),e.patient.addRequestDoctor=!0,e.dashboardNotifications.splice(e.dashboardNotifications.indexOf(e.dashboardNotifications.find((function(e){return e.id===t}))),1),e.actionInProgress=!1})).catch((function(t){var i="object"===O(t.response.data)?t.response.data.detail:t.response.data;r.Z.openErrorNotification("Erreur",i),e.actionInProgress=!1}))},declineDoctor:function(t){var e=this;this.actionInProgress=!0,this.axios.post("/patient/".concat(this.patient.id,"/decline/doctor"),{_token:this.csrfTokenDeclineDoctor,notificationId:t,doctorId:this.patient.doctor.id}).then((function(i){r.Z.openSuccessNotification("Demande d'ajout refusée",i.data),e.dashboardNotifications.splice(e.dashboardNotifications.indexOf(e.dashboardNotifications.find((function(e){return e.id===t}))),1),e.actionInProgress=!1})).catch((function(t){var i="object"===O(t.response.data)?t.response.data.detail:t.response.data;r.Z.openErrorNotification("Erreur",i),e.actionInProgress=!1}))},resendVerifEmail:function(){var t=this;this.actionInProgress=!0,this.axios.get("/patient/".concat(this.patient.id,"/resend/verify-email")).then((function(e){r.Z.openSuccessNotification("E-mail de vérification envoyé",e.data),t.actionInProgress=!1})).catch((function(e){var i="object"===O(e.response.data)?e.response.data.detail:e.response.data;r.Z.openErrorNotification("Erreur",i),t.actionInProgress=!1}))}},created:function(){this.getDBNotifications()}},V=(0,p.Z)(B,P,[],!1,null,null,null);V.options.__file="assets/vue/patient/DashboardPage/MyDashboardNotifications.vue";var L=V.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"kiv-block",class:{reduced:!t.$parent.myWorksheetsContent,"doctor-view":t.doctorView},attrs:{id:"my-worksheets"}},[i("button",{staticClass:"toggle-content",on:{click:function(e){t.$parent.myWorksheetsContent=!t.$parent.myWorksheetsContent}}},[i("i",{staticClass:"kiv-chevron-down icon-3",class:{hidden:t.doctorView}})]),t._v(" "),i("h2",[t.doctorView?t._e():i("span",[t._v("Mes fiches")]),t.doctorView?i("span",[t._v("Ses prescriptions")]):t._e()]),t._v(" "),t.doctorView?i("div",{staticClass:"patient-prescription-btn"},[i("vs-button",{on:{click:function(e){return t.doctorPrescriProcessPatientChoice()}}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"96px",height:"96px"}},[i("path",{attrs:{d:"M 12.5 4 C 10.019 4 8 6.019 8 8.5 L 8 39.5 C 8 41.981 10.019 44 12.5 44 L 25.640625 44 C 24.785625 43.111 24.055516 42.103 23.478516 41 L 12.5 41 C 11.673 41 11 40.327 11 39.5 L 11 8.5 C 11 7.673 11.673 7 12.5 7 L 24 7 L 24 15.5 C 24 17.981 26.019 20 28.5 20 L 37 20 L 37 22.169922 C 38.045 22.331922 39.053 22.606906 40 23.003906 L 40 18.5 C 40 18.0855 39.831922 17.710828 39.560547 17.439453 L 26.560547 4.4394531 C 26.289172 4.1680781 25.9145 4 25.5 4 L 12.5 4 z M 27 9.1210938 L 34.878906 17 L 28.5 17 C 27.673 17 27 16.327 27 15.5 L 27 9.1210938 z M 35 24 C 28.925 24 24 28.925 24 35 C 24 41.075 28.925 46 35 46 C 41.075 46 46 41.075 46 35 C 46 28.925 41.075 24 35 24 z M 35 27 C 35.552 27 36 27.448 36 28 L 36 34 L 42 34 C 42.552 34 43 34.448 43 35 C 43 35.552 42.552 36 42 36 L 36 36 L 36 42 C 36 42.552 35.552 43 35 43 C 34.448 43 34 42.552 34 42 L 34 36 L 28 36 C 27.448 36 27 35.552 27 35 C 27 34.448 27.448 34 28 34 L 34 34 L 34 28 C 34 27.448 34.448 27 35 27 z"}})]),t._v("\n            Créer "),i("span",{staticClass:"view-on-desktop"},[t._v("une nouvelle")]),t._v(" prescri"),i("span",{staticClass:"hidden-on-small-mobile"},[t._v("ption")])])],1):t._e(),t._v(" "),i("transition",{attrs:{name:"height"}},[t.$parent.myWorksheetsContent?i("div",{staticClass:"worksheet-list"},[!t.loadingPatientWorksheets&&t.getPatientWorksheets.length?i("div",{staticClass:"wl-patient"},t._l(t.getPatientWorksheets,(function(e,s){return i("div",{key:s},[i("div",{staticClass:"worksheet-header"},[i("h3",{staticClass:"worksheet-title"},[t._v("\n                            "+t._s(e.title)+"\n                        ")]),t._v(" "),i("TagPartOfBody",{staticClass:"btn-light btn-light-full-page",class:{completed:e.currentWorksheetSession&&e.currentWorksheetSession.isCompleted||!e.currentWorksheetSession&&e.exerciseStats.length>0},attrs:{partOfBody:e.partOfBody}})],1),t._v(" "),!t.loadingPatientWorksheetsProgression&&e.currentWorksheetSession&&!e.currentWorksheetSession.isCompleted&&e.currentWorksheetSession.isInProgress?i("div",{staticClass:"worksheet-progress-line"},[i("div",{staticClass:"progressbar-base"},[i("div",{staticClass:"progressbar-thumb",style:{width:e.worksheetProgression+"%"}}),t._v(" "),i("div",{staticClass:"progressbar-steps"},[i("div",[i("div",{staticClass:"point"}),t._v(" "),i("span",[t._v("En cours")])])])])]):t._e(),t._v(" "),t.loadingPatientWorksheetsProgression||(!e.currentWorksheetSession||e.currentWorksheetSession.isCompleted||e.currentWorksheetSession.isInProgress)&&(e.currentWorksheetSession||0!==e.countOldWorksheetSessions||0!==e.exerciseStats.length)?t._e():i("div",{staticClass:"worksheet-progress-line"},[i("div",{staticClass:"progressbar-base"},[i("div",{staticClass:"progressbar-thumb",style:{width:"0%"}}),t._v(" "),i("div",{staticClass:"progressbar-steps"},[i("div",[i("div",{staticClass:"point"}),t._v(" "),i("span",[t._v("Non démarrée")])])])])]),t._v(" "),t.loadingPatientWorksheetsProgression?i("div",{staticClass:"worksheet-progress-line"},[i("div",{staticClass:"progressbar-base loading-gray"},[i("div",{staticClass:"progressbar-thumb",style:{width:"0%"}}),t._v(" "),i("div",{staticClass:"progressbar-steps"},[i("div",[i("div",{staticClass:"point"}),t._v(" "),i("span",{staticClass:"loading-gray"},[t._v("...")])])])])]):t._e(),t._v(" "),e.currentWorksheetSession&&e.currentWorksheetSession.isCompleted||!e.currentWorksheetSession&&e.countOldWorksheetSessions>0?i("div",{staticClass:"worksheet-content session-completed"},[e.currentWorksheetSession&&e.totalWorksheetSessions!=e.currentWorksheetSession.execOrder?i("p",[t.doctorView?t._e():i("span",[t._v("\n                                Bravo, vos exercices de cette session ont\n                                été faits avec succès ! "),i("br"),t._v(" "),i("transition",{attrs:{name:"fade"}},[e.timeLeftBeforeNextSession?i("span",[t._v("\n                                        Rendez-vous dans\n                                        "),i("strong",[t._v(t._s(e.timeLeftBeforeNextSession))]),t._v("\n                                        pour une nouvelle session.\n                                    ")]):t._e()])],1),t._v(" "),t.doctorView?i("span",[t._v("\n                                Exercices terminés pour cette session."),i("br"),t._v(" "),i("transition",{attrs:{name:"fade"}},[e.timeLeftBeforeNextSession?i("span",[t._v("\n                                        Prochaine session dans\n                                        "),i("strong",[t._v(t._s(e.timeLeftBeforeNextSession))]),t._v(".\n                                    ")]):t._e()])],1):t._e()]):t._e(),t._v(" "),!e.currentWorksheetSession&&e.exerciseStats.length>0||e.currentWorksheetSession&&e.totalWorksheetSessions==e.currentWorksheetSession.execOrder?i("p",[t.doctorView?t._e():i("span",[t._v("Félicitations, votre traitement est terminé\n                                !")]),t._v(" "),t.doctorView?i("span",[t._v("Traitement terminé.")]):t._e(),t._v(" "),i("br")]):t._e(),t._v(" "),!e.currentWorksheetSession&&e.countOldWorksheetSessions>0&&0===e.exerciseStats.length?i("p",[t.doctorView?t._e():i("span",[t._v("Vous n'avez pas réalisé votre traitement,\n                                il a expiré.")]),t._v(" "),t.doctorView?i("span",[t._v("Traitement non réalisé et expiré.")]):t._e(),t._v(" "),i("br")]):t._e(),t._v(" "),t.doctorView?t._e():i("vs-button",{staticClass:"btn-consult",on:{click:function(i){return t.redirectToWorksheetPage(e.id)}}},[t._v("\n                            Consulter\n                        ")]),t._v(" "),t.doctorView?i("vs-button",{staticClass:"btn-consult btn-consult-doctorview",on:{click:function(i){return t.doctorViewRedirectToWorksheetPage(e.id)}}},[t._v("\n                            Voir\n                            "),e.commentaries&&e.commentaries.filter((function(t){return!t.doctor})).length?i("div",{staticClass:"worksheet-commentaries"},[i("span",{staticClass:"count-commentaries"},[t._v("\n                                    "+t._s(e.commentaries.filter((function(t){return!t.doctor})).length)+"\n                                ")])]):t._e()]):t._e()],1):i("div",{staticClass:"worksheet-content"},[i("div",{staticClass:"worksheet-details"},[i("div",{staticClass:"worksheet-exercises-count"},[i("i",{staticClass:"kiv-exercise icon-7"}),t._v(" "),i("span",{staticClass:"b"},[t._v(t._s(e.exercises.length))]),t._v("\n                                exercice"),e.exercises.length>1?i("span",[t._v("s")]):t._e()]),t._v(" "),i("div",{staticClass:"worksheet-timing"},[i("i",{staticClass:"kiv-calendar icon-10"}),t._v(" "),i("span",{staticClass:"b"},[t._v(t._s(e.perDay)+"x")]),t._v("\n                                par jour -\n                                "),i("span",{staticClass:"b"},[t._v(t._s(e.perWeek)+"x")]),t._v("\n                                par semaine\n                            ")]),t._v(" "),i("div",{staticClass:"worksheet-period"},[i("i",{staticClass:"kiv-clock icon-11"}),t._v("\n                                Période :\n                                "),i("span",{staticClass:"b"},[t._v(t._s(e.duration)+" semaine"),e.duration>1?i("span",[t._v("s")]):t._e()])])]),t._v(" "),t.doctorView?i("div",{staticClass:"buttons buttons-doctor-view"},[i("vs-button",{staticClass:"btn-action btn-action-voir",attrs:{circle:"",floating:""},on:{click:function(i){return t.doctorViewRedirectToWorksheetPage(e.id)}}},[i("i",{staticClass:"fas fa-eye"}),t._v(" "),e.commentaries&&e.commentaries.filter((function(t){return!t.doctor})).length?i("div",{staticClass:"worksheet-commentaries"},[i("span",{staticClass:"count-commentaries"},[t._v("\n                                        "+t._s(e.commentaries.filter((function(t){return!t.doctor})).length)+"\n                                    ")])]):t._e()]),t._v(" "),i("vs-button",{staticClass:"btn-action",attrs:{circle:"",floating:""},on:{click:function(i){return t.doctorViewRedirectToEditPage(e.id)}}},[i("i",{staticClass:"fas fa-pen"})]),t._v(" "),i("vs-button",{staticClass:"btn-action",attrs:{circle:"",floating:""},on:{click:function(i){return t.doctorViewRemoveWorksheet(e)}}},[i("i",{staticClass:"fas fa-trash"})])],1):i("div",{staticClass:"buttons"},[i("vs-button",{staticClass:"btn-go",attrs:{circle:"",floating:""},on:{click:function(i){return t.redirectToWorksheetPage(e.id)}}},[t._v("\n                                Go !\n                            ")])],1)])])})),0):t._e(),t._v(" "),t.loadingPatientWorksheets||t.getPatientWorksheets.length?t._e():i("div",{staticClass:"not-found"},[i("p",[i("i",{staticClass:"fas fa-folder-minus"}),t._v(" "),t.doctorView?t._e():i("span",[t._v("Vous n'avez pas de fiche")]),t._v(" "),t.doctorView?i("span",[t._v("Le patient n'a pas encore de fiche")]):t._e()])]),t._v(" "),t.loadingPatientWorksheets?i("div",{staticClass:"wl-patient"},[i("div",{staticClass:"loading loading-block"},[i("div",{staticClass:"worksheet-header"},[i("div",{staticClass:"loading worksheet-title w-25"}),t._v(" "),i("div",{staticClass:"loading part-of-body"})]),t._v(" "),i("div",{staticClass:"loading worksheet-progress-line"}),t._v(" "),i("div",{staticClass:"worksheet-content"},[i("div",{staticClass:"worksheet-details"},[i("div",{staticClass:"\n                                    loading\n                                    worksheet-exercises-count\n                                    w-35\n                                "}),t._v(" "),i("div",{staticClass:"loading worksheet-timing w-25"}),t._v(" "),i("div",{staticClass:"loading worksheet-period w-35"})]),t._v(" "),i("div",{staticClass:"buttons"},[i("div",{staticClass:"loading btn-go"})])])]),t._v(" "),i("div",{staticClass:"loading loading-block"},[i("div",{staticClass:"worksheet-header"},[i("div",{staticClass:"loading worksheet-title w-45"}),t._v(" "),i("div",{staticClass:"loading part-of-body"})]),t._v(" "),i("div",{staticClass:"loading worksheet-progress-line"}),t._v(" "),i("div",{staticClass:"worksheet-content"},[i("div",{staticClass:"worksheet-details"},[i("div",{staticClass:"\n                                    loading\n                                    worksheet-exercises-count\n                                    w-15\n                                "}),t._v(" "),i("div",{staticClass:"loading worksheet-timing w-35"}),t._v(" "),i("div",{staticClass:"loading worksheet-period w-25"})]),t._v(" "),i("div",{staticClass:"buttons"},[i("div",{staticClass:"loading btn-go"})])])])]):t._e()]):t._e()]),t._v(" "),i("vs-dialog",{model:{value:t.modalConfirmRemoveWorksheet,callback:function(e){t.modalConfirmRemoveWorksheet=e},expression:"modalConfirmRemoveWorksheet"}},[i("p",{staticClass:"modal-confirm-text"},[t._v("Confirmer la suppression de")]),t._v(" "),i("div",{staticClass:"modal-confirm-detail remove-item"},[i("div",{staticClass:"modal-confirm-icon remove-item"},[i("i",{staticClass:"fas fa-trash"})]),t._v(" "),i("p",[i("span",[t._v("\n                    "+t._s(t.removeWorksheetDetails.title)+"\n                ")])])]),t._v(" "),i("p",{staticClass:"alert"},[i("i",{staticClass:"fas fa-exclamation-triangle"}),t._v("\n            Attention : cela supprimera également le\n            "),i("strong",[t._v("\n                suivi et statistiques du patient pour cette fiche")]),t._v(", action irrémédiable.\n        ")]),t._v(" "),i("div",{staticClass:"modal-confirm-buttons"},[i("vs-button",{staticClass:"secondary",on:{click:function(e){t.modalConfirmRemoveWorksheet=!1}}},[t._v("\n                Annuler\n            ")]),t._v(" "),i("vs-button",{class:{disabled:t.btnLoadingValidRemoveWorksheet},attrs:{loading:t.btnLoadingValidRemoveWorksheet},on:{click:t.validRemoveWorksheet}},[t._v("\n                Confirmer\n            ")])],1)])],1)};E._withStripped=!0;var A=i(7771);function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var M={props:{patient:Object,patientWorksheets:Array,loadingPatientWorksheets:Boolean,loadingPatientWorksheetsProgression:Boolean,doctorView:Boolean,doctor:Object,csrfTokenRemoveWorksheet:String},components:{TagPartOfBody:A.Z},data:function(){return{modalConfirmRemoveWorksheet:!1,removeWorksheetDetails:{},btnLoadingValidRemoveWorksheet:!1}},computed:{getPatientWorksheets:function(){return this.sortByCreatedAt(this.patientWorksheets)}},methods:{sortByCreatedAt:function(t){return t.sort((function(t,e){return new Date(e.createdAt)-new Date(t.createdAt)})),t},redirectToWorksheetPage:function(t){document.location.href="/patient/".concat(this.patient.id,"/fiche/").concat(t)},doctorViewRedirectToEditPage:function(t){document.location.href="/doctor/".concat(this.doctor.id,"/fiche/edition/").concat(t,"/").concat(this.patient.id)},doctorViewRedirectToWorksheetPage:function(t){document.location.href="/doctor/".concat(this.doctor.id,"/voir/").concat(t,"/").concat(this.patient.id,"/?ref=dashp")},doctorPrescriProcessPatientChoice:function(){document.location.href="/doctor/".concat(this.doctor.id,"/dashboard?pp=").concat(this.patient.id)},doctorViewRemoveWorksheet:function(t){return this.removeWorksheetDetails=t,this.modalConfirmRemoveWorksheet=!this.modalConfirmRemoveWorksheet},validRemoveWorksheet:function(){var t=this;this.btnLoadingValidRemoveWorksheet=!0,this.axios.post("/doctor/".concat(this.doctor.id,"/remove/worksheet"),{_token:this.csrfTokenRemoveWorksheet,worksheetId:this.removeWorksheetDetails.id}).then((function(e){r.Z.openSuccessNotification("Suppression de la prescription",e.data),t.$parent.patientWorksheets.splice(t.$parent.patientWorksheets.indexOf(t.removeWorksheetDetails),1),t.btnLoadingValidRemoveWorksheet=!1,t.modalConfirmRemoveWorksheet=!1})).catch((function(e){var i="object"===U(e.response.data)?e.response.data.detail:e.response.data;r.Z.openErrorNotification("Erreur",i),t.btnLoadingValidRemoveWorksheet=!1,t.modalConfirmRemoveWorksheet=!1}))}}},N=(0,p.Z)(M,E,[],!1,null,"93767d04",null);N.options.__file="assets/vue/patient/DashboardPage/MyWorksheets.vue";var I=N.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"my-exercise-stats"}},[s("section",{staticClass:"kiv-block",attrs:{id:"sensitivity"}},[t._m(0),t._v(" "),t.getPatientWorksheets.length?s("div",{staticClass:"content"},[s("div",{staticClass:"buttons"},[s("vs-button-group",[s("vs-button",{attrs:{active:"day"===t.sensitivityUnitOfTime,flat:""},on:{click:function(e){return t.changeSensitivityUnitOfTime("day")}}},[t._v("\n                        Jour\n                    ")]),t._v(" "),s("vs-button",{attrs:{active:"week"===t.sensitivityUnitOfTime,flat:""},on:{click:function(e){return t.changeSensitivityUnitOfTime("week")}}},[t._v("\n                        Semaine\n                    ")]),t._v(" "),s("vs-button",{attrs:{active:"month"===t.sensitivityUnitOfTime,flat:""},on:{click:function(e){return t.changeSensitivityUnitOfTime("month")}}},[t._v("\n                        Mois\n                    ")]),t._v(" "),s("vs-button",{attrs:{active:"year"===t.sensitivityUnitOfTime,flat:""},on:{click:function(e){return t.changeSensitivityUnitOfTime("year")}}},[t._v("\n                        Année\n                    ")])],1)],1),t._v(" "),s("div",{staticClass:"kiv-select"},[s("vs-select",{attrs:{placeholder:"Select"},on:{change:function(e){return t.resetDisableWorksheets("sensitivity")}},model:{value:t.sensitivityUnitOfTime,callback:function(e){t.sensitivityUnitOfTime=e},expression:"sensitivityUnitOfTime"}},[s("vs-option",{attrs:{label:"Jour",value:"day"}},[t._v(" Jour ")]),t._v(" "),s("vs-option",{attrs:{label:"Semaine",value:"week"}},[t._v("\n                        Semaine\n                    ")]),t._v(" "),s("vs-option",{attrs:{label:"Mois",value:"month"}},[t._v(" Mois ")]),t._v(" "),s("vs-option",{attrs:{label:"Année",value:"year"}},[t._v("\n                        Année\n                    ")])],1)],1),t._v(" "),t.loadingPatientWorksheets?t._e():s("chartist",{class:{"hide-content":!t.sensitivityExerciseStats.series.length,labelsl:t.sensitivityExerciseStats.labels.length>=25,labelsm:t.sensitivityExerciseStats.labels.length>=12&&t.sensitivityExerciseStats.labels.length<25,labelss:t.sensitivityExerciseStats.labels.length>=5&&t.sensitivityExerciseStats.labels.length<12},attrs:{ratio:"ct-major-second",type:"Line",data:t.sensitivityExerciseStats,options:t.sensitivityChartOptions,"event-handlers":t.eventHandlers}},[s("div",{staticClass:"axisY-labels sensitivity"},[s("i",[s("img",{attrs:{src:i(1407),alt:"Smiley qui va très mal"}})]),t._v(" "),s("i",[s("img",{attrs:{src:i(70),alt:"Smiley qui va mal"}})]),t._v(" "),s("i",[s("img",{attrs:{src:i(889),alt:"Smiley qui va pas bien"}})]),t._v(" "),s("i",[s("img",{attrs:{src:i(5988),alt:"Smiley qui va bof"}})]),t._v(" "),s("i",[s("img",{attrs:{src:i(1867),alt:"Smiley perplexe"}})]),t._v(" "),s("i",[s("img",{attrs:{src:i(4857),alt:"Smiley qui va bien"}})]),t._v(" "),s("i",[s("img",{attrs:{src:i(1703),alt:"Smiley qui va très bien"}})]),t._v(" "),s("i",[s("img",{attrs:{src:i(6240),alt:"Smiley très content"}})]),t._v(" "),s("i",[s("img",{attrs:{src:i(2213),alt:"Smiley aux anges"}})])])]),t._v(" "),t.loadingPatientWorksheets?t._e():s("div",{staticClass:"btns-worksheets-stats sensitivity"},t._l(t.getPatientWorksheets,(function(e,i){return s("button",{key:i,staticClass:"btn-toggle-worksheet-stats",class:{disactive:t.disableWorksheets.sensitivity.includes(e.id)},on:{click:function(s){return t.toggleHiddenWorksheetLine("sensitivity",i,e.id)}}},[s("div",{staticClass:"line-color",style:{backgroundColor:t.colors[i],border:"5px solid "+t.colors[i]}}),t._v(" "),s("BtnChartWorksheetPartOfBody",{attrs:{worksheet:e}})],1)})),0)],1):t._e(),t._v(" "),t.loadingPatientWorksheets||t.getPatientWorksheets.length?t._e():s("div",{staticClass:"not-found"},[s("p",[s("i",{staticClass:"far fa-calendar-minus"}),t._v(" "),t.doctorView?t._e():s("span",[t._v("Vous n'avez pas encore de statistique")]),t._v(" "),t.doctorView?s("span",[t._v("Le patient n'a pas encore de statistique")]):t._e()])]),t._v(" "),t.loadingPatientWorksheets?s("div",{staticClass:"loading"}):t._e()]),t._v(" "),s("section",{staticClass:"kiv-block",attrs:{id:"technical"}},[t._m(1),t._v(" "),t.getPatientWorksheets.length?s("div",{staticClass:"content"},[s("div",{staticClass:"buttons"},[s("vs-button-group",[s("vs-button",{attrs:{active:"day"===t.technicalUnitOfTime,flat:""},on:{click:function(e){return t.changeTechnicalUnitOfTime("day")}}},[t._v("\n                        Jour\n                    ")]),t._v(" "),s("vs-button",{attrs:{active:"week"===t.technicalUnitOfTime,flat:""},on:{click:function(e){return t.changeTechnicalUnitOfTime("week")}}},[t._v("\n                        Semaine\n                    ")]),t._v(" "),s("vs-button",{attrs:{active:"month"===t.technicalUnitOfTime,flat:""},on:{click:function(e){return t.changeTechnicalUnitOfTime("month")}}},[t._v("\n                        Mois\n                    ")]),t._v(" "),s("vs-button",{attrs:{active:"year"===t.technicalUnitOfTime,flat:""},on:{click:function(e){return t.changeTechnicalUnitOfTime("year")}}},[t._v("\n                        Année\n                    ")])],1)],1),t._v(" "),s("div",{staticClass:"kiv-select"},[s("vs-select",{attrs:{placeholder:"Select"},on:{change:function(e){return t.resetDisableWorksheets("technical")}},model:{value:t.technicalUnitOfTime,callback:function(e){t.technicalUnitOfTime=e},expression:"technicalUnitOfTime"}},[s("vs-option",{attrs:{label:"Jour",value:"day"}},[t._v(" Jour ")]),t._v(" "),s("vs-option",{attrs:{label:"Semaine",value:"week"}},[t._v("\n                        Semaine\n                    ")]),t._v(" "),s("vs-option",{attrs:{label:"Mois",value:"month"}},[t._v(" Mois ")]),t._v(" "),s("vs-option",{attrs:{label:"Année",value:"year"}},[t._v("\n                        Année\n                    ")])],1)],1),t._v(" "),t.loadingPatientWorksheets?t._e():s("chartist",{class:{"hide-content":!t.technicalExerciseStats.series.length,labelsl:t.technicalExerciseStats.labels.length>=25,labelsm:t.technicalExerciseStats.labels.length>=12&&t.technicalExerciseStats.labels.length<25,labelss:t.technicalExerciseStats.labels.length>=5&&t.technicalExerciseStats.labels.length<12},attrs:{ratio:"ct-major-second",type:"Bar",data:t.technicalExerciseStats,options:t.technicalChartOptions,"event-handlers":t.eventHandlers}},[s("div",{staticClass:"axisY-labels technical"},[s("div",[s("p",[t._v("Excellente")])]),t._v(" "),s("div",[s("p",[t._v("Médiocre")])])])]),t._v(" "),t.loadingPatientWorksheets?t._e():s("div",{staticClass:"btns-worksheets-stats"},t._l(t.getPatientWorksheets,(function(e,i){return s("button",{key:i,staticClass:"btn-toggle-worksheet-stats",class:{disactive:t.disableWorksheets.technical.includes(e.id)},on:{click:function(s){return t.toggleHiddenWorksheetLine("technical",i,e.id)}}},[s("div",{staticClass:"line-color",style:{backgroundColor:t.colors[i],border:"5px solid "+t.colors[i]}}),t._v(" "),s("BtnChartWorksheetPartOfBody",{attrs:{worksheet:e}})],1)})),0)],1):t._e(),t._v(" "),t.loadingPatientWorksheets||t.getPatientWorksheets.length?t._e():s("div",{staticClass:"not-found"},[s("p",[s("i",{staticClass:"far fa-calendar-minus"}),t._v(" "),t.doctorView?t._e():s("span",[t._v("Vous n'avez pas encore de statistique")]),t._v(" "),t.doctorView?s("span",[t._v("Le patient n'a pas encore de statistique")]):t._e()])]),t._v(" "),t.loadingPatientWorksheets?s("div",{staticClass:"loading"}):t._e()]),t._v(" "),s("section",{staticClass:"kiv-block",attrs:{id:"difficulty"}},[t._m(2),t._v(" "),t.getPatientWorksheets.length?s("div",{staticClass:"content"},[s("div",{staticClass:"buttons"},[s("vs-button-group",[s("vs-button",{attrs:{active:"day"===t.difficultyUnitOfTime,flat:""},on:{click:function(e){return t.changeDifficultyUnitOfTime("day")}}},[t._v("\n                        Jour\n                    ")]),t._v(" "),s("vs-button",{attrs:{active:"week"===t.difficultyUnitOfTime,flat:""},on:{click:function(e){return t.changeDifficultyUnitOfTime("week")}}},[t._v("\n                        Semaine\n                    ")]),t._v(" "),s("vs-button",{attrs:{active:"month"===t.difficultyUnitOfTime,flat:""},on:{click:function(e){return t.changeDifficultyUnitOfTime("month")}}},[t._v("\n                        Mois\n                    ")]),t._v(" "),s("vs-button",{attrs:{active:"year"===t.difficultyUnitOfTime,flat:""},on:{click:function(e){return t.changeDifficultyUnitOfTime("year")}}},[t._v("\n                        Année\n                    ")])],1)],1),t._v(" "),s("div",{staticClass:"kiv-select"},[s("vs-select",{attrs:{placeholder:"Select"},on:{change:function(e){return t.resetDisableWorksheets("difficulty")}},model:{value:t.difficultyUnitOfTime,callback:function(e){t.difficultyUnitOfTime=e},expression:"difficultyUnitOfTime"}},[s("vs-option",{attrs:{label:"Jour",value:"day"}},[t._v(" Jour ")]),t._v(" "),s("vs-option",{attrs:{label:"Semaine",value:"week"}},[t._v("\n                        Semaine\n                    ")]),t._v(" "),s("vs-option",{attrs:{label:"Mois",value:"month"}},[t._v(" Mois ")]),t._v(" "),s("vs-option",{attrs:{label:"Année",value:"year"}},[t._v("\n                        Année\n                    ")])],1)],1),t._v(" "),t.loadingPatientWorksheets?t._e():s("chartist",{class:{"hide-content":!t.difficultyExerciseStats.series.length,labelsl:t.difficultyExerciseStats.labels.length>=25,labelsm:t.difficultyExerciseStats.labels.length>=9&&t.difficultyExerciseStats.labels.length<25,labelss:t.difficultyExerciseStats.labels.length>=5&&t.difficultyExerciseStats.labels.length<9},attrs:{ratio:"ct-major-second",type:"Line",data:t.difficultyExerciseStats,options:t.difficultyChartOptions,"event-handlers":t.eventHandlers}},[s("div",{staticClass:"axisY-labels difficulty"},[s("div",[s("p",[t._v("Difficile")])]),t._v(" "),s("div",[s("p",[t._v("Facile")])])])]),t._v(" "),t.loadingPatientWorksheets?t._e():s("div",{staticClass:"btns-worksheets-stats"},t._l(t.getPatientWorksheets,(function(e,i){return s("button",{key:i,staticClass:"btn-toggle-worksheet-stats",class:{disactive:t.disableWorksheets.difficulty.includes(e.id)},on:{click:function(s){return t.toggleHiddenWorksheetLine("difficulty",i,e.id)}}},[s("div",{staticClass:"line-color",style:{backgroundColor:t.colors[i],border:"5px solid "+t.colors[i]}}),t._v(" "),s("BtnChartWorksheetPartOfBody",{attrs:{worksheet:e}})],1)})),0)],1):t._e(),t._v(" "),t.loadingPatientWorksheets||t.getPatientWorksheets.length?t._e():s("div",{staticClass:"not-found"},[s("p",[s("i",{staticClass:"far fa-calendar-minus"}),t._v(" "),t.doctorView?t._e():s("span",[t._v("Vous n'avez pas encore de statistique")]),t._v(" "),t.doctorView?s("span",[t._v("Le patient n'a pas encore de statistique")]):t._e()])]),t._v(" "),t.loadingPatientWorksheets?s("div",{staticClass:"loading"}):t._e()])])};j._withStripped=!0;i(3123),i(6699),i(2023);var R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-button",{staticClass:"btn-chart part-of-body",attrs:{size:"mini"}},["pied"===t.worksheet.partOfBody.icon?s("img",{staticClass:"icon-pied",attrs:{src:i(1351),alt:"Icone Pied"}}):t._e(),t._v(" "),"jambe"===t.worksheet.partOfBody.icon?s("img",{staticClass:"icon-jambe",attrs:{src:i(8189),alt:"Icone Jambe"}}):t._e(),t._v(" "),"bras"===t.worksheet.partOfBody.icon?s("img",{staticClass:"icon-bras",attrs:{src:i(7932),alt:"Icone Bras"}}):t._e(),t._v(" "),"main"===t.worksheet.partOfBody.icon?s("img",{staticClass:"icon-main",attrs:{src:i(6098),alt:"Icone Main"}}):t._e(),t._v(" "),"epaule"===t.worksheet.partOfBody.icon?s("img",{staticClass:"icon-epaule",attrs:{src:i(2890),alt:"Icone Épaule"}}):t._e(),t._v(" "),"dos"===t.worksheet.partOfBody.icon?s("img",{staticClass:"icon-dos",attrs:{src:i(6910),alt:"Icone Dos"}}):t._e(),t._v(" "),"cervicales"===t.worksheet.partOfBody.icon?s("img",{staticClass:"icon-cervicales",attrs:{src:i(1135),alt:"Icone Cervicales"}}):t._e(),t._v(" "),"lombaires"===t.worksheet.partOfBody.icon?s("img",{staticClass:"icon-lombaires",attrs:{src:i(2894),alt:"Icone Lombaires"}}):t._e(),t._v(" "),"thoracique"===t.worksheet.partOfBody.icon?s("img",{staticClass:"icon-thoracique",attrs:{src:i(4114),alt:"Icone Thoracique"}}):t._e(),t._v(" "),"global"===t.worksheet.partOfBody.icon?s("img",{staticClass:"icon-global",attrs:{src:i(7425),alt:"Icone Thoracique"}}):t._e(),t._v("\n    "+t._s(t.worksheet.title.length>20?t.worksheet.title.substring(0,20)+"...":t.worksheet.title)+"\n")])};R._withStripped=!0;var Y={props:{worksheet:Object}},q=(0,p.Z)(Y,R,[],!1,null,null,null);q.options.__file="assets/vue/components/BtnChartWorksheetPartOfBody.vue";var z=q.exports;function $(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function F(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?$(Object(i),!0).forEach((function(e){Z(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):$(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Z(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var H={props:{patient:Object,patientWorksheets:Array,loadingPatientWorksheets:Boolean,doctorView:Boolean},components:{BtnChartWorksheetPartOfBody:z},data:function(){var t=this;return{sensitivityUnitOfTime:"day",technicalUnitOfTime:"day",difficultyUnitOfTime:"day",chartOptions:{chartPadding:{right:6},high:10,low:0,axisY:{showLabel:!1,offset:78},plugins:[this.$chartist.plugins.tooltip({anchorToPoint:!0,appendToBody:!0,tooltipFnc:function(t,e){return t}})]},eventHandlers:[{event:"draw",fn:function(e){if("point"===e.type){var i=new t.$chartist.Svg("circle",{cx:[e.x],cy:[e.y],r:[8],"ct:meta":e.meta},"ct-point");e.element.replace(i).attr({transform:"translate("+e.axisX.stepLength/2+")"})}"line"===e.type&&e.element.attr({transform:"translate("+e.axisX.stepLength/2+")"}),"grid"===e.type&&0===e.index&&e.element.attr({class:e.element.attr(" class")+" border-grid"})}}],colors:["#ff6838","#ffa126","#5c91e1","#8f67d1","#57cdbf","#f17cd7","#93d2a5","#b24788","#c1b79d","#ff564b","#fb8b68","#ffcb46","#3dc863","#ff6838","#ffa126","#5c91e1","#8f67d1","#57cdbf","#f17cd7","#93d2a5","#b24788","#c1b79d","#ff564b","#fb8b68","#ffcb46","#3dc863"],iCoresspLine:{0:"a",1:"b",2:"c",3:"d",4:"e",5:"f",6:"g",7:"h",8:"i",9:"j",10:"k",11:"l",12:"m",13:"n",14:"o"},disableWorksheets:{sensitivity:[],technical:[],difficulty:[]}}},computed:{getPatientWorksheets:function(){return this.sortByCreatedAt(this.patientWorksheets.filter((function(t){return t.exerciseStats.length})))},sensitivityExerciseStats:function(){return this.generateExerciseStatsByCriterion("sensitivity")},sensitivityChartOptions:function(){return F(F({},this.chartOptions),{},{axisY:{showLabel:!1,offset:45}})},technicalExerciseStats:function(){return this.generateExerciseStatsByCriterion("technical")},technicalChartOptions:function(){return F(F({},this.chartOptions),{},{seriesBarDistance:13})},difficultyExerciseStats:function(){return this.generateExerciseStatsByCriterion("difficulty")},difficultyChartOptions:function(){return F({},this.chartOptions)}},methods:{sortByCreatedAt:function(t){return t.sort((function(t,e){return new Date(t.createdAt)-new Date(e.createdAt)})),t},generateExerciseStatsByCriterion:function(t){var e,i=this;"difficulty"===t&&(e=this.difficultyUnitOfTime),"sensitivity"===t&&(e=this.sensitivityUnitOfTime),"technical"===t&&(e=this.technicalUnitOfTime);var s=this.filterExerciseStatsByUnitOfTime(this.getPatientWorksheets,e),n=this.generateLabels(s),a=this.formatLabelsByUnitOfTime(n,e),o=this.getDataSlice(n.length,e);return{labels:a.filter((function(t,e){return e>=o})),series:s.map((function(s){var a=i.generateChartAverageDataPointsByCriterion(t,s.exerciseStats,n,e),r=s.title.length>20?s.title.substring(0,20)+"...":s.title;return{name:"".concat(r," - ").concat(s.partOfBody.name),data:a.filter((function(t,e){return e>=o}))}}))}},formatLabelsByUnitOfTime:function(t,e){if("day"===e)return t.map((function(t){return"".concat(t.split("-")[2],"/").concat(t.split("-")[1],"/").concat(t.split("-")[0])}));if("week"===e)return t.map((function(t){return"sem. ".concat(t.split("-")[2],"/").concat(t.split("-")[1],"/").concat(t.split("-")[0])}));var i={"01":"janv.","02":"févr.","03":"mars","04":"avril","05":"mai","06":"juin","07":"juill.","08":"août","09":"sept.",10:"oct.",11:"nov.",12:"déc."};return"month"===e?t.map((function(t){return"".concat(i[t.split("-")[1]]," ").concat(t.split("-")[0])})):t},generateLabels:function(t){var e=[];return t.forEach((function(t){Object.keys(t.exerciseStats).forEach((function(t){e.includes(t.split("|")[0])||e.push(t.split("|")[0])}))})),e.sort((function(t,e){return new Date(t)-new Date(e)}))},toggleHiddenWorksheetLine:function(t,e,i){document.querySelector("#".concat(t," .ct-series-").concat(this.iCoresspLine[e])).classList.toggle("hidden"),this.disableWorksheets[t].includes(i)?this.disableWorksheets[t].splice(this.disableWorksheets[t].indexOf(i),1):this.disableWorksheets[t].push(i)},changeSensitivityUnitOfTime:function(t){this.sensitivityUnitOfTime=t,this.resetDisableWorksheets("sensitivity")},changeTechnicalUnitOfTime:function(t){this.technicalUnitOfTime=t,this.resetDisableWorksheets("technical")},changeDifficultyUnitOfTime:function(t){this.difficultyUnitOfTime=t,this.resetDisableWorksheets("difficulty")},resetDisableWorksheets:function(t){this.disableWorksheets[t]=[]},generateChartAverageDataPointsByCriterion:function(t,e,i,s){var n=[];for(var a in i.forEach((function(t){n.push(null)})),e){var r=e[a].filter((function(e){return t===e.criterion})),c=Math.round(r.reduce((function(t,e){return t=parseInt(t+e.rating)}),[])/r.length*10)/10,l=a.split("|")[0],d=i.indexOf(l),v=new Date(l),u="";"month"===s&&(u=o()(v).format("MMM YYYY")),"year"===s&&(u=o()(v).format("YYYY")),"day"!==s&&"week"!==s||(u=o()(v).format("DD/MM/YYYY"),"week"===s&&(u="sem. ".concat(u))),n[d]={x:v,y:c,meta:u}}return n},groupStatsByDay:function(t){return t.map((function(t){return F(F({},t),{},{exerciseStats:t.exerciseStats.reduce((function(t,e){return t[e.doneAt.substr(0,10)]?t[e.doneAt.substr(0,10)].push(e):t[e.doneAt.substr(0,10)]=[e],t}),{})})}))},groupStatsByWeek:function(t){return t.map((function(t){return F(F({},t),{},{exerciseStats:t.exerciseStats.reduce((function(t,e,i){var s=new Date(e.doneAt),n=0===s.getDay()?7:s.getDay();if(!Object.keys(t).find((function(t){return t.includes(e.doneAt.substr(0,10))}))){var a=new Date(s.getFullYear(),s.getMonth()+1,0),o=new Date(s.getFullYear(),s.getMonth(),0),r="",c=s.getDate()-(n-1),l=s.getMonth()+1,d=s.getFullYear();c<1&&(c=o.getDate()-Math.abs(c),l>1?l-=1:(l=12,d-=1),a=o);for(var v=0;v<7;v++){var u=c,h=l,f=d;(u+=v)>a.getDate()&&(u-=a.getDate(),h<12?h+=1:(h=1,f+=1)),u=u>0&&u<10?"0".concat(u):"".concat(u),h=h>0&&h<10?"0".concat(h):"".concat(h),r+="".concat(f,"-").concat(h,"-").concat(u),6!=v&&(r+="|")}t[r]||(t[r]=[])}return t[Object.keys(t).find((function(t){return t.includes(e.doneAt.substr(0,10))}))].push(e),t}),{})})}))},groupStatsByMonth:function(t){return t.map((function(t){return F(F({},t),{},{exerciseStats:t.exerciseStats.reduce((function(t,e,i){return t[e.doneAt.substr(0,7)]?t[e.doneAt.substr(0,7)].push(e):t[e.doneAt.substr(0,7)]=[e],t}),{})})}))},groupStatsByYear:function(t){return t.map((function(t){return F(F({},t),{},{exerciseStats:t.exerciseStats.reduce((function(t,e,i){return t[e.doneAt.substr(0,4)]?t[e.doneAt.substr(0,4)].push(e):t[e.doneAt.substr(0,4)]=[e],t}),{})})}))},sortByDoneDate:function(t){return t.sort((function(t,e){return new Date(t.doneAt)-new Date(e.doneAt)})),t},getDataSlice:function(t,e){var i=0;return"day"===e&&(i=t-31),"week"===e&&(i=t-12),i},filterExerciseStatsByUnitOfTime:function(t,e){var i=[];return"day"===e&&(i=this.groupStatsByDay(t)),"week"===e&&(i=this.groupStatsByWeek(t)),"month"===e&&(i=this.groupStatsByMonth(t)),"year"===e&&(i=this.groupStatsByYear(t)),i},sensitivityFormatDateByUnitOfTime:function(t){return"day"===this.sensitivityUnitOfTime||"week"===this.sensitivityUnitOfTime?o()(t).format("DD/MM/YYYY"):"month"===this.sensitivityUnitOfTime?o()(t).format("MMM YYYY"):"year"===this.sensitivityUnitOfTime?o()(t).format("YYYY"):void 0},technicalFormatDateByUnitOfTime:function(t){return"day"===this.technicalUnitOfTime||"week"===this.technicalUnitOfTime?o()(t).format("DD/MM/YYYY"):"month"===this.technicalUnitOfTime?o()(t).format("MMM YYYY"):"year"===this.technicalUnitOfTime?o()(t).format("YYYY"):void 0},difficultyFormatDateByUnitOfTime:function(t){return"day"===this.difficultyUnitOfTime||"week"===this.difficultyUnitOfTime?o()(t).format("DD/MM/YYYY"):"month"===this.difficultyUnitOfTime?o()(t).format("MMM YYYY"):"year"===this.difficultyUnitOfTime?o()(t).format("YYYY"):void 0}}},J=(0,p.Z)(H,j,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h2",[i("span",[t._v("Sensibilité")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h2",[i("span",[t._v("Technique")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h2",[i("span",[t._v("Difficultées perçues")])])}],!1,null,"80c26604",null);J.options.__file="assets/vue/patient/DashboardPage/MyExerciseStats.vue";var X=J.exports,G=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideSelectBox,expression:"hideSelectBox"}],staticClass:"select-filter",class:{loading:t.loading}},[t.loading?i("div",{staticClass:"loading-text"},[t._v("Chargement...")]):i("div",[t.doctorSelected?i("div",{staticClass:"doctor-selected doctor",on:{click:t.resetSelect}},[i("vs-avatar",{staticClass:"avatar",attrs:{circle:"",size:"30"}},[i("img",{attrs:{src:t.doctorSelected.avatarUrl?t.doctorSelected.avatarUrl:"/img/avatar-default.svg",alt:"Avatar de "+t.doctorSelected.firstname+" "+t.doctorSelected.lastname}})]),t._v(" "),i("div",{staticClass:"name"},[t._v("\n                "+t._s(t.getUserName(t.doctorSelected))+"\n            ")])],1):i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],class:{"b-r-b-zero":t.selectBox,"placeholder-gray":t.selectBox},attrs:{id:"doctor-choice-select",placeholder:t.selectBox?"Recherchez votre praticien":"Sélectionnez votre praticien",autocomplete:"off"},domProps:{value:t.filter},on:{click:function(e){t.selectBox=!0},keyup:t.selectBoxWithThrottle,input:function(e){e.target.composing||(t.filter=e.target.value)}}}),t._v(" "),i("div",{staticClass:"arrow-toggle-box",class:{active:t.selectBox},on:{click:t.toggleSelectBox}},[i("i",{staticClass:"vs-icon-arrow"})]),t._v(" "),i("transition",{attrs:{name:"height"}},[t.selectBox?i("div",{staticClass:"select-box",on:{click:t.focusInputSelect}},[t.getDoctors.length?i("ul",t._l(t.getDoctors,(function(e,s){return i("li",{key:s},[i("div",{staticClass:"doctor",on:{click:function(i){return t.selectDoctor(e)}}},[i("vs-avatar",{staticClass:"avatar",attrs:{circle:"",size:"35"}},[i("img",{attrs:{src:e.avatarUrl?e.avatarUrl:"/img/avatar-default.svg",alt:"Avatar de "+e.firstname+" "+e.lastname}})]),t._v(" "),i("div",{staticClass:"name"},[t._v("\n                                "+t._s(t.getUserName(e))+"\n                            ")])],1)])})),0):i("div",[i("p",{staticClass:"not-found"},[i("i",{staticClass:"fas fa-users-slash"}),t._v(" "),i("span",[t._v("\n                            Aucun praticien n'a été trouvé avec \""),i("strong",[t._v(t._s(t.filter))]),t._v('"')])])])]):t._e()]),t._v(" "),t.errorMessage&&!t.doctorSelected?i("div",{staticClass:"empty-error-mess"},[t._v("\n            "+t._s(t.errorMessage)+"\n        ")]):t._e()],1)])};G._withStripped=!0;var K={props:{doctorSelected:[Object,null],errorMessage:[String,null]},directives:{ClickOutside:d()},data:function(){return{doctors:[],filter:"",selectBox:!1,selectInput:null,loading:!1}},computed:{getDoctors:function(){return r.Z.getSearch(this.doctors,this.filter)}},methods:{toggleSelectBox:function(){this.selectBox=!this.selectBox,this.doctorSelected&&this.resetSelect(),this.selectBox&&this.focusInputSelect()},hideSelectBox:function(){this.selectBox=!1},selectDoctor:function(t){this.$emit("setDoctorSelected",t),this.hideSelectBox()},resetSelect:function(){var t=this;this.$emit("setDoctorSelected",null),setTimeout((function(){t.selectInput=document.getElementById("doctor-choice-select"),t.selectBox=!0,t.focusInputSelect()}),100)},focusInputSelect:function(){this.selectInput.focus()},getUserName:function(t){return r.Z.getUserName(t)},selectBoxWithThrottle:function(){var t=this;this.selectBoxThrottle||(this.selectBoxThrottle=!0,this.selectBox=!0,console.log("selectBox"),setTimeout((function(){t.selectBoxThrottle=!1}),1e3))}},mounted:function(){var t=this;this.loading=!0,this.axios.get("/get/doctors").then((function(e){t.doctors=e.data,t.loading=!1})).catch((function(t){t.response&&console.log(t.response.data.detail?t.response.data.detail:t.response.data)})),this.selectInput=document.getElementById("doctor-choice-select")}},Q=(0,p.Z)(K,G,[],!1,null,null,null);function tt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function et(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(i),!0).forEach((function(e){it(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):tt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function it(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function st(t){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Q.options.__file="assets/vue/components/DoctorSelectBox.vue";var nt={components:{DoctorChoice:g,MyScores:T,MyDashboardNotifications:L,MyWorksheets:I,MyExerciseStats:X,DoctorSelectBox:Q.exports},data:function(){return{patient:null,currentUser:null,doctorView:null,csrfTokenContact:null,csrfTokenSelectDoctor:null,csrfTokenAcceptDoctor:null,csrfTokenDeclineDoctor:null,csrfTokenRemoveWorksheet:null,myDBNotificationsContent:!0,myScoresContent:!0,myDoctorContent:!0,myWorksheetsContent:!0,loadingDoctor:!1,loadingPatientWorksheets:!1,loadingPatientWorksheetsProgression:!1,patientWorksheets:[],modalChangeDoctor:!1,doctorSelected:null,loadingChangeDoctor:!1,patientHasNoDoctorChoice:!1}},methods:{openModalChangeDoctor:function(){this.modalChangeDoctor=!0,document.body.classList.add("no-scrollbar")},setPatientHasNoDoctorChoice:function(t){this.patientHasNoDoctorChoice=t,this.valideChangeDoctor()},closeModalChangeDoctor:function(){this.modalChangeDoctor=!1,this.doctorSelected=this.patient.doctor,document.body.classList.remove("no-scrollbar")},getTimeLeftBeforeNextSession:function(t){var e=r.Z.getTimeLeftBeforeNextSession(t);return e.days>=1?1===Math.round(e.days)?"".concat(Math.round(e.days)," jour"):"".concat(Math.round(e.days)," jours"):e.hours>=1?1===e.hours?"".concat(Math.round(e.hours)," heure"):"".concat(Math.round(e.hours)," heures"):e.minutes>=1?1===e.minutes?"".concat(Math.round(e.minutes)," minute"):"".concat(Math.round(e.minutes)," minutes"):e.seconds>=1?1===e.seconds?"".concat(Math.round(e.seconds)," seconde"):"".concat(Math.round(e.seconds)," secondes"):null},calculWorksheetProgression:function(t){var e=0;t.exercises.length&&(e=100/t.exercises.length*t.exercises.filter((function(t){return t.isCompleted})).length);return e},getUserName:function(t){return r.Z.getUserName(t)},onResize:function(){window.innerWidth>576&&(this.myScoresContent=!0,this.myDBNotificationsContent=!0,this.myDoctorContent=!0,this.myWorksheetsContent=!0)},getAge:function(t){return r.Z.generateAgeFromDateOfBirth(t)},rederictToDashboard:function(){document.location.href="/doctor/".concat(this.currentUser.id,"/dashboard")},rederictToHelpSupport:function(){document.location.href="/support"},setDoctorSelected:function(t){this.doctorSelected=t},valideChangeDoctor:function(){var t,e,i=this;this.loadingChangeDoctor=!0,this.axios.post("/patient/".concat(this.patient.id,"/select/doctor"),{_token:this.csrfTokenSelectDoctor,doctorId:null!==(t=null===(e=this.doctorSelected)||void 0===e?void 0:e.id)&&void 0!==t?t:null}).then((function(t){i.patient.addRequestDoctor=!0,"patient-without-doctor"!=t.data&&(r.Z.openSuccessNotification("Choix du praticien enregistré",t.data),i.patient.doctor=i.doctorSelected,i.modalChangeDoctor=!1,i.loadingChangeDoctor=!1)})).catch((function(t){var e="object"===st(t.response.data)?t.response.data.detail:t.response.data;i.loadingChangeDoctor=!1,r.Z.openErrorNotification("Erreur",e)}))}},created:function(){var t=this;s.default.prototype.$vs=this.$vs,document.body.classList.add("fuzzy-balls"),window.addEventListener("resize",this.onResize),o().locale("fr-FR");var e=JSON.parse(document.getElementById("vueData").innerHTML);this.patient=e.patient,this.currentUser=e.currentUser,this.doctorView=e.doctorView,this.csrfTokenAcceptDoctor=e.csrfTokenAcceptDoctor,this.csrfTokenContact=e.csrfTokenContact,this.csrfTokenDeclineDoctor=e.csrfTokenDeclineDoctor,this.csrfTokenRemoveWorksheet=e.csrfTokenRemoveWorksheet,this.csrfTokenSelectDoctor=e.csrfTokenSelectDoctor,this.doctorSelected=this.patient.doctor,this.loadingPatientWorksheets=!0,this.axios.get("/patient/".concat(this.patient.id,"/get/worksheets")).then((function(e){t.patientWorksheets=e.data,t.loadingPatientWorksheets=!1,t.loadingPatientWorksheetsProgression=!0,t.patientWorksheets=t.patientWorksheets.map((function(e){return et(et({},e),{},{worksheetProgression:t.calculWorksheetProgression(e),timeLeftBeforeNextSession:null,totalWorksheetSessions:null,currentWorksheetSession:{}})})),t.patientWorksheets.length&&t.patientWorksheets.forEach((function(e){t.axios.get("/patient/".concat(t.patient.id,"/get/current-worksheet-session/").concat(e.id,"/time-left-before-next")).then((function(i){if(e.currentWorksheetSession=i.data.currentWorksheetSession,e.countOldWorksheetSessions=i.data.countOldWorksheetSessions,i.data.currentWorksheetSession&&(e.timeLeftBeforeNextSession=t.getTimeLeftBeforeNextSession(i.data.currentWorksheetSession.endAt)),i.data.notifTimeLeft&&!t.doctorView){var s=document.getElementById("user-notif-list");document.getElementById("notif-bell").classList.add("has-notifications");var n=document.createElement("li");n.classList.add("prio"),n.classList.add("active"),n.classList.add("clickable"),n.addEventListener("mouseover",(function(){n.classList.remove("active")}),!1),n.addEventListener("click",(function(){document.location.href="/patient/".concat(t.patient.id,"/fiche/").concat(i.data.notifTimeLeft.worksheetId)}),!1);var a=document.createElement("div");a.classList.add("notif-icon");var o=document.createElement("img");o.src="/img/icons/colored/clock.svg",o.alt="Icone d'une montre / horloge",o.classList.add("icon-clock");var r=document.createElement("p"),c=document.createElement("span");c.innerText="Plus que quelques ".concat(i.data.notifTimeLeft.time,' pour réaliser vos exercices de "').concat(i.data.notifTimeLeft.worksheet,"\", je m'y met maintenant !"),r.appendChild(c),a.appendChild(o),n.appendChild(a),n.appendChild(r),s.appendChild(n)}t.axios.get("/patient/".concat(t.patient.id,"/get/total-worksheet-sessions/").concat(e.id)).then((function(i){e.totalWorksheetSessions=i.data,t.loadingPatientWorksheetsProgression=!1})).catch((function(t){var e="object"===st(t.response.data)?t.response.data.detail:t.response.data;console.error(e)}))})).catch((function(t){var e="object"===st(t.response.data)?t.response.data.detail:t.response.data;console.error(e)}))}))})).catch((function(t){var e="object"===st(t.response.data)?t.response.data.detail:t.response.data;console.error(e)}))},mounted:function(){var t=new URLSearchParams(window.location.search);if(t.size){var e=document.getElementById(t.get("st"));if(e){var i=e.offsetTop-90;window.scrollTo({top:i,behavior:"smooth"})}}},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)}},at=(0,p.Z)(nt,n,[],!1,null,"2bc8e05c",null);at.options.__file="assets/vue/patient/DashboardPage.vue";var ot=at.exports,rt=i(9669),ct=i.n(rt),lt=i(2346),dt=(i(1370),i(463)),vt=i.n(dt);i(5171);ct().interceptors.request.use((function(t){return t.headers["X-Requested-With"]="XMLHttpRequest",t})),s.default.use(lt.Z,ct()),s.default.use(vt()),s.default.use(i(872),{messageNoData:"Aucune donnée",classNoData:"empty"}),new s.default({render:function(t){return t(ot)}}).$mount("#vue")},8737:function(t,e,i){t.exports=i.p+"images/bras.0ec10e9f.svg"},9402:function(t,e,i){t.exports=i.p+"images/hand.5b877b0c.svg"},8513:function(t,e,i){t.exports=i.p+"images/reward.a2c9e50a.svg"},1407:function(t,e,i){t.exports=i.p+"images/46.0399c65a.svg"},70:function(t,e,i){t.exports=i.p+"images/47.b41f86d5.svg"},889:function(t,e,i){t.exports=i.p+"images/48.fdbe8352.svg"},5988:function(t,e,i){t.exports=i.p+"images/49.d0512f3a.svg"},1867:function(t,e,i){t.exports=i.p+"images/50.dc6f934c.svg"},4857:function(t,e,i){t.exports=i.p+"images/51.8b05a017.svg"},1703:function(t,e,i){t.exports=i.p+"images/52.c28f7a8b.svg"},6240:function(t,e,i){t.exports=i.p+"images/53.324059de.svg"},2213:function(t,e,i){t.exports=i.p+"images/54.096a1702.svg"},9552:function(t,e,i){t.exports=i.p+"images/60.9d802eef.svg"},5057:function(t,e,i){t.exports=i.p+"images/61.a30efa8e.svg"}},function(t){t.O(0,[429,285,155,480],(function(){return e=726,t(t.s=e);var e}));t.O()}]);